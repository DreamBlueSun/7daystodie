<Marisa>


	<!-- *** 背包120格 -->
   <set xpath="/buffs/buff[@name='god']/effect_group/passive_effect[@name='CarryCapacity']/@value">120</set>
   <set xpath="/buffs/buff[@name='buffDrugSteroids']/effect_group/passive_effect[@name='CarryCapacity']/@value">120</set>



	<!-- *** 与技能联动相关 -->
	<!-- ** 感知 死神之眼 -->
	<set xpath="/buffs/buff[@name='buffDeadEye']/effect_group/triggered_effect/requirement[@name='ProgressionLevel']/@progression_name">perkSniperComplete</set>
	<!-- ** 力量 护甲 -->
	<remove xpath="/buffs/buff[@name='buffStatusCheck02']/effect_group[3]/passive_effect[@name='PhysicalDamageResist']"/>
<!--	<insertAfter xpath="/buffs/buff[@name='buffStatusCheck02']/effect_group[3]/triggered_effect[@action='ModifyCVar' and @cvar='.ArmorLightLevel' and @value='4']">-->
<!--		<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".ArmorLightLevel" operation="set" value="5">-->
<!--			<requirement name="CVarCompare" cvar=".ArmorLightLevel" operation="Equals" value="0"/>-->
<!--			<requirement name="ProgressionLevel" progression_name="perkLightArmor" operation="EQ" value="5"/>-->
<!--		</triggered_effect>-->
<!--	</insertAfter>-->

	<!-- ** 玩家跌落伤害 buffPlayerFallingDamage -->
	<append xpath="/buffs/buff[@name='buffPlayerFallingDamage']/effect_group[3]">
		<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".impactSpeed" operation="subtract" value="@$iridescentMarisaHeadFallDMG"/>
		<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".impactSpeed" operation="subtract" value="@$iridescentMarisaChestFallDMG"/>
		<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".impactSpeed" operation="subtract" value="@$iridescentMarisaHandsFallDMG"/>
		<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".impactSpeed" operation="subtract" value="@$iridescentMarisaFeetFallDMG"/>
	</append>

	<!-- *** 自动武器第6本技能书的击倒概率降低 -->
	<set xpath="/buffs/buff[@name='buffAutoWeaponsRagdoll']/effect_group/triggered_effect/requirement[@name='RandomRoll']/@value">1</set>

	<!-- *** 步枪7本完成 -->
	<remove xpath="/buffs/buff[@name='buffDeadEye']"/>
	<insertAfter xpath="/buffs/buff[@name='buffPerkGunslingerBonus']">
		<buff name="buffDeadEye" name_key="buffDeadEyeName" description_key="buffDeadEyeDesc" icon="ui_game_symbol_map_cursor" icon_color="0,255,0" icon_blink="true">
			<stack_type value="replace"/>
			<duration value="12"/>
			<display_value value=".DeadEyeEffectDisplay"/>
			<display_value_key value="+{0}%"/>

			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".DeadEyeKillCounter" operation="set" value=".1"/>
				<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar=".DeadEyeKillCounter" operation="add" value=".1">
					<requirement name="CVarCompare" cvar=".DeadEyeKillCounter" operation="LT" value=".3"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".DeadEyeEffectApply" operation="set" value="@.DeadEyeKillCounter"/>
				<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar=".DeadEyeEffectApply" operation="set" value="@.DeadEyeKillCounter"/>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".DeadEyeEffectDisplay" operation="set" value="@.DeadEyeEffectApply"/>
				<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar=".DeadEyeEffectDisplay" operation="set" value="@.DeadEyeEffectApply"/>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".DeadEyeEffectDisplay" operation="multiply" value="100"/>
				<triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar=".DeadEyeEffectDisplay" operation="multiply" value="100"/>

				<passive_effect name="EntityDamage" operation="perc_add" value="@.DeadEyeEffectApply" tags="ranged">
					<requirement name="ItemHasTags" tags="perkDeadEye"/>
				</passive_effect>

				<triggered_effect trigger="onSelfBuffRemove" action="RemoveCVar" cvar=".DeadEyeKillCounter,.DeadEyeEffectDisplay,.DeadEyeEffectApply"/>
			</effect_group>
		</buff>
	</insertAfter>


	<!-- 潜伏3级 隐蔽的猫 -->
	<remove xpath="/buffs/buff[@name='buffDrugCovertCats']"/>
	<insertAfter xpath="/buffs/buff[@name='buffDrugAtomJunkies']">
		<buff name="buffDrugCovertCats" name_key="drugCovertCats" description_key="drugCovertCatsDesc" icon="ui_game_symbol_candy_covert_cats">
			<stack_type value="replace"/>
			<duration value="0"/>
			<display_value value=".buffDrugCovertCatsDisplay"/>
			<display_value_format value="time"/>

			<effect_group>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugCovertCatsDuration" operation="subtract" value="@$MetabolismDuration"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".buffDrugCovertCatsDisplay" operation="set" value="@$buffDrugCovertCatsDuration"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".buffDrugCovertCatsDisplay" operation="divide" value="@$MetabolismDuration"/>
			</effect_group>

			<effect_group>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffDrugCovertCats">
					<requirement name="CVarCompare" cvar="$buffDrugCovertCatsDuration" operation="LTE" value="0"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveCVar" cvar=".buffDrugCovertCatsDisplay,$buffDrugCovertCatsDuration"/>
			</effect_group>

			<effect_group>
				<requirement name="CVarCompare" cvar="_crouching" operation="Equals" value="1"/>
				<requirement name="CVarCompare" cvar="_notAlerted" operation="GT" value="0" target="other"/>
				<requirement name="ProgressionLevel" progression_name="perkMarisaSneakUp" operation="LT" value="3"/>
				<requirement name="ItemHasTags" tags="perkArchery,perkDeadEye,perkDeepCuts,sneakMarisa"/>
				<passive_effect name="DamageBonus" operation="base_add" value="30"/>
				<passive_effect name="EntityDamage" operation="base_add" value="30"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="_crouching" operation="Equals" value="1"/>
				<requirement name="ProgressionLevel" progression_name="perkMarisaSneakUp" operation="GTE" value="3"/>
				<requirement name="ItemHasTags" tags="perkArchery,perkDeadEye,perkDeepCuts,sneakMarisa"/>
				<passive_effect name="DamageBonus" operation="base_add" value="30"/>
				<passive_effect name="EntityDamage" operation="base_add" value="30"/>
			</effect_group>
		</buff>
	</insertAfter>

	<!-- ** 学霸刺青 -->
	<append xpath="/buffs/buff[@name='buffDrugNerdTats']">
		<effect_group>
			<passive_effect name="PerkLevel" operation="base_add" value="2" tags="perkMarisaIntensifyAoe"/>
			<passive_effect name="PerkLevel" operation="base_add" value="2" tags="perkMarisaEffectAoe"/>
		</effect_group>
	</append>

	<!-- 添加 精准医疗 效果 -->
	<remove xpath="/buffs/buff[@name='buffHealHealth']"/>
	<append xpath="/buffs">
		<buff name="buffHealHealth" name_key="buffHealHealthName" description_key="buffHealHealthDesc" icon="ui_game_symbol_add">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<display_value value=".healHealthAmountDisplay"/>

			<effect_group>
				<requirement name="CVarCompare" cvar=".NoHealingManager" operation="Equals" value="0"/>
				<requirement name="CVarCompare" cvar="foodHealthAmount" operation="GTE" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" operation="add" value=".5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="subtract" value=".5"/>
			</effect_group>

			<effect_group>
				<requirement name="CVarCompare" cvar=".NoHealingManager" operation="Equals" value="0"/>
				<requirement name="CVarCompare" cvar="medicalRegHealthAmount" operation="GT" value="0"/>
				<requirement name="ProgressionLevel" progression_name="perkMarisaHealthIncreaseSaving" operation="Equals" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" operation="add" value="@medRegHealthIncSpeed"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="medicalRegHealthAmount" operation="subtract" value="2"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".NoHealingManager" operation="Equals" value="0"/>
				<requirement name="CVarCompare" cvar="medicalRegHealthAmount" operation="GT" value="0"/>
				<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LT" value="1"/>
				<requirement name="StatComparePercCurrentToModMax" stat="Health" operation="LT" value=".99"/>
				<requirement name="ProgressionLevel" progression_name="perkMarisaHealthIncreaseSaving" operation="Equals" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" operation="add" value="@medRegHealthIncSpeed"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="medicalRegHealthAmount" operation="subtract" value="2"/>
			</effect_group>

			<effect_group name="display">
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".healHealthAmountDisplay" operation="set" value="@medicalRegHealthAmount"/>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".healHealthAmountDisplay" operation="divide" value="2"/>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".healHealthAmountDisplay" operation="multiply" value="@medRegHealthIncSpeed"/>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".healHealthAmountDisplay" operation="add" value="@foodHealthAmount"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".healHealthAmountDisplay" operation="set" value="@medicalRegHealthAmount"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".healHealthAmountDisplay" operation="divide" value="2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".healHealthAmountDisplay" operation="multiply" value="@medRegHealthIncSpeed"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".healHealthAmountDisplay" operation="add" value="@foodHealthAmount"/>
			</effect_group>

			<effect_group>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffHealHealth">
					<requirement name="CVarCompare" cvar="medicalRegHealthAmount" operation="LTE" value="0"/>
					<requirement name="CVarCompare" cvar="foodHealthAmount" operation="LT" value="0"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="medRegHealthIncSpeed" operation="set" value="2"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveCVar" cvar="foodHealthAmount,medicalRegHealthAmount,.healHealthAmountDisplay"/>
			</effect_group>
		</buff>
	</append>

	<!-- 添加 转祸为福 触发条件 -->
	<append xpath="/buffs/buff[@name='buffInfectionMain' or @name='buffInjuryAbrasion' or @name='buffInjuryAbrasionTreated' or @name='buffFatigued' or @name='buffInjuryBleeding' or @name='buffLaceration' or @name='buffInjuryStunned01' or @name='buffInjuryConcussion' or @name='buffLegSprained' or @name='buffLegBroken' or @name='buffArmSprained' or @name='buffArmBroken']">
		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkMarisaTurnBadLuckIntoABlessing" operation="Equals" value="1"/>
			<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffPerkMarisaTurnBadLuckIntoABlessing2"/>
			<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffPerkMarisaTurnBadLuckIntoABlessing3"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaTurnBadLuckIntoABlessing"/>
		</effect_group>
		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkMarisaTurnBadLuckIntoABlessing" operation="Equals" value="2"/>
			<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffPerkMarisaTurnBadLuckIntoABlessing"/>
			<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffPerkMarisaTurnBadLuckIntoABlessing3"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaTurnBadLuckIntoABlessing2"/>
		</effect_group>
		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkMarisaTurnBadLuckIntoABlessing" operation="Equals" value="3"/>
			<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffPerkMarisaTurnBadLuckIntoABlessing"/>
			<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffPerkMarisaTurnBadLuckIntoABlessing2"/>
			<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaTurnBadLuckIntoABlessing3"/>
		</effect_group>
	</append>



	<!-- *** 玩家等级不再增加 血量、体力、饱食度、水分 -->
	<remove xpath="/buffs/buff[@name='buffStatusCheck01']/effect_group/passive_effect[@name='HealthMax' or @name='StaminaMax' or @name='WaterMax' or @name='FoodMax']"/>
	<!-- *** DEBUFF的血量上限降低 -->
	<set xpath="/buffs/buff[@name='buffInjuryAbrasion' or @name='buffInjuryAbrasionTreated']/effect_group/passive_effect[@name='HealthMaxBlockage']/@value">10</set>
	<set xpath="/buffs/buff[@name='buffLegSprained' or @name='buffLegBroken' or @name='buffLegSplinted' or @name='buffLegCast']/effect_group/passive_effect[@name='HealthMaxBlockage']">10</set>
	<set xpath="/buffs/buff[@name='buffArmSprained' or @name='buffArmBroken' or @name='buffArmSplinted' or @name='buffArmCast']/effect_group/passive_effect[@name='HealthMaxBlockage']">10</set>
	<set xpath="/buffs/buff[@name='buffFatigued']/effect_group/passive_effect[@name='HealthMaxBlockage']">5</set>
	<set xpath="/buffs/buff[@name='buffLaceration' or @name='buffInjuryConcussion']/effect_group/passive_effect[@name='HealthMaxBlockage']">10</set>
	<!-- *** 饥饿和口渴的体力上限降低 -->
	<set xpath="/buffs/buff[@name='buffStatusHungry01']/effect_group/passive_effect[@name='StaminaMaxBlockage']/@value">20</set>
	<set xpath="/buffs/buff[@name='buffStatusHungry02']/effect_group/passive_effect[@name='StaminaMaxBlockage']/@value">40</set>
	<set xpath="/buffs/buff[@name='buffStatusHungry03']/effect_group/passive_effect[@name='StaminaMaxBlockage']/@value">60</set>
	<set xpath="/buffs/buff[@name='buffStatusThirsty01']/effect_group/passive_effect[@name='StaminaMaxBlockage']/@value">10</set>
	<set xpath="/buffs/buff[@name='buffStatusThirsty02']/effect_group/passive_effect[@name='StaminaMaxBlockage']/@value">20</set>
	<set xpath="/buffs/buff[@name='buffStatusThirsty03']/effect_group/passive_effect[@name='StaminaMaxBlockage']/@value">30</set>

	<!-- *** 脑震荡不再降低属性 -->
	<remove xpath="/buffs/buff[@name='buffInjuryConcussion']/effect_group/passive_effect[@name='AttributeLevel']"/>
	<remove xpath="/buffs/buff[@name='buffInjuryConcussion']/effect_group/triggered_effect[@action='RefreshPerks']"/>

	<!-- *** 糖果交易加成降低 -->
	<set xpath="/buffs/buff[@name='buffDrugSugarButts']/effect_group/passive_effect[@name='BarteringBuying']/@value">.05</set>
	<set xpath="/buffs/buff[@name='buffDrugSugarButts']/effect_group/passive_effect[@name='BarteringSelling']/@value">.05</set>

	<!-- *** 碾压王 速度改为20% -->
	<set xpath="/buffs/buff[@name='buffMegaCrush']/effect_group/passive_effect[@name='RunSpeed']/@value">.2</set>
	<!-- *** 啤酒 移除暴击伤害 添加酒精耐性效果 -->
	<remove xpath="/buffs/buff[@name='buffBeer']/effect_group/passive_effect[@name='EntityDamage']"/>
	<set xpath="/buffs/buff[@name='buffBeer']/effect_group/triggered_effect/requirement[@name='ProgressionLevel' and @progression_name='perkBarBrawling7BoozedUp']/@progression_name">perkMarisaScreenEffectDrunk</set>
	<!-- *** 私酒 移除近战伤害 降低回复 添加酒精耐性效果 -->
	<remove xpath="/buffs/buff[@name='buffDrunkGrandpasMoonshine']/effect_group/passive_effect[@name='EntityDamage']"/>
	<set xpath="/buffs/buff[@name='buffDrunkGrandpasMoonshine']/effect_group/passive_effect[@name='StaminaChangeOT']/@value">.4</set>
	<set xpath="/buffs/buff[@name='buffDrunkGrandpasMoonshine']/effect_group/passive_effect[@name='HealthChangeOT']/@value">5</set>
	<append xpath="/buffs/buff[@name='buffDrunkGrandpasMoonshine']/effect_group/triggered_effect[@action='ModifyScreenEffect' and @trigger!='onSelfBuffRemove']">
		<requirement name="ProgressionLevel" progression_name="perkMarisaScreenEffectDrunk" operation="Equals" value="0"/>
	</append>
	<!-- *** 类固醇 载货量改为75 -->
	<set xpath="/buffs/buff[@name='buffDrugSteroids']/effect_group/passive_effect[@name='CarryCapacity']/@value">120</set>
	<!-- *** 雷克格 移除水分扣减 降低伤害加成 -->
	<remove xpath="/buffs/buff[@name='buffDrugRecog']/effect_group/passive_effect[@name='WaterChangeOT']"/>
	<set xpath="/buffs/buff[@name='buffDrugRecog']/effect_group/passive_effect[@name='EntityDamage']/@value">.15</set>
	<!-- *** 强健宝 移除水分扣减 降低减免加成 -->
	<remove xpath="/buffs/buff[@name='buffDrugFortBites']/effect_group/passive_effect[@name='WaterChangeOT']"/>
	<set xpath="/buffs/buff[@name='buffDrugFortBites']/effect_group/passive_effect[@name='GeneralDamageResist']/@value">.2</set>
	<!-- *** 止痛药 移除水分扣减 -->
	<insertAfter xpath="/buffs/buff[@name='buffDrugPainkillers']">
		<buff name="buffMarisaDrugPainkillers" name_key="buffMarisaDrugPainkillersName" description_key="buffMarisaDrugPainkillersDesc" icon="ui_game_symbol_pills">
			<stack_type value="ignore"/>
			<duration value="60"/>

			<effect_group>
				<passive_effect name="BuffResistance" operation="base_add" value="1" tags="buffInjuryStunned01CHTrigger,buffInjuryStunned00,buffInjuryStunned01,buffInjuryStunned01Shotgun,buffInjuryStunned02,buffInjuryStunned02Shotgun,buffInjuryStunned03,buffInjuryStunned03Shotgun"/>
			</effect_group>
		</buff>
	</insertAfter>



	<!-- 添加 状态检查 -->
	<append xpath="/buffs/buff[@name='buffStatusCheck01']">

		<!-- 测试打印 cvar -->
<!--		<effect_group>-->
<!--			<triggered_effect trigger="onSelfBuffUpdate" action="LogMessage" message="==========================="/>-->
<!--			<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" cvar="IntroComplete"/>-->
<!--			<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" cvar="QuestCompleteClear"/>-->
<!--			<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" cvar="QuestCompleteClearInfested"/>-->
<!--			<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" cvar="QuestCompleteClearSuperInfested"/>-->
<!--			<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" cvar="QuestCompleteDefensivePoint"/>-->
<!--			<triggered_effect trigger="onSelfBuffUpdate" action="CVarLogValue" cvar="QuestCompleteCrouchingRestorePower"/>-->
<!--		</effect_group>-->

		<effect_group>
<!--			<passive_effect name="EntityDamage" operation="perc_add" value="1"/>-->
<!--			<passive_effect name="DamageModifier" operation="perc_add" value="-.5"/>-->
<!--				<passive_effect name="DamageModifier" operation="base_add" value="100"/>-->
<!--			<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="twitch_weapon_bows"/>-->
		</effect_group>

		<!-- 初始化变量 -->
		<effect_group>
			<triggered_effect trigger="onSelfEnteredGame" action="ModifyCVar" cvar=".MarisaBowMagazineSize" operation="set" value="1"/>
			<triggered_effect trigger="onSelfEnteredGame" action="ModifyCVar" cvar=".MarisaCrossBowMagazineSize" operation="set" value="1"/>
		</effect_group>

		<!-- 添加 状态检查 0.1s -->
		<effect_group>
			<requirement name="NotHasBuff" buff="buffStatusCheckMarisa01"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffStatusCheckMarisa01"/>
		</effect_group>
		<!-- 添加 状态检查 0.2s -->
		<effect_group>
			<requirement name="NotHasBuff" buff="buffStatusCheckMarisa02"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffStatusCheckMarisa02"/>
		</effect_group>
		<!-- 添加 状态检查 1s -->
		<effect_group>
			<requirement name="NotHasBuff" buff="buffStatusCheckMarisa10"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffStatusCheckMarisa10"/>
		</effect_group>

		<!-- 添加 不屈 -->
		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkMarisaNirvana" operation="Equals" value="1"/>
			<triggered_effect trigger="onSelfRespawn" action="RemoveBuff" buff="buffPerkMarisaNirvana2"/>
			<triggered_effect trigger="onSelfRespawn" action="AddBuff" buff="buffPerkMarisaNirvana"/>
		</effect_group>
		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkMarisaNirvana" operation="Equals" value="2"/>
			<triggered_effect trigger="onSelfRespawn" action="RemoveBuff" buff="buffPerkMarisaNirvana"/>
			<triggered_effect trigger="onSelfRespawn" action="AddBuff" buff="buffPerkMarisaNirvana2"/>
		</effect_group>

		<!-- 添加 力量解放 缓触发前置 -->
		<effect_group>
			<requirement name="ProgressionLevel" progression_name="perkMarisaLiberationPower" operation="GTE" value="1"/>
			<requirement name="NotHasBuff" buff="buffPerkMarisaLiberationPowerCold"/>
			<triggered_effect trigger="onSelfDamagedOther" action="AddBuff" buff="buffPerkMarisaLiberationPowerBefore"/>
			<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" buff="buffPerkMarisaLiberationPowerBefore"/>
		</effect_group>

		<!-- 添加 状态检查 晶石系统加倍 -->
		<effect_group>
			<requirement name="CVarCompare" cvar=".iridescentPerksGroupT1HelmetResearchInstituteLeader" operation="GTE" value="1"/>
			<requirement name="CVarCompare" cvar=".iridescentPerksGroupT1OutfitResearchInstituteLeader" operation="GTE" value="1"/>
			<requirement name="CVarCompare" cvar=".iridescentPerksGroupT1GlovesResearchInstituteLeader" operation="GTE" value="1"/>
			<requirement name="CVarCompare" cvar=".iridescentPerksGroupT1BootsResearchInstituteLeader" operation="GTE" value="1"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffT3SuitPerkMarisaMod2xStart"/>
		</effect_group>
		<effect_group>
			<requirement name="CVarCompare" cvar=".iridescentPerksGroupT2HelmetResearchInstituteLeader" operation="GTE" value="1"/>
			<requirement name="CVarCompare" cvar=".iridescentPerksGroupT2OutfitResearchInstituteLeader" operation="GTE" value="1"/>
			<requirement name="CVarCompare" cvar=".iridescentPerksGroupT2GlovesResearchInstituteLeader" operation="GTE" value="1"/>
			<requirement name="CVarCompare" cvar=".iridescentPerksGroupT2BootsResearchInstituteLeader" operation="GTE" value="1"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffT3SuitPerkMarisaMod2xStart"/>
		</effect_group>
		<effect_group>
			<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetResearchInstituteLeader" operation="GTE" value="1"/>
			<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitResearchInstituteLeader" operation="GTE" value="1"/>
			<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesResearchInstituteLeader" operation="GTE" value="1"/>
			<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsResearchInstituteLeader" operation="GTE" value="1"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffT3SuitPerkMarisaMod2xStart"/>
		</effect_group>

		<!-- 添加 状态检查 极意 -->
		<effect_group>
			<requirement name="NotHasBuff" buff="buffT3SuitPerkMarisaCheck"/>
			<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffT3SuitPerkMarisaCheck"/>
		</effect_group>



	</append>



	<insertAfter xpath="/buffs/buff[@name='buffPlayerFallingDamage']/effect_group/triggered_effect[@action='ModifyCVar' and @cvar='.impactSpeed' and @value='@$parkourBonus']">
		<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".impactSpeed" operation="subtract" value="@$buffFeastEffectBonus"/>
	</insertAfter>
	<!-- 正面BUFF -->
	<append xpath="/buffs">

		<!-- 状态检查 0.1s -->
		<buff name="buffStatusCheckMarisa01" hidden="true">
			<stack_type value="ignore"/>
			<update_rate value=".1"/>
			<duration value="0"/>

			<!-- * 玩家所在地形变量 -->
			<effect_group>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaInBiome" operation="set" value="2"><requirement name="InBiome" biome="1"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaInBiome" operation="set" value="1"><requirement name="InBiome" biome="3"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaInBiome" operation="set" value="2"><requirement name="InBiome" biome="5"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaInBiome" operation="set" value="3"><requirement name="InBiome" biome="8"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaInBiome" operation="set" value="1"><requirement name="InBiome" biome="9"/></triggered_effect>
			</effect_group>
			<!-- * 完成任务修改变量Will -->
			<effect_group>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="IntroComplete" operation="set" value="@IntroCompleteWill">
					<requirement name="CVarCompare" cvar="IntroComplete" operation="LT" value="@IntroCompleteWill"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="QuestCompleteClear" operation="set" value="@QuestCompleteClearWill">
					<requirement name="CVarCompare" cvar="QuestCompleteClear" operation="LT" value="@QuestCompleteClearWill"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="QuestCompleteClearInfested" operation="set" value="@QuestCompleteClearInfestedWill">
					<requirement name="CVarCompare" cvar="QuestCompleteClearInfested" operation="LT" value="@QuestCompleteClearInfestedWill"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="QuestCompleteClearSuperInfested" operation="set" value="@QuestCompleteClearSuperInfestedWill">
					<requirement name="CVarCompare" cvar="QuestCompleteClearSuperInfested" operation="LT" value="@QuestCompleteClearSuperInfestedWill"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="QuestCompleteDefensivePoint" operation="set" value="@QuestCompleteDefensivePointWill">
					<requirement name="CVarCompare" cvar="QuestCompleteDefensivePoint" operation="LT" value="@QuestCompleteDefensivePointWill"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="QuestCompleteCrouchingRestorePower" operation="set" value="@QuestCompleteCrouchingRestorePowerWill">
					<requirement name="CVarCompare" cvar="QuestCompleteCrouchingRestorePower" operation="LT" value="@QuestCompleteCrouchingRestorePowerWill"/>
				</triggered_effect>
			</effect_group>

			<!-- * 力量护符变量 -->
			<effect_group>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".IridescentPowerAmulet" operation="set" value="0">
					<requirement name="PlayerItemCount" item_name="resourceIridescentPowerAmulet" operation="EQ" value="0"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".IridescentPowerAmulet" operation="set" value="1">
					<requirement name="PlayerItemCount" item_name="resourceIridescentPowerAmulet" operation="GTE" value="1"/>
				</triggered_effect>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".IridescentPowerAmulet" operation="GTE" value="1"/>
				<passive_effect name="EntityDamage" operation="base_add" value="8"/>
			</effect_group>
			<effect_group>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".IridescentPowerAmuletSuper" operation="set" value="0">
					<requirement name="PlayerItemCount" item_name="resourceIridescentPowerAmuletSuper" operation="EQ" value="0"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".IridescentPowerAmuletSuper" operation="set" value="1">
					<requirement name="PlayerItemCount" item_name="resourceIridescentPowerAmuletSuper" operation="GTE" value="1"/>
				</triggered_effect>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".IridescentPowerAmuletSuper" operation="GTE" value="1"/>
				<passive_effect name="EntityDamage" operation="base_add" value="12"/>
			</effect_group>
			<!-- * 守护护符变量 -->
			<effect_group>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".IridescentDefAmulet" operation="set" value="0">
					<requirement name="PlayerItemCount" item_name="resourceIridescentDefAmulet" operation="EQ" value="0"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".IridescentDefAmulet" operation="set" value="1">
					<requirement name="PlayerItemCount" item_name="resourceIridescentDefAmulet" operation="GTE" value="1"/>
				</triggered_effect>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".IridescentDefAmulet" operation="GTE" value="1"/>
				<passive_effect name="PhysicalDamageResist" operation="base_add" value="4"/>
			</effect_group>
			<effect_group>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".IridescentDefAmuletSuper" operation="set" value="0">
					<requirement name="PlayerItemCount" item_name="resourceIridescentDefAmuletSuper" operation="EQ" value="0"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".IridescentDefAmuletSuper" operation="set" value="1">
					<requirement name="PlayerItemCount" item_name="resourceIridescentDefAmuletSuper" operation="GTE" value="1"/>
				</triggered_effect>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".IridescentDefAmuletSuper" operation="GTE" value="1"/>
				<passive_effect name="PhysicalDamageResist" operation="base_add" value="6"/>
			</effect_group>

			<!-- ** 会心率 变量 -->
            <effect_group name="Critical Chance">
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="set" value="0"/>
				<!-- ** 装备 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="@$iridescentMarisaCriticalChanceHead"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="@$iridescentMarisaCriticalChanceChest"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="@$iridescentMarisaCriticalChanceHands"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="@$iridescentMarisaCriticalChanceFeet"/>
				<!-- ** 看破 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="5"><requirement name="ProgressionLevel" progression_name="perkMarisaCriticalChance" operation="EQ" value="1"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="10"><requirement name="ProgressionLevel" progression_name="perkMarisaCriticalChance" operation="EQ" value="2"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="15"><requirement name="ProgressionLevel" progression_name="perkMarisaCriticalChance" operation="EQ" value="3"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="20"><requirement name="ProgressionLevel" progression_name="perkMarisaCriticalChance" operation="EQ" value="4"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="25"><requirement name="ProgressionLevel" progression_name="perkMarisaCriticalChance" operation="EQ" value="5"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="30"><requirement name="ProgressionLevel" progression_name="perkMarisaCriticalChance" operation="EQ" value="6"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="40"><requirement name="ProgressionLevel" progression_name="perkMarisaCriticalChance" operation="EQ" value="7"/></triggered_effect>
				<!-- ** 攻击 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="5"><requirement name="ProgressionLevel" progression_name="perkMarisaAttack" operation="EQ" value="4"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="5"><requirement name="ProgressionLevel" progression_name="perkMarisaAttack" operation="EQ" value="5"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="5"><requirement name="ProgressionLevel" progression_name="perkMarisaAttack" operation="EQ" value="6"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="5"><requirement name="ProgressionLevel" progression_name="perkMarisaAttack" operation="EQ" value="7"/></triggered_effect>
				<!-- ** 挑战 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceChallenge" operation="set" value="5"><requirement name="ProgressionLevel" progression_name="perkMarisaChallenge" operation="EQ" value="1"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceChallenge" operation="set" value="5"><requirement name="ProgressionLevel" progression_name="perkMarisaChallenge" operation="EQ" value="2"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceChallenge" operation="set" value="7"><requirement name="ProgressionLevel" progression_name="perkMarisaChallenge" operation="EQ" value="3"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceChallenge" operation="set" value="7"><requirement name="ProgressionLevel" progression_name="perkMarisaChallenge" operation="EQ" value="4"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceChallenge" operation="set" value="10"><requirement name="ProgressionLevel" progression_name="perkMarisaChallenge" operation="EQ" value="5"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceChallenge" operation="set" value="15"><requirement name="ProgressionLevel" progression_name="perkMarisaChallenge" operation="EQ" value="6"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceChallenge" operation="set" value="20"><requirement name="ProgressionLevel" progression_name="perkMarisaChallenge" operation="EQ" value="7"/></triggered_effect>
				<!-- ** 弱点特效 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceHeadDamage" operation="set" value="15"><requirement name="ProgressionLevel" progression_name="perkMarisaHeadDamage" operation="EQ" value="1"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceHeadDamage" operation="set" value="30"><requirement name="ProgressionLevel" progression_name="perkMarisaHeadDamage" operation="EQ" value="2"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceHeadDamage" operation="set" value="50"><requirement name="ProgressionLevel" progression_name="perkMarisaHeadDamage" operation="EQ" value="3"/></triggered_effect>
				<!-- ** 精神抖擞 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="10"><requirement name="ProgressionLevel" progression_name="perkMarisaVitality" operation="EQ" value="1"/><requirement name="CVarCompare" cvar=".MarisaCriticalChanceVitalityTime" operation="GTE" value="25"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="20"><requirement name="ProgressionLevel" progression_name="perkMarisaVitality" operation="EQ" value="2"/><requirement name="CVarCompare" cvar=".MarisaCriticalChanceVitalityTime" operation="GTE" value="25"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="30"><requirement name="ProgressionLevel" progression_name="perkMarisaVitality" operation="EQ" value="3"/><requirement name="CVarCompare" cvar=".MarisaCriticalChanceVitalityTime" operation="GTE" value="25"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="40"><requirement name="ProgressionLevel" progression_name="perkMarisaVitality" operation="EQ" value="4"/><requirement name="CVarCompare" cvar=".MarisaCriticalChanceVitalityTime" operation="GTE" value="25"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="40"><requirement name="ProgressionLevel" progression_name="perkMarisaVitality" operation="EQ" value="5"/><requirement name="StatComparePercCurrentToMax" stat="Stamina" operation="GTE" value="1"/></triggered_effect>
				<!-- ** 力量解放 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="10"><requirement name="ProgressionLevel" progression_name="perkMarisaLiberationPower" operation="EQ" value="1"/><requirement name="HasBuff" buff="buffPerkMarisaLiberationPower"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="20"><requirement name="ProgressionLevel" progression_name="perkMarisaLiberationPower" operation="EQ" value="2"/><requirement name="HasBuff" buff="buffPerkMarisaLiberationPower"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="30"><requirement name="ProgressionLevel" progression_name="perkMarisaLiberationPower" operation="EQ" value="3"/><requirement name="HasBuff" buff="buffPerkMarisaLiberationPower"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="40"><requirement name="ProgressionLevel" progression_name="perkMarisaLiberationPower" operation="EQ" value="4"/><requirement name="HasBuff" buff="buffPerkMarisaLiberationPower"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="50"><requirement name="ProgressionLevel" progression_name="perkMarisaLiberationPower" operation="EQ" value="5"/><requirement name="HasBuff" buff="buffPerkMarisaLiberationPower"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="50"><requirement name="ProgressionLevel" progression_name="perkMarisaLiberationPower" operation="EQ" value="6"/><requirement name="HasBuff" buff="buffPerkMarisaLiberationPower"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="60"><requirement name="ProgressionLevel" progression_name="perkMarisaLiberationPower" operation="EQ" value="7"/><requirement name="HasBuff" buff="buffPerkMarisaLiberationPower"/></triggered_effect>

                <!-- ** 集中3 战意强化 猎刀 -->
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="100">
                    <requirement name="ProgressionLevel" progression_name="perkMarisaConcentration" operation="EQ" value="3"/>
                    <requirement name="HasBuff" buff="buffEntityDamageThreeUpPerkDeepCutsA3"/>
                    <requirement name="NotHasBuff" buff="buffEntityDamageThreeCachePerkDeepCutsA"/>
                </triggered_effect>
                <!-- ** 集中3 战意强化 砍刀 -->
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="100">
                    <requirement name="ProgressionLevel" progression_name="perkMarisaConcentration" operation="EQ" value="3"/>
                    <requirement name="HasBuff" buff="buffEntityDamageThreeUpPerkDeepCutsB3"/>
                    <requirement name="NotHasBuff" buff="buffEntityDamageThreeCachePerkDeepCutsB"/>
                </triggered_effect>
                <!-- ** 集中3 战意强化 棍棒 -->
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="100">
                    <requirement name="ProgressionLevel" progression_name="perkMarisaConcentration" operation="EQ" value="3"/>
                    <requirement name="HasBuff" buff="buffEntityDamageThreeUpPerkPummelPete3"/>
                    <requirement name="NotHasBuff" buff="buffEntityDamageThreeCachePerkPummelPete"/>
                </triggered_effect>
                <!-- ** 集中3 战意强化 短棒 -->
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="100">
                    <requirement name="ProgressionLevel" progression_name="perkMarisaConcentration" operation="EQ" value="3"/>
                    <requirement name="HasBuff" buff="buffEntityDamageThreeUpPerkElectrocutioner3"/>
                    <requirement name="NotHasBuff" buff="buffEntityDamageThreeCachePerkElectrocutioner"/>
                </triggered_effect>
                <!-- ** 集中3 战意强化 长矛 -->
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="100">
                    <requirement name="ProgressionLevel" progression_name="perkMarisaConcentration" operation="EQ" value="3"/>
                    <requirement name="HasBuff" buff="buffEntityDamageThreeUpPerkJavelinMaster3"/>
                    <requirement name="NotHasBuff" buff="buffEntityDamageThreeCachePerkJavelinMaster"/>
                </triggered_effect>
                <!-- ** 集中3 战意强化 大锤 -->
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="100">
                    <requirement name="ProgressionLevel" progression_name="perkMarisaConcentration" operation="EQ" value="3"/>
                    <requirement name="HasBuff" buff="buffEntityDamageThreeUpPerkSkullCrusher3"/>
                    <requirement name="NotHasBuff" buff="buffEntityDamageThreeCachePerkSkullCrusher"/>
                </triggered_effect>
                <!-- ** 集中3 战意强化 拳套 -->
                <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceAways" operation="add" value="100">
                    <requirement name="ProgressionLevel" progression_name="perkMarisaConcentration" operation="EQ" value="3"/>
                    <requirement name="HasBuff" buff="buffEntityDamageThreeUpPerkBrawler3"/>
                    <requirement name="NotHasBuff" buff="buffEntityDamageThreeCachePerkBrawler"/>
                </triggered_effect>

                <!-- ** 组合会心率 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceWithChallenge" operation="set" value="@.MarisaCriticalChanceAways"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceWithChallenge" operation="add" value="@.MarisaCriticalChanceChallenge"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceWithHeadDamage" operation="set" value="@.MarisaCriticalChanceAways"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceWithHeadDamage" operation="add" value="@.MarisaCriticalChanceHeadDamage"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceWithChallengeHeadDamage" operation="set" value="@.MarisaCriticalChanceWithChallenge"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceWithChallengeHeadDamage" operation="add" value="@.MarisaCriticalChanceHeadDamage"/>
            </effect_group>



			<!-- 死里逃生 -->
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaNarrowEscape" operation="GTE" value="1"/>
				<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LTE" value=".5"/>
				<requirement name="NotHasBuff" buff="buffPerkMarisaNarrowEscapeCold"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffPerkMarisaNarrowEscapeCold"/>
			</effect_group>

			<!-- 游牧民套装效果 -->
<!--			<effect_group>-->
<!--				<requirement name="HasBuff" buff="buffNomadSetBonus"/>-->
<!--				<requirement name="StatComparePercCurrentToMax" stat="Health" operation="GT" value=".35"/>-->
<!--				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" target="self" operation="add" value="-1"/>-->
<!--			</effect_group>-->

			<!-- 丧尸 动物 对近战玩家 伤害减少 -->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="melee"/>
				<requirement name="NotHasBuff" buff="buffMarisaItemHasTagsMelee"/>
				<requirement name="CVarCompare" cvar="MarisaItemHasTagsMelee" operation="Equals" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaItemHasTagsMelee"/>
			</effect_group>
			<effect_group>
				<requirement name="!HoldingItemHasTags" tags="melee"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffMarisaItemHasTagsMelee"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="MarisaItemHasTagsMelee" operation="set" value="0"/>
			</effect_group>

		</buff>

		<!-- 状态检查 0.2s -->
		<buff name="buffStatusCheckMarisa02" hidden="true">
			<stack_type value="ignore"/>
			<update_rate value=".2"/>
			<duration value="0"/>

			<!-- ** 精神抖擞 变量 -->
			<effect_group>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceVitalityTime" operation="add" value="1">
					<requirement name="StatComparePercCurrentToMax" stat="Stamina" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".MarisaCriticalChanceVitalityTime" operation="LT" value="25"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MarisaCriticalChanceVitalityTime" operation="set" value="0">
					<requirement name="StatComparePercCurrentToMax" stat="Stamina" operation="LT" value="1"/>
				</triggered_effect>
			</effect_group>

			<!-- *** 添加 广域化 触发前置 -->
			<!-- * 广域化lv1 罐头 -->
			<!-- ** 广域化 foodCanBeef -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCanBeef" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="7"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCanBeef" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 foodCanChicken -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCanChicken" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="7"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCanChicken" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 foodCanLamb -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCanLamb" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="7"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCanLamb" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 foodCanCatfood -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCanCatfood" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCanCatfood" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 foodCanDogfood -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCanDogfood" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCanDogfood" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 foodCanChili -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCanChili" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="7"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCanChili" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 foodCanTuna -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCanTuna" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCanTuna" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 foodCanSham -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCanSham" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="7"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCanSham" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 foodCanPasta -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCanPasta" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="7"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCanPasta" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 foodCanSalmon -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCanSalmon" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="7"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCanSalmon" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 foodCanMiso -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCanMiso" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCanMiso" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 foodCanPeas -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCanPeas" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCanPeas" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 foodCanPears -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCanPears" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCanPears" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 foodCanSoup -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCanSoup" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCanSoup" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 foodCanStock -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCanStock" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCanStock" operation="subtract" value="1"/>
			</effect_group>

			<!-- * 广域化lv1 食物-->
			<!-- ** 烤玉米 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCornOnTheCob" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="water" operation="add" value="-5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".foodStaminaBonusAdd" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaDefensive"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCornOnTheCob" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 玉米面包 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCornBread" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".foodStaminaBonusAdd" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaStaminaChangeOT"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCornBread" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 烧焦的肉 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCharredMeat" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="3"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthFarmer" operation="set" value="3">
					<requirement name="HasBuff" buff="buffFarmerSetBonus"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="water" operation="add" value="-5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaAttack"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCharredMeat" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 烤肉 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodGrilledMeat" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="3"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthFarmer" operation="set" value="3">
					<requirement name="HasBuff" buff="buffFarmerSetBonus"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaStaminaMaxUp"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodGrilledMeat" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 水煮肉 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodBoiledMeat" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthFarmer" operation="set" value="15">
					<requirement name="HasBuff" buff="buffFarmerSetBonus"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaHealthChangeOT"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodBoiledMeat" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 烤土豆 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodBakedPotato" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="3"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthFarmer" operation="set" value="3">
					<requirement name="HasBuff" buff="buffFarmerSetBonus"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="water" operation="add" value="-2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaBuffResistance"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodBakedPotato" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 水煮蛋 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodEggBoiled" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthFarmer" operation="set" value="15">
					<requirement name="HasBuff" buff="buffFarmerSetBonus"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaDefensiveElf"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodEggBoiled" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 培根鸡蛋 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodBaconAndEggs" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthFarmer" operation="set" value="5">
					<requirement name="HasBuff" buff="buffFarmerSetBonus"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaStaminaLossDown"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodBaconAndEggs" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 炖杂蔬 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodVegetableStew" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthFarmer" operation="set" value="10">
					<requirement name="HasBuff" buff="buffFarmerSetBonus"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaNanoKnife"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodVegetableStew" operation="subtract" value="1"/>
			</effect_group>

			<!-- * 广域化lv1 饮料-->
			<!-- ** 脏水 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarRiverWater" operation="GTE" value="1"/>
				<requirement name="NotHasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" operation="add" value="-5">
					<requirement name="!HasBuff" buff="buffWaterPurifier"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".DiseaseRoll" operation="set" value="12"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".DiseaseRoll" operation="add" value="@$MetabolismResist"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDysenteryCatchDrink">
					<requirement name="RandomRoll" seed_type="Random" min_max="1,100" operation="LTE" value="@.DiseaseRoll"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" sound="player#vomit">
					<requirement name="!HasBuff" buff="buffWaterPurifier"/>
				</triggered_effect>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarRiverWater" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffExtinguishFire"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarRiverWater" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drinkJarRiverWater" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 开水 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarBoiledWater" operation="GTE" value="1"/>
				<requirement name="NotHasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarBoiledWater" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffExtinguishFire"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarBoiledWater" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drinkJarBoiledWater" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 丝兰汁 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarYuccaJuice" operation="GTE" value="1"/>
				<requirement name="NotHasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="34"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarYuccaJuice" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffExtinguishFire"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarYuccaJuice" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drinkJarYuccaJuice" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 秋麒麟茶 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarGoldenRodTea" operation="GTE" value="1"/>
				<requirement name="NotHasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="24"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDysenteryAddCurePerc" operation="add" value="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDysenteryAddCure"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarGoldenRodTea" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffExtinguishFire"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarGoldenRodTea" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drinkJarGoldenRodTea" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 红茶 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarRedTea" operation="GTE" value="1"/>
				<requirement name="NotHasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="24"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffRedTeaDuration" operation="add" value="363"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffRedTeaDuration" operation="set" value="1083">
					<requirement name="CVarCompare" cvar="$buffRedTeaDuration" operation="GT" value="1083"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables,buffRedTea"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarRedTea" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffExtinguishFire"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarRedTea" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drinkJarRedTea" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 咖啡 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarCoffee" operation="GTE" value="1"/>
				<requirement name="NotHasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="24"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffCoffeeDuration" operation="add" value="183"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffCoffeeDuration" operation="set" value="543">
					<requirement name="CVarCompare" cvar="$buffCoffeeDuration" operation="GT" value="543"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables,buffCoffee"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarCoffee" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffExtinguishFire"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarCoffee" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drinkJarCoffee" operation="subtract" value="1"/>
			</effect_group>

			<!-- * 广域化lv2 医疗-->
			<!-- ** 蜂蜜 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodHoney" operation="GTE" value="1"/>
				<requirement name="NotHasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffInfectionAddCurePerc" operation="add" value="2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffInfectionAddCure"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodHoney" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 芦荟霜 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_medicalAloeCream" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="healAbrasionMult" operation="set" value="2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffInjuryAbrasionTreated">
					<requirement name="HasBuff" buff="buffInjuryAbrasion"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="medicalRegHealthAmount" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="medRegHealthIncSpeed" operation="set" value="@$medicRegHealthIncreaseSpeed"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_medicalAloeCream" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 绷带 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_medicalBandage" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryBleeding"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_medicalBandage" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 急救绷带 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_medicalFirstAidBandage" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="healAbrasionMult" operation="set" value="3"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffInjuryAbrasionTreated">
					<requirement name="HasBuff" buff="buffInjuryAbrasion"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="medicalRegHealthAmount" operation="add" value="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="medRegHealthIncSpeed" operation="set" value="@$medicRegHealthIncreaseSpeed"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryBleeding"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_medicalFirstAidBandage" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 夹板 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_medicalSplint" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffLegSprained"/>
				<requirement name="ProgressionLevel" progression_name="perkPhysician" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffLegSprained"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_medicalSplint" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffLegBroken"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffLegSplinted"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_medicalSplint" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffArmSprained"/>
				<requirement name="ProgressionLevel" progression_name="perkPhysician" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffArmSprained"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_medicalSplint" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffArmBroken"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffArmSplinted"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_medicalSplint" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_medicalSplint" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 止痛药 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drugPainkillers" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryConcussion"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugPainkillersDuration" operation="add" value="183"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugPainkillersDuration" operation="set" value="543">
					<requirement name="CVarCompare" cvar="$buffDrugPainkillersDuration" operation="GT" value="543"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDrugPainkillers"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drugPainkillers" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 草药抗生素 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drugHerbalAntibiotics" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffInfectionAddCurePerc" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffInfectionAddCure"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drugHerbalAntibiotics" operation="subtract" value="1"/>
			</effect_group>

			<!-- * 广域化lv2 糖果-->
			<!-- ** 广域化 drugAtomJunkies -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drugAtomJunkies" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugAtomJunkiesDuration" operation="add" value="363"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugAtomJunkiesDuration" operation="set" value="1083">
					<requirement name="CVarCompare" cvar="$buffDrugAtomJunkiesDuration" operation="GT" value="1083"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDrugAtomJunkies"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drugAtomJunkies" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 drugCovertCats -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drugCovertCats" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugCovertCatsDuration" operation="add" value="363"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugCovertCatsDuration" operation="set" value="1083">
					<requirement name="CVarCompare" cvar="$buffDrugCovertCatsDuration" operation="GT" value="1083"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDrugCovertCats"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drugCovertCats" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 drugEyeKandy -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drugEyeKandy" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugEyeKandyDuration" operation="add" value="363"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugEyeKandyDuration" operation="set" value="1083">
					<requirement name="CVarCompare" cvar="$buffDrugEyeKandyDuration" operation="GT" value="1083"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDrugEyeKandy"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drugEyeKandy" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 drugHackers -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drugHackers" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugHackersDuration" operation="add" value="363"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugHackersDuration" operation="set" value="1083">
					<requirement name="CVarCompare" cvar="$buffDrugHackersDuration" operation="GT" value="1083"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDrugHackers"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drugHackers" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 drugHealthBar -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drugHealthBar" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugHealthBarDuration" operation="add" value="363"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugHealthBarDuration" operation="set" value="1083">
					<requirement name="CVarCompare" cvar="$buffDrugHealthBarDuration" operation="GT" value="1083"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDrugHealthBar"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drugHealthBar" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 drugJailBreakers -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drugJailBreakers" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugJailBreakersDuration" operation="add" value="363"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugJailBreakersDuration" operation="set" value="1083">
					<requirement name="CVarCompare" cvar="$buffDrugJailBreakersDuration" operation="GT" value="1083"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDrugJailBreakers"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drugJailBreakers" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 drugNerdTats -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drugNerdTats" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugNerdTatsDuration" operation="add" value="363"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugNerdTatsDuration" operation="set" value="1083">
					<requirement name="CVarCompare" cvar="$buffDrugNerdTatsDuration" operation="GT" value="1083"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDrugNerdTats"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drugNerdTats" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 drugOhShitzDrops -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drugOhShitzDrops" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugOhShitzDropsDuration" operation="add" value="363"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugOhShitzDropsDuration" operation="set" value="1083">
					<requirement name="CVarCompare" cvar="$buffDrugOhShitzDropsDuration" operation="GT" value="1083"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDrugOhShitzDrops"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drugOhShitzDrops" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 drugRockBusters -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drugRockBusters" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugRockBustersDuration" operation="add" value="363"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugRockBustersDuration" operation="set" value="1083">
					<requirement name="CVarCompare" cvar="$buffDrugRockBustersDuration" operation="GT" value="1083"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDrugRockBusters"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drugRockBusters" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 drugSkullCrushers -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drugSkullCrushers" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugSkullCrushersDuration" operation="add" value="363"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugSkullCrushersDuration" operation="set" value="1083">
					<requirement name="CVarCompare" cvar="$buffDrugSkullCrushersDuration" operation="GT" value="1083"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDrugSkullCrushers"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drugSkullCrushers" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 广域化 drugSugarButts -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drugSugarButts" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugSugarButtsDuration" operation="add" value="363"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugSugarButtsDuration" operation="set" value="1083">
					<requirement name="CVarCompare" cvar="$buffDrugSugarButtsDuration" operation="GT" value="1083"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDrugSugarButts"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drugSugarButts" operation="subtract" value="1"/>
			</effect_group>

			<!-- * 广域化lv3 食物-->
			<!-- ** 炖肉 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodMeatStew" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthFarmer" operation="set" value="10">
					<requirement name="HasBuff" buff="buffFarmerSetBonus"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaVitality"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodMeatStew" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 牛排配土豆 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodSteakAndPotato" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthFarmer" operation="set" value="10">
					<requirement name="HasBuff" buff="buffFarmerSetBonus"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaHeadDamage"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodSteakAndPotato" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 山威杂烩 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodShamChowder" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="25"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthFarmer" operation="set" value="15">
					<requirement name="HasBuff" buff="buffFarmerSetBonus"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaLiberationPower"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodShamChowder" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 蔬菜炖肉 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodHoboStew" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="30"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthFarmer" operation="set" value="5">
					<requirement name="HasBuff" buff="buffFarmerSetBonus"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaKillHealing"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodHoboStew" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 鱼肉塔可 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodFishTacos" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthFarmer" operation="set" value="10">
					<requirement name="HasBuff" buff="buffFarmerSetBonus"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaReloadSpeed"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodFishTacos" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 热狗 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodChiliDog" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="30"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="25"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthFarmer" operation="set" value="25">
					<requirement name="HasBuff" buff="buffFarmerSetBonus"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaVehicleVelocity"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodChiliDog" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 蓝莓派 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodBlueberryPie" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthFarmer" operation="set" value="20">
					<requirement name="HasBuff" buff="buffFarmerSetBonus"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaIntensifyAoe"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodBlueberryPie" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 南瓜派 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodPumpkinPie" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthFarmer" operation="set" value="15">
					<requirement name="HasBuff" buff="buffFarmerSetBonus"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaEffectAoe"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodPumpkinPie" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 南瓜芝士蛋糕 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodPumpkinCheesecake" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="30"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthFarmer" operation="set" value="30">
					<requirement name="HasBuff" buff="buffFarmerSetBonus"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaCopperSmelting"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodPumpkinCheesecake" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 南瓜面包 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodPumpkinBread" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthFarmer" operation="set" value="15">
					<requirement name="HasBuff" buff="buffFarmerSetBonus"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaConcentration"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodPumpkinBread" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 秋葵浓汤 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodGumboStew" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="50"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="35"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthFarmer" operation="set" value="35">
					<requirement name="HasBuff" buff="buffFarmerSetBonus"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaKillRecovery"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodGumboStew" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 牧羊人派 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodShepardsPie" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="40"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="25"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthFarmer" operation="set" value="25">
					<requirement name="HasBuff" buff="buffFarmerSetBonus"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaVampireKiss"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodShepardsPie" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 意大利面 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodSpaghetti" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="40"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="35"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthFarmer" operation="set" value="35">
					<requirement name="HasBuff" buff="buffFarmerSetBonus"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaAttributeLiberation"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodSpaghetti" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 金枪鱼肉汁吐司 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodTunaFishGravyToast" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="50"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="45"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthFarmer" operation="set" value="45">
					<requirement name="HasBuff" buff="buffFarmerSetBonus"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaThroughStars"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodTunaFishGravyToast" operation="subtract" value="1"/>
			</effect_group>

			<!-- * 广域化lv3 饮料-->
			<!-- ** 矿泉水 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarPureMineralWater" operation="GTE" value="1"/>
				<requirement name="NotHasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="60"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffRedTeaDuration" operation="add" value="363"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffRedTeaDuration" operation="set" value="1083">
					<requirement name="CVarCompare" cvar="$buffRedTeaDuration" operation="GT" value="1083"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables,buffRedTea"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDysenteryAddCurePerc" operation="add" value="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDysenteryAddCure"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarPureMineralWater" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffExtinguishFire"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarPureMineralWater" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drinkJarPureMineralWater" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 丝兰汁果昔 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkYuccaJuiceSmoothie" operation="GTE" value="1"/>
				<requirement name="NotHasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="22"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="11"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="78"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffYuccaJuiceSmoothieDuration" operation="add" value="363"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffYuccaJuiceSmoothieDuration" operation="set" value="2703">
					<requirement name="CVarCompare" cvar="$buffYuccaJuiceSmoothieDuration" operation="GT" value="2703"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables,buffYuccaJuiceSmoothie"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkYuccaJuiceSmoothie" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffExtinguishFire"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkYuccaJuiceSmoothie" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drinkYuccaJuiceSmoothie" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 碾压王 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkCanMegaCrush" operation="GTE" value="1"/>
				<requirement name="NotHasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="60"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffMegaCrushDuration" operation="add" value="363"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffMegaCrushDuration" operation="set" value="1083">
					<requirement name="CVarCompare" cvar="$buffMegaCrushDuration" operation="GT" value="1083"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables,buffMegaCrush"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkCanMegaCrush" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffExtinguishFire"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkCanMegaCrush" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drinkCanMegaCrush" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 黑带咖啡 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarBlackStrapCoffee" operation="GTE" value="1"/>
				<requirement name="NotHasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="24"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffCoffeeBSDuration" operation="add" value="363"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffCoffeeBSDuration" operation="set" value="1083">
					<requirement name="CVarCompare" cvar="$buffCoffeeBSDuration" operation="GT" value="1083"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables,buffBlackStrapCoffee"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarBlackStrapCoffee" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffExtinguishFire"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarBlackStrapCoffee" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drinkJarBlackStrapCoffee" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 啤酒 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarBeer" operation="GTE" value="1"/>
				<requirement name="NotHasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffBeerDuration" operation="add" value="183"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffBeerDuration" operation="set" value="543">
					<requirement name="CVarCompare" cvar="$buffBeerDuration" operation="GT" value="543"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffBeer"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarBeer" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffExtinguishFire"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarBeer" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drinkJarBeer" operation="subtract" value="1"/>
			</effect_group>

			<!-- * 广域化lv4 医疗 -->
			<!-- ** 急救包 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_medicalFirstAidKit" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="healAbrasionMult" operation="set" value="4"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffInjuryAbrasionTreated">
					<requirement name="HasBuff" buff="buffInjuryAbrasion"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="medicalRegHealthAmount" operation="add" value="50"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="medRegHealthIncSpeed" operation="set" value="@$medicRegHealthIncreaseSpeed"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryBleeding"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffLaceration"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_medicalFirstAidKit" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 石膏绷带 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_medicalPlasterCast" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffLegSprained">
					<requirement name="HasBuff" buff="buffLegSprained"/>
					<requirement name="ProgressionLevel" progression_name="perkPhysician" operation="GTE" value="1"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffLegBroken">
					<requirement name="HasBuff" buff="buffLegBroken"/>
					<requirement name="ProgressionLevel" progression_name="perkPhysician" operation="GTE" value="3"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffLegCast">
					<requirement name="HasBuff" buff="buffLegBroken"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffLegCast">
					<requirement name="HasBuff" buff="buffLegSplinted"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffLegCast">
					<requirement name="HasBuff" buff="buffLegCast"/>
					<requirement name="ProgressionLevel" progression_name="perkPhysician" operation="GTE" value="3"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffArmSprained">
					<requirement name="HasBuff" buff="buffArmSprained"/>
					<requirement name="ProgressionLevel" progression_name="perkPhysician" operation="GTE" value="1"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffArmBroken">
					<requirement name="HasBuff" buff="buffArmBroken"/>
					<requirement name="ProgressionLevel" progression_name="perkPhysician" operation="GTE" value="3"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffArmCast">
					<requirement name="HasBuff" buff="buffArmBroken"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffArmCast">
					<requirement name="HasBuff" buff="buffArmSplinted"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffArmCast">
					<requirement name="HasBuff" buff="buffArmCast"/>
					<requirement name="ProgressionLevel" progression_name="perkPhysician" operation="GTE" value="3"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_medicalPlasterCast" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 维生素 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drugVitamins" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffFatiguedTrigger"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugVitaminsDuration" operation="add" value="723"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugVitaminsDuration" operation="set" value="2163">
					<requirement name="CVarCompare" cvar="$buffDrugVitaminsDuration" operation="GT" value="2163"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDrugVitamins"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drugVitamins" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 抗生素 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drugAntibiotics" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffInfectionAddCurePerc" operation="add" value="25"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffInfectionAddCure"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drugAntibiotics" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 类固醇 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drugSteroids" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugSteroidsDuration" operation="add" value="723"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugSteroidsDuration" operation="set" value="2163">
					<requirement name="CVarCompare" cvar="$buffDrugSteroidsDuration" operation="GT" value="2163"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDrugSteroids"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drugSteroids" operation="subtract" value="1"/>
			</effect_group>

			<!-- * 广域化lv5 特殊 -->
			<!-- ** 私酒 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarGrandpasMoonshine" operation="GTE" value="1"/>
				<requirement name="NotHasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffGrandpasMoonshineDuration" operation="add" value="123"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffGrandpasMoonshineDuration" operation="set" value="363">
					<requirement name="CVarCompare" cvar="$buffGrandpasMoonshineDuration" operation="GT" value="363"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDrunkGrandpasMoonshine"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarGrandpasMoonshine" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffExtinguishFire"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarGrandpasMoonshine" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drinkJarGrandpasMoonshine" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 美味酱 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarGrandpasAwesomeSauce" operation="GTE" value="1"/>
				<requirement name="NotHasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffGrandpasAwesomeSauceDuration" operation="add" value="183"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffGrandpasAwesomeSauceDuration" operation="set" value="543">
					<requirement name="CVarCompare" cvar="$buffGrandpasAwesomeSauceDuration" operation="GT" value="543"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDrunkGrandpasAwesomeSauce"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarGrandpasAwesomeSauce" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffExtinguishFire"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarGrandpasAwesomeSauce" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drinkJarGrandpasAwesomeSauce" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 学习妙药 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarGrandpasLearningElixir" operation="GTE" value="1"/>
				<requirement name="NotHasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffGrandpasLearningElixirDuration" operation="add" value="363"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffGrandpasLearningElixirDuration" operation="set" value="1083">
					<requirement name="CVarCompare" cvar="$buffGrandpasLearningElixirDuration" operation="GT" value="1083"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDrunkGrandpasLearningElixir"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarGrandpasLearningElixir" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffIsOnFire"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffExtinguishFire"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drinkJarGrandpasLearningElixir" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drinkJarGrandpasLearningElixir" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 雷克格 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drugRecog" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugRecogDuration" operation="add" value="363"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugRecogDuration" operation="set" value="1083">
					<requirement name="CVarCompare" cvar="$buffDrugRecogDuration" operation="GT" value="1083"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDrugRecog"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drugRecog" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 强健宝 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_drugFortBites" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugFortBitesDuration" operation="add" value="363"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugFortBitesDuration" operation="set" value="1083">
					<requirement name="CVarCompare" cvar="$buffDrugFortBitesDuration" operation="GT" value="1083"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDrugFortBites"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_drugFortBites" operation="subtract" value="1"/>
			</effect_group>

			<!-- * 广域化 虹彩素材 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCropMushroomsHealth" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" target="self" operation="add" value="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="medicalRegHealthAmount" operation="add" value="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="medRegHealthIncSpeed" operation="set" value="@$medicRegHealthIncreaseSpeed"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" target="self" operation="add" value="5">
					<requirement name="ProgressionLevel" progression_name="perkPhysician" operation="Equals" value="1"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" target="self" operation="add" value="10">
					<requirement name="ProgressionLevel" progression_name="perkPhysician" operation="Equals" value="2"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" target="self" operation="add" value="20">
					<requirement name="ProgressionLevel" progression_name="perkPhysician" operation="Equals" value="3"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" target="self" operation="add" value="10">
					<requirement name="ProgressionLevel" progression_name="perkMarisaHealthIncreaseSpeedUp" operation="Equals" value="1"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" target="self" operation="add" value="20">
					<requirement name="ProgressionLevel" progression_name="perkMarisaHealthIncreaseSpeedUp" operation="Equals" value="2"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" target="self" operation="add" value="30">
					<requirement name="ProgressionLevel" progression_name="perkMarisaHealthIncreaseSpeedUp" operation="Equals" value="3"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCropMushroomsHealth" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCropMushroomsAttack" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffIridescentPotionAttack" duration="182"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCropMushroomsAttack" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCropMushroomsDefend" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffIridescentPotionDefend" duration="182"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCropMushroomsDefend" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_foodCropMushroomsDemolitions" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugAtomJunkiesDuration" operation="add" value="182"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffDrugAtomJunkiesDuration" operation="set" value="543">
					<requirement name="CVarCompare" cvar="$buffDrugAtomJunkiesDuration" operation="GT" value="543"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffDrugAtomJunkies"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_foodCropMushroomsDemolitions" operation="subtract" value="1"/>
			</effect_group>

			<!-- * 广域化 虹彩消耗品 -->
			<!-- ** 碎晶烤肉 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_IridescentFoodGrilledMeat" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="40"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="25"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaFullHealth"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_IridescentFoodGrilledMeat" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 回复药 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_IridescentPotionHealth" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" target="self" operation="add" value="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="medicalRegHealthAmount" operation="add" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="medRegHealthIncSpeed" operation="set" value="@$medicRegHealthIncreaseSpeed"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="healAbrasionMult" operation="set" value="3"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffInjuryAbrasionTreated">
					<requirement name="HasBuff" buff="buffInjuryAbrasion"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryBleeding"/>
                <triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffRadiationPool"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" target="self" operation="add" value="4">
					<requirement name="ProgressionLevel" progression_name="perkMarisaHealthIncreaseSpeedUp" operation="Equals" value="1"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" target="self" operation="add" value="8">
					<requirement name="ProgressionLevel" progression_name="perkMarisaHealthIncreaseSpeedUp" operation="Equals" value="2"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" target="self" operation="add" value="12">
					<requirement name="ProgressionLevel" progression_name="perkMarisaHealthIncreaseSpeedUp" operation="Equals" value="3"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_IridescentPotionHealth" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 鬼人药 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_IridescentPotionAttack" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffIridescentPotionAttack" duration="182"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_IridescentPotionAttack" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 硬化药 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_IridescentPotionDefend" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffIridescentPotionDefend" duration="182"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_IridescentPotionDefend" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 强走药 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_IridescentPotionStamina" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffIridescentPotionStamina" duration="182"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_IridescentPotionStamina" operation="subtract" value="1"/>
			</effect_group>

			<!-- ** 回复药[大] -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_IridescentPotionHealth2" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" target="self" operation="add" value="40"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="medicalRegHealthAmount" operation="add" value="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="medRegHealthIncSpeed" operation="set" value="@$medicRegHealthIncreaseSpeed"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffProcessConsumables"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="healAbrasionMult" operation="set" value="3"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffInjuryAbrasionTreated">
					<requirement name="HasBuff" buff="buffInjuryAbrasion"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryBleeding"/>
                <triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffRadiationPool"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" target="self" operation="add" value="8">
					<requirement name="ProgressionLevel" progression_name="perkMarisaHealthIncreaseSpeedUp" operation="Equals" value="1"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" target="self" operation="add" value="16">
					<requirement name="ProgressionLevel" progression_name="perkMarisaHealthIncreaseSpeedUp" operation="Equals" value="2"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" target="self" operation="add" value="24">
					<requirement name="ProgressionLevel" progression_name="perkMarisaHealthIncreaseSpeedUp" operation="Equals" value="3"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_IridescentPotionHealth2" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 鬼人药[大] -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_IridescentPotionAttack2" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffIridescentPotionAttack2" duration="422"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_IridescentPotionAttack2" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 硬化药[大] -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_IridescentPotionDefend2" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffIridescentPotionDefend2" duration="422"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_IridescentPotionDefend2" operation="subtract" value="1"/>
			</effect_group>
			<!-- ** 强走药[大] -->
			<effect_group>
				<requirement name="CVarCompare" cvar="$perkMarisaFriendly_IridescentPotionStamina2" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffIridescentPotionStamina2" duration="422"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$perkMarisaFriendly_IridescentPotionStamina2" operation="subtract" value="1"/>
			</effect_group>



			<!-- * 力量的代价 -->
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkPlayerExpGainDown" operation="Equals" value="1"/>
				<requirement name="NotHasBuff" buff="buffPerkPlayerExpGainDown2"/>
				<requirement name="NotHasBuff" buff="buffPerkPlayerExpGainDown3"/>
				<requirement name="NotHasBuff" buff="buffPerkPlayerExpGainDown4"/>
				<requirement name="NotHasBuff" buff="buffPerkPlayerExpGainDown5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffPerkPlayerExpGainDown1"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkPlayerExpGainDown" operation="Equals" value="2"/>
				<requirement name="NotHasBuff" buff="buffPerkPlayerExpGainDown3"/>
				<requirement name="NotHasBuff" buff="buffPerkPlayerExpGainDown4"/>
				<requirement name="NotHasBuff" buff="buffPerkPlayerExpGainDown5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkPlayerExpGainDown1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffPerkPlayerExpGainDown2"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkPlayerExpGainDown" operation="Equals" value="3"/>
				<requirement name="NotHasBuff" buff="buffPerkPlayerExpGainDown4"/>
				<requirement name="NotHasBuff" buff="buffPerkPlayerExpGainDown5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkPlayerExpGainDown1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkPlayerExpGainDown2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffPerkPlayerExpGainDown3"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkPlayerExpGainDown" operation="Equals" value="4"/>
				<requirement name="NotHasBuff" buff="buffPerkPlayerExpGainDown5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkPlayerExpGainDown1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkPlayerExpGainDown2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkPlayerExpGainDown3"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffPerkPlayerExpGainDown4"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkPlayerExpGainDown" operation="Equals" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkPlayerExpGainDown1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkPlayerExpGainDown2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkPlayerExpGainDown3"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkPlayerExpGainDown4"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffPerkPlayerExpGainDown5"/>
			</effect_group>



			<!-- * 幸运 -->
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffPerkMarisaQuestLuckingBefore1">
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLuckingBefore1"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking1"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking2"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking3"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking4"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking5"/>
				</triggered_effect>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="GTE" value="2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffPerkMarisaQuestLuckingBefore2">
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLuckingBefore2"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking2"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking3"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking4"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking5"/>
				</triggered_effect>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="GTE" value="3"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffPerkMarisaQuestLuckingBefore3">
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLuckingBefore3"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking3"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking4"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking5"/>
				</triggered_effect>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="GTE" value="4"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffPerkMarisaQuestLuckingBefore4">
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLuckingBefore4"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking4"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking5"/>
				</triggered_effect>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="GTE" value="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffPerkMarisaQuestLuckingBefore5">
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLuckingBefore5"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking5"/>
				</triggered_effect>
			</effect_group>



			<!-- * 治愈收割 lv1 -->
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT1Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffInjuryBleeding"/><!-- 流血 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryBleeding"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT1Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT1Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffLaceration"/><!-- 裂伤 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffLaceration"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT1Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT1Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffInjuryAbrasion"/><!-- 擦伤 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryAbrasion"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT1Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT1Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffInjuryAbrasionTreated"/><!-- 擦伤处理 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryAbrasionTreated"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT1Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT1Marisa02" operation="GTE" value="1"/>
				<requirement name="!HasBuff" buff="buffInjuryAbrasion"/><!-- 擦伤 -->
				<requirement name="!HasBuff" buff="buffInjuryAbrasionTreated"/><!-- 擦伤处理 -->
				<requirement name="!HasBuff" buff="buffInjuryBleeding"/><!-- 流血 -->
				<requirement name="!HasBuff" buff="buffLaceration"/><!-- 裂伤 -->

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT1Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<!-- * 治愈收割 lv2 -->
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT2Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffArmSprained"/><!-- 扭伤的手臂 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffArmSprained"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT2Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT2Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffLegSprained"/><!-- 扭伤的腿 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffLegSprained"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT2Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT2Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffInjuryBleeding"/><!-- 流血 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryBleeding"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT2Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT2Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffLaceration"/><!-- 裂伤 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffLaceration"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT2Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT2Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffInjuryAbrasion"/><!-- 擦伤 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryAbrasion"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT2Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT2Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffInjuryAbrasionTreated"/><!-- 擦伤处理 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryAbrasionTreated"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT2Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT2Marisa02" operation="GTE" value="1"/>
				<requirement name="!HasBuff" buff="buffInjuryAbrasion"/><!-- 擦伤 -->
				<requirement name="!HasBuff" buff="buffInjuryAbrasionTreated"/><!-- 擦伤处理 -->
				<requirement name="!HasBuff" buff="buffInjuryBleeding"/><!-- 流血 -->
				<requirement name="!HasBuff" buff="buffLaceration"/><!-- 裂伤 -->
				<requirement name="!HasBuff" buff="buffLegSprained"/><!-- 扭伤的腿 -->
				<requirement name="!HasBuff" buff="buffArmSprained"/><!-- 扭伤的手臂 -->

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT2Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<!-- * 治愈收割 lv3 -->
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT3Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffInjuryConcussion"/><!-- 脑震荡 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryConcussion"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT3Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT3Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffInjuryStunned01"/><!-- 眩晕 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryStunned01"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT3Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT3Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffArmSprained"/><!-- 扭伤的手臂 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffArmSprained"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT3Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT3Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffLegSprained"/><!-- 扭伤的腿 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffLegSprained"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT3Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT3Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffInjuryBleeding"/><!-- 流血 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryBleeding"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT3Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT3Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffLaceration"/><!-- 裂伤 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffLaceration"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT3Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT3Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffInjuryAbrasion"/><!-- 擦伤 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryAbrasion"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT3Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT3Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffInjuryAbrasionTreated"/><!-- 擦伤处理 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryAbrasionTreated"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT3Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT3Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffFatigued"/><!-- 疲劳 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffFatigued"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT3Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT3Marisa02" operation="GTE" value="1"/>
				<requirement name="!HasBuff" buff="buffInjuryAbrasion"/><!-- 擦伤 -->
				<requirement name="!HasBuff" buff="buffInjuryAbrasionTreated"/><!-- 擦伤处理 -->
				<requirement name="!HasBuff" buff="buffFatigued"/><!-- 疲劳 -->
				<requirement name="!HasBuff" buff="buffInjuryBleeding"/><!-- 流血 -->
				<requirement name="!HasBuff" buff="buffLaceration"/><!-- 裂伤 -->
				<requirement name="!HasBuff" buff="buffInjuryStunned01"/><!-- 眩晕 -->
				<requirement name="!HasBuff" buff="buffInjuryConcussion"/><!-- 脑震荡 -->
				<requirement name="!HasBuff" buff="buffLegSprained"/><!-- 扭伤的腿 -->
				<requirement name="!HasBuff" buff="buffArmSprained"/><!-- 扭伤的手臂 -->

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT3Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<!-- * 治愈收割 lv4 -->
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT4Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffInjuryConcussion"/><!-- 脑震荡 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryConcussion"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT4Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT4Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffInjuryStunned01"/><!-- 眩晕 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryStunned01"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT4Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT4Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffArmBroken"/><!-- 断臂 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffArmBroken"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT4Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT4Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffArmSprained"/><!-- 扭伤的手臂 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffArmSprained"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT4Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT4Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffLegBroken"/><!-- 断腿 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffLegBroken"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT4Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT4Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffLegSprained"/><!-- 扭伤的腿 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffLegSprained"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT4Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT4Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffInjuryBleeding"/><!-- 流血 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryBleeding"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT4Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT4Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffLaceration"/><!-- 裂伤 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffLaceration"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT4Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT4Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffInjuryAbrasion"/><!-- 擦伤 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryAbrasion"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT4Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT4Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffInjuryAbrasionTreated"/><!-- 擦伤处理 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInjuryAbrasionTreated"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT4Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT4Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffInfectionMain"/><!-- 感染 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffInfectionMain"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT4Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT4Marisa02" operation="GTE" value="1"/>
				<requirement name="HasBuff" buff="buffFatigued"/><!-- 疲劳 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffFatigued"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT4Marisa02" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".RemoveDEBuffT4Marisa02" operation="GTE" value="1"/>
				<requirement name="!HasBuff" buff="buffInfectionMain"/><!-- 感染 -->
				<requirement name="!HasBuff" buff="buffInjuryAbrasion"/><!-- 擦伤 -->
				<requirement name="!HasBuff" buff="buffInjuryAbrasionTreated"/><!-- 擦伤处理 -->
				<requirement name="!HasBuff" buff="buffFatigued"/><!-- 疲劳 -->
				<requirement name="!HasBuff" buff="buffInjuryBleeding"/><!-- 流血 -->
				<requirement name="!HasBuff" buff="buffLaceration"/><!-- 裂伤 -->
				<requirement name="!HasBuff" buff="buffInjuryStunned01"/><!-- 眩晕 -->
				<requirement name="!HasBuff" buff="buffInjuryConcussion"/><!-- 脑震荡 -->
				<requirement name="!HasBuff" buff="buffLegSprained"/><!-- 扭伤的腿 -->
				<requirement name="!HasBuff" buff="buffLegBroken"/><!-- 断腿 -->
				<requirement name="!HasBuff" buff="buffArmSprained"/><!-- 扭伤的手臂 -->
				<requirement name="!HasBuff" buff="buffArmBroken"/><!-- 断臂 -->

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".RemoveDEBuffT4Marisa02" operation="subtract" value="1"/>
			</effect_group>



			<!-- 添加 炎热 -->
			<effect_group>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddOrRemoveBuff" buff="buffElementSweltering">
					<requirement name="InBiome" biome="05"/>
					<requirement name="ProgressionLevel" progression_name="perkMarisaHotResist" operation="LT" value="1"/>
				</triggered_effect>
			</effect_group>

			<!-- 添加 寒冷 -->
			<effect_group>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddOrRemoveBuff" buff="buffElementFreezing">
					<requirement name="InBiome" biome="01"/>
					<requirement name="ProgressionLevel" progression_name="perkMarisaColdResist" operation="LT" value="1"/>
				</triggered_effect>
			</effect_group>

			<!-- 添加 瘴气环境 -->
			<effect_group>
				<requirement name="InBiome" biome="08"/>
				<requirement name="!HasBuff" buff="buffEnvironmentMiasmatic"/>
				<requirement name="ProgressionLevel" progression_name="perkMarisaEnvironmentMiasmatic" operation="LT" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffEnvironmentMiasmatic"/>
			</effect_group>

			<!-- 添加 力量解放 发动条件 -->
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaLiberationPower" operation="GTE" value="1"/>
				<requirement name="ProgressionLevel" progression_name="perkMarisaLiberationPower" operation="LT" value="7"/>
				<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LTE" value=".35"/>
				<requirement name="NotHasBuff" buff="buffPerkMarisaLiberationPowerCold"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffPerkMarisaLiberationPower"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaLiberationPower" operation="GTE" value="7"/>
				<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LTE" value=".6"/>
				<requirement name="NotHasBuff" buff="buffPerkMarisaLiberationPowerCold"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffPerkMarisaLiberationPower"/>
			</effect_group>



			<!-- 添加 敌人对玩家的伤害补正 战魂 -->
			<effect_group name="buffOtherDamageModifierPerkMarisaSpiritOfWar">
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffOtherDamageModifierPerkMarisaSpiritOfWar1">
					<requirement name="ProgressionLevel" progression_name="perkMarisaSpiritOfWar" operation="EQ" value="1"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffOtherDamageModifierPerkMarisaSpiritOfWar2">
					<requirement name="ProgressionLevel" progression_name="perkMarisaSpiritOfWar" operation="EQ" value="2"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffOtherDamageModifierPerkMarisaSpiritOfWar3">
					<requirement name="ProgressionLevel" progression_name="perkMarisaSpiritOfWar" operation="EQ" value="3"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffOtherDamageModifierPerkMarisaSpiritOfWar4">
					<requirement name="ProgressionLevel" progression_name="perkMarisaSpiritOfWar" operation="EQ" value="4"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffOtherDamageModifierPerkMarisaSpiritOfWar5">
					<requirement name="ProgressionLevel" progression_name="perkMarisaSpiritOfWar" operation="EQ" value="5"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffOtherDamageModifierPerkMarisaSpiritOfWar6">
					<requirement name="ProgressionLevel" progression_name="perkMarisaSpiritOfWar" operation="EQ" value="6"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffOtherDamageModifierPerkMarisaSpiritOfWar7">
					<requirement name="ProgressionLevel" progression_name="perkMarisaSpiritOfWar" operation="EQ" value="7"/>
				</triggered_effect>
			</effect_group>
			<!-- 添加 敌人对玩家的伤害补正 玻璃大炮 -->
			<effect_group name="buffOtherDamageModifierPerkMarisaPowerAndDown">
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffOtherDamageModifierPerkMarisaPowerAndDown1">
					<requirement name="ProgressionLevel" progression_name="perkMarisaPowerAndDown" operation="EQ" value="1"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffOtherDamageModifierPerkMarisaPowerAndDown2">
					<requirement name="ProgressionLevel" progression_name="perkMarisaPowerAndDown" operation="EQ" value="2"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffOtherDamageModifierPerkMarisaPowerAndDown3">
					<requirement name="ProgressionLevel" progression_name="perkMarisaPowerAndDown" operation="EQ" value="3"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffOtherDamageModifierPerkMarisaPowerAndDown4">
					<requirement name="ProgressionLevel" progression_name="perkMarisaPowerAndDown" operation="EQ" value="4"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffOtherDamageModifierPerkMarisaPowerAndDown5">
					<requirement name="ProgressionLevel" progression_name="perkMarisaPowerAndDown" operation="EQ" value="5"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffOtherDamageModifierPerkMarisaPowerAndDown6">
					<requirement name="ProgressionLevel" progression_name="perkMarisaPowerAndDown" operation="EQ" value="6"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffOtherDamageModifierPerkMarisaPowerAndDown7">
					<requirement name="ProgressionLevel" progression_name="perkMarisaPowerAndDown" operation="EQ" value="7"/>
				</triggered_effect>
			</effect_group>
			<!-- 添加 敌人对玩家的伤害补正 火场怪力 -->
			<effect_group name="buffOtherDamageModifierPerkMarisaCrisisPower">
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffOtherDamageModifierPerkMarisaCrisisPower1">
					<requirement name="ProgressionLevel" progression_name="perkMarisaCrisisPower" operation="EQ" value="1"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffOtherDamageModifierPerkMarisaCrisisPower2">
					<requirement name="ProgressionLevel" progression_name="perkMarisaCrisisPower" operation="EQ" value="2"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffOtherDamageModifierPerkMarisaCrisisPower3">
					<requirement name="ProgressionLevel" progression_name="perkMarisaCrisisPower" operation="EQ" value="3"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffOtherDamageModifierPerkMarisaCrisisPower4">
					<requirement name="ProgressionLevel" progression_name="perkMarisaCrisisPower" operation="EQ" value="4"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffOtherDamageModifierPerkMarisaCrisisPower5">
					<requirement name="ProgressionLevel" progression_name="perkMarisaCrisisPower" operation="EQ" value="5"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffOtherDamageModifierPerkMarisaCrisisPower6">
					<requirement name="ProgressionLevel" progression_name="perkMarisaCrisisPower" operation="EQ" value="6"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffOtherDamageModifierPerkMarisaCrisisPower7">
					<requirement name="ProgressionLevel" progression_name="perkMarisaCrisisPower" operation="EQ" value="7"/>
				</triggered_effect>
			</effect_group>



			<!-- 添加 抵御 护甲下降耐性 -->
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaDefDownResistance" operation="GTE" value="2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffUnablePerkMarisaDefDown"/>
			</effect_group>
			<!-- 添加 抵御 瘴气侵蚀耐性 -->
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaMiasmaticErosionResistance" operation="GTE" value="2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffUnablePerkMarisaMiasmaticErosion"/>
			</effect_group>
			<!-- 添加 护甲下降耐性 3 效果 -->
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaDefDownResistance" operation="GTE" value="3"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" target_tags="animal,zombie" range="10" buff="buffDefDownBase10"/>
			</effect_group>
			<!-- 添加 瘴气侵蚀耐性 3 效果 -->
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaMiasmaticErosionResistance" operation="GTE" value="3"/>
					<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" target="selfAOE" target_tags="animal,zombie" range="10" buff="buffHealthMaxDownPerc10"/>
			</effect_group>



			<!-- 添加 寒气 -->
			<effect_group name="buffMeleeHuntingKnifeAtkModifyCVar">
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeHuntingKnifeAtk" operation="add" value="1">
					<requirement name="HasBuff" buff="buffMeleeHuntingKnifeAtk"/>
					<requirement name="CVarCompare" cvar=".MeleeHuntingKnifeAtk" operation="LT" value="20"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeHuntingKnifeAtk" operation="add" value="1">
					<requirement name="HasBuff" buff="buffMeleeHuntingKnifeAtk"/>
					<requirement name="CVarCompare" cvar=".MeleeHuntingKnifeAtk" operation="LT" value="20"/>
					<requirement name="ProgressionLevel" progression_name="perkMarisaConcentration" operation="Equals" value="1"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="50"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeHuntingKnifeAtk" operation="add" value="1">
					<requirement name="HasBuff" buff="buffMeleeHuntingKnifeAtk"/>
					<requirement name="CVarCompare" cvar=".MeleeHuntingKnifeAtk" operation="LT" value="20"/>
					<requirement name="ProgressionLevel" progression_name="perkMarisaConcentration" operation="Equals" value="2"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="75"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeHuntingKnifeAtk" operation="add" value="1">
					<requirement name="HasBuff" buff="buffMeleeHuntingKnifeAtk"/>
					<requirement name="CVarCompare" cvar=".MeleeHuntingKnifeAtk" operation="LT" value="20"/>
					<requirement name="ProgressionLevel" progression_name="perkMarisaConcentration" operation="Equals" value="3"/>
				</triggered_effect>
			</effect_group>

		</buff>

		<!-- 状态检查 1s -->
		<buff name="buffStatusCheckMarisa10" hidden="true">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<duration value="0"/>

			<!-- * 关键任务完成状态展示 -->
			<effect_group>

				<!-- * 清理 -->

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clear2MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clear2MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClear" operation="GTE" value="2"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clear3MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clear3MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClear" operation="GTE" value="3"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clear4MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clear4MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClear" operation="GTE" value="4"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clear5MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clear5MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClear" operation="GTE" value="5"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clear6MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clear6MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClear" operation="GTE" value="6"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clear8MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clear8MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClear" operation="GTE" value="8"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clear9MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clear9MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClear" operation="GTE" value="9"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clear10MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clear10MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClear" operation="GTE" value="10"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clear11MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clear11MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClear" operation="GTE" value="11"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clear12MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clear12MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClear" operation="GTE" value="12"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clear14MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clear14MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClear" operation="GTE" value="14"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clear15MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clear15MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClear" operation="GTE" value="15"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clear16MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clear16MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClear" operation="GTE" value="16"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clear17MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clear17MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClear" operation="GTE" value="17"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clear18MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clear18MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClear" operation="GTE" value="18"/>
				</triggered_effect>

				<!-- * 群聚 -->

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearInfested2MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearInfested2MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearInfested" operation="GTE" value="2"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearInfested3MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearInfested3MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearInfested" operation="GTE" value="3"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearInfested4MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearInfested4MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearInfested" operation="GTE" value="4"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearInfested5MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearInfested5MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearInfested" operation="GTE" value="5"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearInfested6MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearInfested6MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearInfested" operation="GTE" value="6"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearInfested8MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearInfested8MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearInfested" operation="GTE" value="8"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearInfested9MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearInfested9MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearInfested" operation="GTE" value="9"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearInfested10MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearInfested10MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearInfested" operation="GTE" value="10"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearInfested11MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearInfested11MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearInfested" operation="GTE" value="11"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearInfested12MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearInfested12MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearInfested" operation="GTE" value="12"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearInfested14MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearInfested14MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearInfested" operation="GTE" value="14"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearInfested15MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearInfested15MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearInfested" operation="GTE" value="15"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearInfested16MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearInfested16MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearInfested" operation="GTE" value="16"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearInfested17MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearInfested17MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearInfested" operation="GTE" value="17"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearInfested18MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearInfested18MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearInfested" operation="GTE" value="18"/>
				</triggered_effect>

				<!-- * 超级群聚 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearSuperInfested2MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearSuperInfested2MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearSuperInfested" operation="GTE" value="2"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearSuperInfested3MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearSuperInfested3MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearSuperInfested" operation="GTE" value="3"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearSuperInfested4MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearSuperInfested4MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearSuperInfested" operation="GTE" value="4"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearSuperInfested5MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearSuperInfested5MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearSuperInfested" operation="GTE" value="5"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearSuperInfested6MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearSuperInfested6MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearSuperInfested" operation="GTE" value="6"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearSuperInfested8MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearSuperInfested8MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearSuperInfested" operation="GTE" value="8"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearSuperInfested9MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearSuperInfested9MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearSuperInfested" operation="GTE" value="9"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearSuperInfested10MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearSuperInfested10MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearSuperInfested" operation="GTE" value="10"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearSuperInfested11MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearSuperInfested11MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearSuperInfested" operation="GTE" value="11"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearSuperInfested12MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearSuperInfested12MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearSuperInfested" operation="GTE" value="12"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearSuperInfested14MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearSuperInfested14MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearSuperInfested" operation="GTE" value="14"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearSuperInfested15MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearSuperInfested15MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearSuperInfested" operation="GTE" value="15"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearSuperInfested16MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearSuperInfested16MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearSuperInfested" operation="GTE" value="16"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearSuperInfested17MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearSuperInfested17MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearSuperInfested" operation="GTE" value="17"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="clearSuperInfested18MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="clearSuperInfested18MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteClearSuperInfested" operation="GTE" value="18"/>
				</triggered_effect>

				<!-- * 强攻据点 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="defensivePoint2MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="defensivePoint2MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteDefensivePoint" operation="GTE" value="2"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="defensivePoint3MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="defensivePoint3MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteDefensivePoint" operation="GTE" value="3"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="defensivePoint4MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="defensivePoint4MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteDefensivePoint" operation="GTE" value="4"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="defensivePoint5MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="defensivePoint5MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteDefensivePoint" operation="GTE" value="5"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="defensivePoint6MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="defensivePoint6MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteDefensivePoint" operation="GTE" value="6"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="defensivePoint8MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="defensivePoint8MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteDefensivePoint" operation="GTE" value="8"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="defensivePoint9MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="defensivePoint9MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteDefensivePoint" operation="GTE" value="9"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="defensivePoint10MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="defensivePoint10MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteDefensivePoint" operation="GTE" value="10"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="defensivePoint11MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="defensivePoint11MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteDefensivePoint" operation="GTE" value="11"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="defensivePoint12MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="defensivePoint12MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteDefensivePoint" operation="GTE" value="12"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="defensivePoint14MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="defensivePoint14MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteDefensivePoint" operation="GTE" value="14"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="defensivePoint15MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="defensivePoint15MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteDefensivePoint" operation="GTE" value="15"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="defensivePoint16MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="defensivePoint16MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteDefensivePoint" operation="GTE" value="16"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="defensivePoint17MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="defensivePoint17MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteDefensivePoint" operation="GTE" value="17"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="defensivePoint18MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="defensivePoint18MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteDefensivePoint" operation="GTE" value="18"/>
				</triggered_effect>

				<!-- * 讨伐目标 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="poiKillBoss3MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="poiKillBoss3MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="IntroComplete" operation="GTE" value="3"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="poiKillBoss4MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="poiKillBoss4MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="IntroComplete" operation="GTE" value="4"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="poiKillBoss5MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="poiKillBoss5MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="IntroComplete" operation="GTE" value="5"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="poiKillBoss6MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="poiKillBoss6MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="IntroComplete" operation="GTE" value="6"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="poiKillBoss8MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="poiKillBoss8MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="IntroComplete" operation="GTE" value="8"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="poiKillBoss9MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="poiKillBoss9MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="IntroComplete" operation="GTE" value="9"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="poiKillBoss10MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="poiKillBoss10MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="IntroComplete" operation="GTE" value="10"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="poiKillBoss11MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="poiKillBoss11MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="IntroComplete" operation="GTE" value="11"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="poiKillBoss12MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="poiKillBoss12MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="IntroComplete" operation="GTE" value="12"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="poiKillBoss14MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="poiKillBoss14MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="IntroComplete" operation="GTE" value="14"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="poiKillBoss15MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="poiKillBoss15MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="IntroComplete" operation="GTE" value="15"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="poiKillBoss16MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="poiKillBoss16MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="IntroComplete" operation="GTE" value="16"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="poiKillBoss17MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="poiKillBoss17MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="IntroComplete" operation="GTE" value="17"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="poiKillBoss18MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="poiKillBoss18MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="IntroComplete" operation="GTE" value="18"/>
				</triggered_effect>

				<!-- * 潜入电力 -->
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="crouchingRestorePower9MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="crouchingRestorePower9MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteCrouchingRestorePower" operation="GTE" value="9"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="crouchingRestorePower10MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="crouchingRestorePower10MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteCrouchingRestorePower" operation="GTE" value="10"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="crouchingRestorePower11MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="crouchingRestorePower11MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteCrouchingRestorePower" operation="GTE" value="11"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="crouchingRestorePower12MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="crouchingRestorePower12MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteCrouchingRestorePower" operation="GTE" value="12"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="crouchingRestorePower15MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="crouchingRestorePower15MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteCrouchingRestorePower" operation="GTE" value="15"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="crouchingRestorePower16MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="crouchingRestorePower16MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteCrouchingRestorePower" operation="GTE" value="16"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="crouchingRestorePower17MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="crouchingRestorePower17MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteCrouchingRestorePower" operation="GTE" value="17"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="crouchingRestorePower18MarisaQuestShow" operation="set" value="100">
					<requirement name="CVarCompare" cvar="crouchingRestorePower18MarisaQuestShow" operation="NotEquals" value="100"/>
					<requirement name="CVarCompare" cvar="QuestCompleteCrouchingRestorePower" operation="GTE" value="18"/>
				</triggered_effect>

			</effect_group>

			<!-- * 装备进度解锁 -->
			<effect_group>
				<requirement name="CVarCompare" cvar="IntroComplete" operation="GTE" value="2"/>
				<requirement name="ProgressionLevel" progression_name="craftingEquipment" operation="LT" value="2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddProgressionLevel" progression_name="craftingEquipment" level="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="IntroComplete" operation="GTE" value="8"/>
				<requirement name="ProgressionLevel" progression_name="craftingEquipment" operation="LT" value="3"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddProgressionLevel" progression_name="craftingEquipment" level="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="IntroComplete" operation="GTE" value="14"/>
				<requirement name="ProgressionLevel" progression_name="craftingEquipment" operation="LT" value="4"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddProgressionLevel" progression_name="craftingEquipment" level="1"/>
			</effect_group>

			<!-- ** 整备 -->
			<effect_group>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".perkMarisaAdjustmentCount" operation="add" value="1">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAdjustment" operation="GT" value="0"/>
				</triggered_effect>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".perkMarisaAdjustmentCount" operation="GTE" value="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="CallGameEvent" event="EventMarisaAdjustment1" allow_client_call="true">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAdjustment" operation="EQ" value="1"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="CallGameEvent" event="EventMarisaAdjustment2" allow_client_call="true">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAdjustment" operation="EQ" value="2"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="CallGameEvent" event="EventMarisaAdjustment3" allow_client_call="true">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAdjustment" operation="EQ" value="3"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="CallGameEvent" event="EventMarisaAdjustment4" allow_client_call="true">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAdjustment" operation="EQ" value="4"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="CallGameEvent" event="EventMarisaAdjustment5" allow_client_call="true">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAdjustment" operation="EQ" value="5"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".perkMarisaAdjustmentCount" operation="set" value="0"/>
			</effect_group>

			<!-- * 杂志获取技能点加倍判定 -->
			<effect_group>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$nerdOutfitSkillPointChance" operation="set" value="@$nerdOutfitSkillPointChanceCigar"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$nerdOutfitSkillPointChance" operation="add" value="50">
					<requirement name="ProgressionLevel" progression_name="perkPhysician" operation="GTE" value="5"/>
				</triggered_effect>
			</effect_group>

		</buff>

		<!-- 丧尸 动物 对近战玩家 伤害减少 -->
		<buff name="buffMarisaItemHasTagsMelee" hidden="true">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<duration value="3"/>
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="melee"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="MarisaItemHasTagsMelee" operation="set" value="1"/>
			</effect_group>
		</buff>

		<!-- 飞燕 -->
		<buff name="buffPerkMarisaNoguri" name_key="buffPerkMarisaNoguriName" description_key="buffPerkMarisaNoguriDesc" showonhud="true" icon="ui_game_symbol_run" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="5"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".15"/>
			</effect_group>
		</buff>

		<!-- 佯动攻击 -->
		<buff name="buffPerkMarisaFeint" hidden="true">
			<stack_type value="replace"/>
			<duration value="10"/>
			<effect_group>
				<passive_effect name="LightMultiplier" operation="perc_add" value=".5"/>
				<passive_effect name="NoiseMultiplier" operation="perc_add" value=".5"/>
			</effect_group>
		</buff>

		<!-- 不屈 -->
		<buff name="buffPerkMarisaNirvana" name_key="buffPerkMarisaNirvanaName" description_key="buffPerkMarisaNirvanaDesc" showonhud="true" icon="ui_game_symbol_muscle" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1200"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".1"/>
			</effect_group>
		</buff>
		<buff name="buffPerkMarisaNirvana2" name_key="buffPerkMarisaNirvana2Name" description_key="buffPerkMarisaNirvana2Desc" showonhud="true" icon="ui_game_symbol_muscle" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1200"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".2"/>
			</effect_group>
		</buff>

		<!-- 力量解放 缓触发前置 -->
		<buff name="buffPerkMarisaLiberationPowerBefore" hidden="true">
			<stack_type value="ignore"/>
			<duration value="60"/>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaLiberationPower" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaLiberationPower"/>
			</effect_group>
		</buff>
		<!-- 力量解放 -->
		<buff name="buffPerkMarisaLiberationPower" name_key="buffPerkMarisaLiberationPowerName" description_key="buffPerkMarisaLiberationPowerDesc" showonhud="true" icon="ui_game_symbol_muscle" icon_color="0,191,255">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<duration value="182"/>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaLiberationPower" operation="LT" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkMarisaLiberationPower"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaLiberationPower" operation="Equals" value="1"/>
				<passive_effect name="StaminaLoss" operation="perc_add" value="-.3"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaLiberationPower" operation="Equals" value="2"/>
				<passive_effect name="StaminaLoss" operation="perc_add" value="-.3"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaLiberationPower" operation="GTE" value="3"/>
				<passive_effect name="StaminaLoss" operation="perc_add" value="-.5"/>
			</effect_group>

			<effect_group>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaLiberationPowerCold"/>
			</effect_group>
		</buff>
		<!-- 力量解放 冷却时间 -->
		<buff name="buffPerkMarisaLiberationPowerCold" hidden="true">
			<stack_type value="ignore"/>
			<duration value="60"/>
		</buff>

		<!-- 跳跃性能 -->
		<buff name="buffPerkMarisaJumpDef" name_key="buffPerkMarisaJumpDefName" description_key="buffPerkMarisaJumpDefDesc" showonhud="true" icon="ui_game_symbol_run" icon_color="0,191,255">
			<stack_type value="ignore"/>
			<effect_group>
				<passive_effect name="GeneralDamageResist" operation="base_add" value="1"/>
				<passive_effect name="PhysicalDamageResist" operation="base_add" value="200"/>
				<passive_effect name="PhysicalDamageResist" operation="base_add" value="200" tags="coredamageresist"/>
				<passive_effect name="ElementalDamageResist" operation="base_add" value="200" tags="cold,heat,electrical"/>
				<passive_effect name="ElementalDamageResist" operation="base_add" value="200" tags="heat,electrical"/>
			</effect_group>
		</buff>

		<!-- 死里逃生 -->
		<buff name="buffPerkMarisaNarrowEscapeCold" name_key="buffPerkMarisaNarrowEscapeColdName" description_key="buffPerkMarisaNarrowEscapeColdDesc" showonhud="true" icon="ui_game_symbol_run" icon_color="255,0,55">
			<stack_type value="ignore"/>
			<duration value="150"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffPerkMarisaNarrowEscape"/>
			</effect_group>
		</buff>
		<buff name="buffPerkMarisaNarrowEscape" name_key="buffPerkMarisaNarrowEscapeName" description_key="buffPerkMarisaNarrowEscapeDesc" showonhud="true" icon="ui_game_symbol_run" icon_color="0,191,255">
			<stack_type value="ignore"/>
			<duration value="20"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" target="self" operation="add" value="3"/>
			</effect_group>
		</buff>

		<!-- 防御缓冲 -->
		<buff name="buffPerkMarisaDefensiveBufferBefore" name_key="buffPerkMarisaDefensiveBufferBeforeName" description_key="buffPerkMarisaDefensiveBufferBeforeDesc" showonhud="true" icon="server_cheat" icon_color="255,0,55">
			<stack_type value="replace"/>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaDefensiveBuffer" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffRemove" action="PlaySound" sound="twitch_good_buff_ended" play_in_head="true"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaDefensiveBufferReady"/>
			</effect_group>
		</buff>
		<buff name="buffPerkMarisaDefensiveBufferReady" name_key="buffPerkMarisaDefensiveBufferReadyName" description_key="buffPerkMarisaDefensiveBufferReadyDesc" showonhud="true" icon="server_cheat" icon_color="0,255,0">
			<stack_type value="replace"/>
			<duration value="0"/>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaDefensiveBuffer" operation="GTE" value="1"/>
				<triggered_effect trigger="onOtherDamagedSelf" action="PlaySound" sound="open_apache_artifact_chest" play_in_head="true"/>
				<triggered_effect trigger="onOtherDamagedSelf" action="RemoveBuff" buff="buffPerkMarisaDefensiveBufferReady"/>
				<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" buff="buffPerkMarisaDefensiveBuffer"/>
			</effect_group>
		</buff>
		<buff name="buffPerkMarisaDefensiveBuffer" name_key="buffPerkMarisaDefensiveBufferName" description_key="buffPerkMarisaDefensiveBufferDesc" showonhud="true" icon="server_cheat" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="5"/>
			<effect_group>
				<passive_effect name="GeneralDamageResist" operation="base_add" value="1"/>
				<passive_effect name="PhysicalDamageResist" operation="base_add" value="200"/>
				<passive_effect name="PhysicalDamageResist" operation="base_add" value="200" tags="coredamageresist"/>
				<passive_effect name="ElementalDamageResist" operation="base_add" value="200" tags="cold,heat,electrical"/>
				<passive_effect name="ElementalDamageResist" operation="base_add" value="200" tags="heat,electrical"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaDefensiveBuffer" operation="Equals" value="1"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaDefensiveBufferBefore" duration="60"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaDefensiveBuffer" operation="Equals" value="2"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaDefensiveBufferBefore" duration="50"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaDefensiveBuffer" operation="Equals" value="3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaDefensiveBufferBefore" duration="40"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaDefensiveBuffer" operation="Equals" value="4"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaDefensiveBufferBefore" duration="30"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaDefensiveBuffer" operation="Equals" value="5"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaDefensiveBufferBefore" duration="20"/>
			</effect_group>
		</buff>

		<!-- 广域化 -->
		<buff name="buffPerkMarisaFriendlyTips" name_key="buffPerkMarisaFriendlyTipsName" description_key="buffPerkMarisaFriendlyTipsDesc" showonhud="true" icon="server_peer" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="10"/>
		</buff>

		<!-- 炸弹客 -->
		<buff name="buffPerkMarisaBombermanDef" name_key="buffPerkMarisaBombermanDefName" description_key="buffPerkMarisaBombermanDefDesc" showonhud="true" icon="ui_game_symbol_explosion" icon_color="0,191,255">
			<stack_type value="replace"/>
			<effect_group>
				<passive_effect name="GeneralDamageResist" operation="base_add" value="1"/>
				<passive_effect name="PhysicalDamageResist" operation="base_add" value="200"/>
				<passive_effect name="PhysicalDamageResist" operation="base_add" value="200" tags="coredamageresist"/>
				<passive_effect name="ElementalDamageResist" operation="base_add" value="200" tags="cold,heat,electrical"/>
				<passive_effect name="ElementalDamageResist" operation="base_add" value="200" tags="heat,electrical"/>
			</effect_group>
		</buff>

		<!-- 力量的代价 -->
		<buff name="buffPerkPlayerExpGainDown1" name_key="buffPerkPlayerExpGainDown1Name" description_key="buffPerkPlayerExpGainDown1Desc" showonhud="true" icon="ui_game_symbol_skull_crusher" icon_color="109,15,15">
			<stack_type value="replace"/>
			<duration value="602"/>
			<effect_group>
				<passive_effect name="PlayerExpGain" operation="perc_add" value="-.2"/>
			</effect_group>
			<effect_group>
				<requirement name="PlayerLevel" operation="LTE" value="100"/>
				<passive_effect name="AttributeLevel" operation="base_add" value="1"/>
			</effect_group>
		</buff>
		<buff name="buffPerkPlayerExpGainDown2" name_key="buffPerkPlayerExpGainDown2Name" description_key="buffPerkPlayerExpGainDown2Desc" showonhud="true" icon="ui_game_symbol_skull_crusher" icon_color="109,15,15">
			<stack_type value="replace"/>
			<duration value="602"/>
			<effect_group>
				<passive_effect name="PlayerExpGain" operation="perc_add" value="-.4"/>
			</effect_group>
			<effect_group>
				<requirement name="PlayerLevel" operation="LTE" value="100"/>
				<passive_effect name="AttributeLevel" operation="base_add" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="PlayerLevel" operation="LTE" value="90"/>
				<passive_effect name="AttributeLevel" operation="base_add" value="2"/>
			</effect_group>
		</buff>
		<buff name="buffPerkPlayerExpGainDown3" name_key="buffPerkPlayerExpGainDown3Name" description_key="buffPerkPlayerExpGainDown3Desc" showonhud="true" icon="ui_game_symbol_skull_crusher" icon_color="109,15,15">
			<stack_type value="replace"/>
			<duration value="602"/>
			<effect_group>
				<passive_effect name="PlayerExpGain" operation="perc_add" value="-.6"/>
			</effect_group>
			<effect_group>
				<requirement name="PlayerLevel" operation="LTE" value="100"/>
				<passive_effect name="AttributeLevel" operation="base_add" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="PlayerLevel" operation="LTE" value="90"/>
				<passive_effect name="AttributeLevel" operation="base_add" value="2"/>
			</effect_group>
			<effect_group>
				<requirement name="PlayerLevel" operation="LTE" value="80"/>
				<passive_effect name="AttributeLevel" operation="base_add" value="2"/>
			</effect_group>
		</buff>
		<buff name="buffPerkPlayerExpGainDown4" name_key="buffPerkPlayerExpGainDown4Name" description_key="buffPerkPlayerExpGainDown4Desc" showonhud="true" icon="ui_game_symbol_skull_crusher" icon_color="109,15,15">
			<stack_type value="replace"/>
			<duration value="602"/>
			<effect_group>
				<passive_effect name="PlayerExpGain" operation="perc_add" value="-.8"/>
			</effect_group>
			<effect_group>
				<requirement name="PlayerLevel" operation="LTE" value="100"/>
				<passive_effect name="AttributeLevel" operation="base_add" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="PlayerLevel" operation="LTE" value="90"/>
				<passive_effect name="AttributeLevel" operation="base_add" value="2"/>
			</effect_group>
			<effect_group>
				<requirement name="PlayerLevel" operation="LTE" value="80"/>
				<passive_effect name="AttributeLevel" operation="base_add" value="2"/>
			</effect_group>
			<effect_group>
				<requirement name="PlayerLevel" operation="LTE" value="70"/>
				<passive_effect name="AttributeLevel" operation="base_add" value="2"/>
			</effect_group>
		</buff>
		<buff name="buffPerkPlayerExpGainDown5" name_key="buffPerkPlayerExpGainDown5Name" description_key="buffPerkPlayerExpGainDown5Desc" showonhud="true" icon="ui_game_symbol_skull_crusher" icon_color="109,15,15">
			<stack_type value="replace"/>
			<duration value="602"/>
			<effect_group>
				<passive_effect name="PlayerExpGain" operation="perc_add" value="-1"/>
			</effect_group>
			<effect_group>
				<requirement name="PlayerLevel" operation="LTE" value="100"/>
				<passive_effect name="AttributeLevel" operation="base_add" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="PlayerLevel" operation="LTE" value="90"/>
				<passive_effect name="AttributeLevel" operation="base_add" value="2"/>
			</effect_group>
			<effect_group>
				<requirement name="PlayerLevel" operation="LTE" value="80"/>
				<passive_effect name="AttributeLevel" operation="base_add" value="2"/>
			</effect_group>
			<effect_group>
				<requirement name="PlayerLevel" operation="LTE" value="70"/>
				<passive_effect name="AttributeLevel" operation="base_add" value="2"/>
			</effect_group>
			<effect_group>
				<requirement name="PlayerLevel" operation="LTE" value="60"/>
				<passive_effect name="AttributeLevel" operation="base_add" value="2"/>
			</effect_group>
		</buff>

		<!-- 幸运 Before -->
		<buff name="buffPerkMarisaQuestLuckingBefore1" hidden="true">
			<stack_type value="ignore"/>
			<duration value="602"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkMarisaQuestLuckingBefore1">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="LT" value="1"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaQuestLucking1">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="GTE" value="1"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking1"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking2"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking3"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking4"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking5"/>
				</triggered_effect>
			</effect_group>
		</buff>
		<buff name="buffPerkMarisaQuestLuckingBefore2" hidden="true">
			<stack_type value="ignore"/>
			<duration value="602"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkMarisaQuestLuckingBefore2">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="LT" value="2"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaQuestLucking2">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="GTE" value="2"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking2"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking3"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking4"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking5"/>
				</triggered_effect>
			</effect_group>
		</buff>
		<buff name="buffPerkMarisaQuestLuckingBefore3" hidden="true">
			<stack_type value="ignore"/>
			<duration value="602"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkMarisaQuestLuckingBefore3">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="LT" value="3"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaQuestLucking3">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="GTE" value="3"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking3"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking4"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking5"/>
				</triggered_effect>
			</effect_group>
		</buff>
		<buff name="buffPerkMarisaQuestLuckingBefore4" hidden="true">
			<stack_type value="ignore"/>
			<duration value="602"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkMarisaQuestLuckingBefore4">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="LT" value="4"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaQuestLucking4">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="GTE" value="4"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking4"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking5"/>
				</triggered_effect>
			</effect_group>
		</buff>
		<buff name="buffPerkMarisaQuestLuckingBefore5" hidden="true">
			<stack_type value="ignore"/>
			<duration value="602"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkMarisaQuestLuckingBefore5">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="LT" value="5"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaQuestLucking5">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="GTE" value="5"/>
					<requirement name="NotHasBuff" buff="buffPerkMarisaQuestLucking5"/>
				</triggered_effect>
			</effect_group>
		</buff>
		<!-- 幸运 -->
		<buff name="buffPerkMarisaQuestLucking1" name_key="buffPerkMarisaQuestLucking1Name" description_key="buffPerkMarisaQuestLucking1Desc" showonhud="true" icon="ui_game_symbol_twitch_celebrate" icon_color="0,191,255">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<duration value="0"/>
			<effect_group>
                <passive_effect name="QuestBonusItemReward" operation="perc_add" value=".1"/>
			</effect_group>
		</buff>
		<buff name="buffPerkMarisaQuestLucking2" name_key="buffPerkMarisaQuestLucking2Name" description_key="buffPerkMarisaQuestLucking2Desc" showonhud="true" icon="ui_game_symbol_twitch_celebrate" icon_color="0,191,255">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<duration value="0"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffPerkMarisaQuestLuckingBefore1,buffPerkMarisaQuestLucking1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkMarisaQuestLucking2">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="LT" value="2"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaQuestLucking1">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="Equals" value="1"/>
				</triggered_effect>
			</effect_group>
			<effect_group>
                <passive_effect name="QuestBonusItemReward" operation="perc_add" value=".2"/>
			</effect_group>
		</buff>
		<buff name="buffPerkMarisaQuestLucking3" name_key="buffPerkMarisaQuestLucking3Name" description_key="buffPerkMarisaQuestLucking3Desc" showonhud="true" icon="ui_game_symbol_twitch_celebrate" icon_color="0,191,255">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<duration value="0"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffPerkMarisaQuestLuckingBefore1,buffPerkMarisaQuestLucking1,buffPerkMarisaQuestLuckingBefore2,buffPerkMarisaQuestLucking2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkMarisaQuestLucking3">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="LT" value="3"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaQuestLucking2">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="Equals" value="2"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaQuestLucking1">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="Equals" value="1"/>
				</triggered_effect>
			</effect_group>
			<effect_group>
                <passive_effect name="QuestBonusItemReward" operation="perc_add" value=".3"/>
			</effect_group>
		</buff>
		<buff name="buffPerkMarisaQuestLucking4" name_key="buffPerkMarisaQuestLucking4Name" description_key="buffPerkMarisaQuestLucking4Desc" showonhud="true" icon="ui_game_symbol_twitch_celebrate" icon_color="0,191,255">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<duration value="0"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffPerkMarisaQuestLuckingBefore1,buffPerkMarisaQuestLucking1,buffPerkMarisaQuestLuckingBefore2,buffPerkMarisaQuestLucking2,buffPerkMarisaQuestLuckingBefore3,buffPerkMarisaQuestLucking3"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkMarisaQuestLucking4">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="LT" value="4"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaQuestLucking3">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="Equals" value="3"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaQuestLucking2">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="Equals" value="2"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaQuestLucking1">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="Equals" value="1"/>
				</triggered_effect>
			</effect_group>
			<effect_group>
                <passive_effect name="QuestBonusItemReward" operation="perc_add" value=".5"/>
			</effect_group>
		</buff>
		<buff name="buffPerkMarisaQuestLucking5" name_key="buffPerkMarisaQuestLucking5Name" description_key="buffPerkMarisaQuestLucking5Desc" showonhud="true" icon="ui_game_symbol_twitch_celebrate" icon_color="0,191,255">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<duration value="0"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffPerkMarisaQuestLuckingBefore1,buffPerkMarisaQuestLucking1,buffPerkMarisaQuestLuckingBefore2,buffPerkMarisaQuestLucking2,buffPerkMarisaQuestLuckingBefore3,buffPerkMarisaQuestLucking3,buffPerkMarisaQuestLuckingBefore4,buffPerkMarisaQuestLucking4"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkMarisaQuestLucking5">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="LT" value="5"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaQuestLucking4">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="Equals" value="4"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaQuestLucking3">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="Equals" value="3"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaQuestLucking2">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="Equals" value="2"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffPerkMarisaQuestLucking1">
					<requirement name="ProgressionLevel" progression_name="perkMarisaQuestLucking" operation="Equals" value="1"/>
				</triggered_effect>
			</effect_group>
			<effect_group>
                <passive_effect name="QuestBonusItemReward" operation="perc_add" value=".5"/>
                <passive_effect name="QuestRewardChoiceCount" operation="base_add" value="1"/>
			</effect_group>
		</buff>

		<!-- 攻击守势 -->
		<buff name="buffPerkMarisaAtkAfterDefBefore" hidden="true">
			<stack_type value="replace"/>
			<duration value="1"/>
			<effect_group>
				<requirement name="IsAlive" target="other"/>
                <triggered_effect trigger="onSelfAttackedOther" action="AddBuff" buff="buffPerkMarisaAtkAfterDef"/>
			</effect_group>
		</buff>
		<buff name="buffPerkMarisaAtkAfterDef" name_key="buffPerkMarisaAtkAfterDefName" description_key="buffPerkMarisaAtkAfterDefDesc" icon="ui_game_symbol_defense" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="12"/>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaAtkAfterDef" operation="EQ" value="1"/>
                <passive_effect name="EntityDamage" operation="base_add" value="8" tags="perkDeadEye,perkJavelinMaster,perkSalvageOperations,perkPummelPete,perkSkullCrusher,perkMiner69r,perkBrawler,perkMachineGunner,perkArchery,perkGunslinger,perkDeepCuts,perkElectrocutioner"/>
                <passive_effect name="EntityDamage" operation="base_add" value=".8" tags="perkBoomstick,perkTurrets"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaAtkAfterDef" operation="EQ" value="2"/>
                <passive_effect name="EntityDamage" operation="base_add" value="16" tags="perkDeadEye,perkJavelinMaster,perkSalvageOperations,perkPummelPete,perkSkullCrusher,perkMiner69r,perkBrawler,perkMachineGunner,perkArchery,perkGunslinger,perkDeepCuts,perkElectrocutioner"/>
                <passive_effect name="EntityDamage" operation="base_add" value="1.6" tags="perkBoomstick,perkTurrets"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaAtkAfterDef" operation="EQ" value="3"/>
                <passive_effect name="EntityDamage" operation="base_add" value="32" tags="perkDeadEye,perkJavelinMaster,perkSalvageOperations,perkPummelPete,perkSkullCrusher,perkMiner69r,perkBrawler,perkMachineGunner,perkArchery,perkGunslinger,perkDeepCuts,perkElectrocutioner"/>
                <passive_effect name="EntityDamage" operation="base_add" value="3.2" tags="perkBoomstick,perkTurrets"/>
			</effect_group>
		</buff>


		<!-- 盛宴 -->
		<buff name="buffMarisaKillRecovery" name_key="buffMarisaKillRecoveryName" description_key="buffMarisaKillRecoveryDesc" showonhud="true" icon="ui_game_symbol_twitch_anti_leech" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="5"/>
			<effect_group>
                <passive_effect name="EntityDamage" operation="base_add" value="10" tags="perkDeadEye,perkJavelinMaster,perkSalvageOperations,perkPummelPete,perkSkullCrusher,perkMiner69r,perkBrawler,perkMachineGunner,perkArchery,perkGunslinger,perkDeepCuts,perkElectrocutioner"/>
                <passive_effect name="EntityDamage" operation="base_add" value="1" tags="perkBoomstick,perkTurrets"/>
			</effect_group>
		</buff>

		<!-- 间不容发 -->
		<buff name="buffHairsBreadth" name_key="buffHairsBreadthName" description_key="buffHairsBreadthDesc" showonhud="true" icon="ui_game_symbol_shape_ammo" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="5"/>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaHairsBreadth" operation="EQ" value="1"/>
                <passive_effect name="EntityDamage" operation="base_add" value="8" tags="perkDeadEye,perkJavelinMaster,perkSalvageOperations,perkPummelPete,perkSkullCrusher,perkMiner69r,perkBrawler,perkMachineGunner,perkArchery,perkGunslinger,perkDeepCuts,perkElectrocutioner"/>
                <passive_effect name="EntityDamage" operation="base_add" value=".8" tags="perkBoomstick,perkTurrets"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaHairsBreadth" operation="EQ" value="2"/>
                <passive_effect name="EntityDamage" operation="base_add" value="16" tags="perkDeadEye,perkJavelinMaster,perkSalvageOperations,perkPummelPete,perkSkullCrusher,perkMiner69r,perkBrawler,perkMachineGunner,perkArchery,perkGunslinger,perkDeepCuts,perkElectrocutioner"/>
                <passive_effect name="EntityDamage" operation="base_add" value="1.6" tags="perkBoomstick,perkTurrets"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaHairsBreadth" operation="EQ" value="3"/>
                <passive_effect name="EntityDamage" operation="base_add" value="32" tags="perkDeadEye,perkJavelinMaster,perkSalvageOperations,perkPummelPete,perkSkullCrusher,perkMiner69r,perkBrawler,perkMachineGunner,perkArchery,perkGunslinger,perkDeepCuts,perkElectrocutioner"/>
                <passive_effect name="EntityDamage" operation="base_add" value="3.2" tags="perkBoomstick,perkTurrets"/>
			</effect_group>
		</buff>

		<!-- 吸血鬼之吻 -->
		<buff name="buffPerkMarisaVampireKiss1" hidden="true">
			<stack_type value="ignore"/>
			<duration value="2"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" target="self" operation="add" value="3"/>
			</effect_group>
		</buff>
		<buff name="buffPerkMarisaVampireKiss2" hidden="true">
			<stack_type value="ignore"/>
			<duration value="2"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" target="self" operation="add" value="6"/>
			</effect_group>
		</buff>
		<buff name="buffPerkMarisaVampireKiss3" hidden="true">
			<stack_type value="ignore"/>
			<duration value="1"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" target="self" operation="add" value="5"/>
			</effect_group>
		</buff>

		<!-- 转祸为福 -->
		<buff name="buffPerkMarisaTurnBadLuckIntoABlessing" name_key="buffPerkMarisaTurnBadLuckIntoABlessingName" description_key="buffPerkMarisaTurnBadLuckIntoABlessingDesc" showonhud="true" icon="ui_game_symbol_death" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="60"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="base_add" value="8" tags="perkDeadEye,perkJavelinMaster,perkSalvageOperations,perkPummelPete,perkSkullCrusher,perkMiner69r,perkBrawler,perkMachineGunner,perkArchery,perkGunslinger,perkDeepCuts,perkElectrocutioner"/>
				<passive_effect name="EntityDamage" operation="base_add" value=".8" tags="perkBoomstick,perkTurrets"/>
			</effect_group>
		</buff>
		<buff name="buffPerkMarisaTurnBadLuckIntoABlessing2" name_key="buffPerkMarisaTurnBadLuckIntoABlessing2Name" description_key="buffPerkMarisaTurnBadLuckIntoABlessing2Desc" showonhud="true" icon="ui_game_symbol_death" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="60"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="base_add" value="16" tags="perkDeadEye,perkJavelinMaster,perkSalvageOperations,perkPummelPete,perkSkullCrusher,perkMiner69r,perkBrawler,perkMachineGunner,perkArchery,perkGunslinger,perkDeepCuts,perkElectrocutioner"/>
				<passive_effect name="EntityDamage" operation="base_add" value="1.6" tags="perkBoomstick,perkTurrets"/>
			</effect_group>
		</buff>
		<buff name="buffPerkMarisaTurnBadLuckIntoABlessing3" name_key="buffPerkMarisaTurnBadLuckIntoABlessing3Name" description_key="buffPerkMarisaTurnBadLuckIntoABlessing3Desc" showonhud="true" icon="ui_game_symbol_death" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="60"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="base_add" value="32" tags="perkDeadEye,perkJavelinMaster,perkSalvageOperations,perkPummelPete,perkSkullCrusher,perkMiner69r,perkBrawler,perkMachineGunner,perkArchery,perkGunslinger,perkDeepCuts,perkElectrocutioner"/>
				<passive_effect name="EntityDamage" operation="base_add" value="3.2" tags="perkBoomstick,perkTurrets"/>
			</effect_group>
		</buff>

		<!-- 精灵加护 -->
		<buff name="buffPerkMarisaDefensiveElf" name_key="buffPerkMarisaDefensiveElfName" description_key="buffPerkMarisaDefensiveElfDesc" icon="ui_game_symbol_defense" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1"/>
		</buff>



		<!-- 属性解放 背水一战 -->
		<buff name="buffADesperateBattle" name_key="buffADesperateBattleName" description_key="buffADesperateBattleDesc" showonhud="true" icon="ui_game_symbol_club" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>



		<!-- 气吞山河 森海 -->
		<buff name="buffSpecialCandyKnifeFoodWater" hidden="true">
			<stack_type value="ignore"/>
			<duration value="0.2"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$foodAmountAdd" operation="add" value="1"/>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$waterAmountAdd" operation="add" value="1"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffProcessConsumables"/>
			</effect_group>
		</buff>



		<!-- ** 敌人对玩家的伤害补正 战魂 -->
		<buff name="buffOtherDamageModifierPerkMarisaSpiritOfWar1" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<buff name="buffOtherDamageModifierPerkMarisaSpiritOfWar2" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<buff name="buffOtherDamageModifierPerkMarisaSpiritOfWar3" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<buff name="buffOtherDamageModifierPerkMarisaSpiritOfWar4" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<buff name="buffOtherDamageModifierPerkMarisaSpiritOfWar5" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<buff name="buffOtherDamageModifierPerkMarisaSpiritOfWar6" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<buff name="buffOtherDamageModifierPerkMarisaSpiritOfWar7" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<!-- ** 敌人对玩家的伤害补正 玻璃大炮 -->
		<buff name="buffOtherDamageModifierPerkMarisaPowerAndDown1" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<buff name="buffOtherDamageModifierPerkMarisaPowerAndDown2" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<buff name="buffOtherDamageModifierPerkMarisaPowerAndDown3" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<buff name="buffOtherDamageModifierPerkMarisaPowerAndDown4" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<buff name="buffOtherDamageModifierPerkMarisaPowerAndDown5" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<buff name="buffOtherDamageModifierPerkMarisaPowerAndDown6" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<buff name="buffOtherDamageModifierPerkMarisaPowerAndDown7" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<!-- ** 敌人对玩家的伤害补正 火场怪力 -->
		<buff name="buffOtherDamageModifierPerkMarisaCrisisPower1" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<buff name="buffOtherDamageModifierPerkMarisaCrisisPower2" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<buff name="buffOtherDamageModifierPerkMarisaCrisisPower3" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<buff name="buffOtherDamageModifierPerkMarisaCrisisPower4" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<buff name="buffOtherDamageModifierPerkMarisaCrisisPower5" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<buff name="buffOtherDamageModifierPerkMarisaCrisisPower6" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<buff name="buffOtherDamageModifierPerkMarisaCrisisPower7" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>



		<!-- ** 抵御 护甲下降耐性 -->
		<buff name="buffUnablePerkMarisaDefDown" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<!-- ** 抵御 瘴气侵蚀耐性 -->
		<buff name="buffUnablePerkMarisaMiasmaticErosion" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
		</buff>
		<!-- ** 护甲下降耐性 3 -->
		<buff name="buffDefDownBase10" hidden="true">
			<stack_type value="replace"/>
			<duration value="60"/>
			<effect_group>
				<passive_effect name="PhysicalDamageResist" operation="base_add" value="-10"/>
			</effect_group>
		</buff>
		<!-- ** 瘴气侵蚀耐性 3 -->
		<buff name="buffHealthMaxDownPerc10" hidden="true">
			<stack_type value="replace"/>
			<duration value="60"/>
			<effect_group>
				<passive_effect name="HealthMax" operation="perc_add" value="-.1"/>
			</effect_group>
		</buff>



		<!-- 鬼人药 -->
		<buff name="buffIridescentPotionAttack" name_key="buffIridescentPotionAttackName" description_key="buffIridescentPotionAttackDesc" showonhud="true" icon="ui_game_symbol_tea" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffIridescentPotionAttack2"/>
				<passive_effect name="EntityDamage" operation="base_add" value="10" tags="perkDeadEye,perkJavelinMaster,perkSalvageOperations,perkPummelPete,perkSkullCrusher,perkMiner69r,perkBrawler,perkMachineGunner,perkArchery,perkGunslinger,perkDeepCuts,perkElectrocutioner"/>
				<passive_effect name="EntityDamage" operation="base_add" value="1" tags="perkBoomstick,perkTurrets"/>
			</effect_group>
		</buff>
		<!-- 硬化药 -->
		<buff name="buffIridescentPotionDefend" name_key="buffIridescentPotionDefendName" description_key="buffIridescentPotionDefendDesc" showonhud="true" icon="ui_game_symbol_tea" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffIridescentPotionDefend2"/>
				<passive_effect name="PhysicalDamageResist" operation="base_add" value="10"/>
			</effect_group>
		</buff>
		<!-- 强走药 -->
		<buff name="buffIridescentPotionStamina" name_key="buffIridescentPotionStaminaName" description_key="buffIridescentPotionStaminaDesc" showonhud="true" icon="ui_game_symbol_tea" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffIridescentPotionStamina2"/>
				<passive_effect name="StaminaLoss" operation="perc_add" value="-1"/>
				<passive_effect name="StaminaChangeOT" operation="perc_add" value="2"/>
			</effect_group>
		</buff>

		<!-- 鬼人药 大 -->
		<buff name="buffIridescentPotionAttack2" name_key="buffIridescentPotionAttack2Name" description_key="buffIridescentPotionAttack2Desc" showonhud="true" icon="ui_game_symbol_tea" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffIridescentPotionAttack"/>
				<passive_effect name="EntityDamage" operation="base_add" value="20" tags="perkDeadEye,perkJavelinMaster,perkSalvageOperations,perkPummelPete,perkSkullCrusher,perkMiner69r,perkBrawler,perkMachineGunner,perkArchery,perkGunslinger,perkDeepCuts,perkElectrocutioner"/>
				<passive_effect name="EntityDamage" operation="base_add" value="2" tags="perkBoomstick,perkTurrets"/>
			</effect_group>
		</buff>
		<!-- 硬化药 大 -->
		<buff name="buffIridescentPotionDefend2" name_key="buffIridescentPotionDefend2Name" description_key="buffIridescentPotionDefend2Desc" showonhud="true" icon="ui_game_symbol_tea" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffIridescentPotionDefend"/>
				<passive_effect name="PhysicalDamageResist" operation="base_add" value="20"/>
			</effect_group>
		</buff>
		<!-- 强走药 大 -->
		<buff name="buffIridescentPotionStamina2" name_key="buffIridescentPotionStamina2Name" description_key="buffIridescentPotionStamina2Desc" showonhud="true" icon="ui_game_symbol_tea" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="IridescentPotionStamina"/>
				<passive_effect name="StaminaLoss" operation="perc_add" value="-1"/>
				<passive_effect name="StaminaChangeOT" operation="perc_add" value="2"/>
			</effect_group>
		</buff>

		<!-- 天丛菇 冷却 -->
		<buff name="buffMarisaTeleportUpCold" name_key="buffMarisaTeleportUpColdName" description_key="buffMarisaTeleportUpColdDesc" showonhud="true" icon="ui_game_symbol_tea" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="20"/>
		</buff>



		<!-- 旗帜 生命回复 -->
		<buff name="buffBannerStationAOE" hidden="true">
			<stack_type value="ignore"/>
			<duration value="1"/>
			<effect_group>
				<requirement name="EntityTagCompare" tags="player"/>
				<requirement name="NotHasBuff" buff="buffYcxBannerStation"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffBannerStationAOEEffect"/>
			</effect_group>
		</buff>
		<buff name="buffBannerStationAOEEffect" name_key="buffBannerStationAOEEffectName" description_key="buffBannerStationAOEEffectDesc" icon="ui_game_symbol_adventure" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="3"/>

			<effect_group>
				<passive_effect name="HealthChangeOT" operation="base_add" value="1"/>
				<passive_effect name="FoodLossPerHealthPointGained" operation="base_set" value="0"/>
			</effect_group>
		</buff>
		<!-- 旗帜 伤害减免 -->
		<buff name="buffBannerStationDefAOE" hidden="true">
			<stack_type value="ignore"/>
			<duration value="1"/>
			<effect_group>
				<requirement name="EntityTagCompare" tags="player"/>
				<requirement name="NotHasBuff" buff="buffYcxBannerStationDef"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffBannerStationDefAOEEffect"/>
			</effect_group>
		</buff>
		<buff name="buffBannerStationDefAOEEffect" name_key="buffBannerStationDefAOEEffectName" description_key="buffBannerStationDefAOEEffectDesc" icon="ui_game_symbol_adventure" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="3"/>

			<effect_group>
				<passive_effect name="GeneralDamageResist" operation="base_add" value="0.1"/>
			</effect_group>
		</buff>
		<!-- 旗帜 伤害提升 -->
		<buff name="buffBannerStationAtkAOE" hidden="true">
			<stack_type value="ignore"/>
			<duration value="1"/>
			<effect_group>
				<requirement name="EntityTagCompare" tags="player"/>
				<requirement name="NotHasBuff" buff="buffYcxBannerStationAtk"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffBannerStationAtkAOEEffect"/>
			</effect_group>
		</buff>
		<buff name="buffBannerStationAtkAOEEffect" name_key="buffBannerStationAtkAOEEffectName" description_key="buffBannerStationAtkAOEEffectDesc" icon="ui_game_symbol_adventure" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="3"/>

			<effect_group>
				<passive_effect name="EntityDamage" operation="base_add" value="10"/>
			</effect_group>
		</buff>
		<!-- 旗帜 物块伤害降低 -->
		<buff name="buffBannerStationBlockDamageDownAOE" hidden="true">
			<stack_type value="ignore"/>
			<duration value="1"/>
			<effect_group>
				<requirement name="EntityTagCompare" tags="player"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffBannerStationBlockDamageDownAOEEffect"/>
			</effect_group>
		</buff>
		<buff name="buffBannerStationBlockDamageDownAOEEffect" name_key="buffBannerStationBlockDamageDownAOEEffectName" description_key="buffBannerStationBlockDamageDownAOEEffectDesc" icon="ui_game_symbol_adventure" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="3"/>
			<effect_group>
                <passive_effect name="BlockDamage" operation="base_set" value="0"/>
                <passive_effect name="BlockDamage" operation="perc_set" value="0"/>
                <passive_effect name="ExplosionBlockDamage" operation="perc_set" value="0"/>
			</effect_group>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" target="selfAOE" target_tags="animal,zombie" range="50" buff="buffBannerStationBlockDamageDownAOEEffectZombie"/>
				<triggered_effect trigger="onSelfBuffStack" action="AddBuff" target="selfAOE" target_tags="animal,zombie" range="50" buff="buffBannerStationBlockDamageDownAOEEffectZombie"/>
			</effect_group>
		</buff>
		<buff name="buffBannerStationBlockDamageDownAOEEffectZombie" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
			<effect_group>
                <passive_effect name="BlockDamage" operation="base_set" value="0"/>
                <passive_effect name="BlockDamage" operation="perc_set" value="0"/>
                <passive_effect name="ExplosionBlockDamage" operation="perc_set" value="0"/>
			</effect_group>
		</buff>

		<!-- 一次性旗帜 生命回复 -->
		<buff name="buffYcxBannerStation" hidden="true">
			<stack_type value="replace"/>
			<duration value="1200"/>
		</buff>
		<!-- 一次性旗帜 伤害减免 -->
		<buff name="buffYcxBannerStationDef" hidden="true">
			<stack_type value="replace"/>
			<duration value="1200"/>
		</buff>
		<!-- 一次性旗帜 伤害提升 -->
		<buff name="buffYcxBannerStationAtk" hidden="true">
			<stack_type value="replace"/>
			<duration value="1200"/>
		</buff>



		<!-- 后缀套装 T3 极意 -->
		<buff name="buffT3SuitPerkMarisaCheck" hidden="true">
			<stack_type value="replace"/>
			<duration value="0"/>

			<!-- ** Arlene 阿琳 -->
			<!-- ** Marlene 马琳 -->
			<!-- ** PartyGirl 派对女孩 -->
			<!-- ** Nurse 护士 -->
			<!-- ** Joe 乔 -->
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaSneakUp">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetJoe" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitJoe" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesJoe" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaSneakUp">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetJoe" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitJoe" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsJoe" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaSneakUp">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetJoe" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesJoe" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsJoe" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaSneakUp">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitJoe" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesJoe" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsJoe" operation="GTE" value="1"/>
				</passive_effect>
			</effect_group>
			<!-- ** Steve 史蒂夫 -->
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaKillExp">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetSteve" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitSteve" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesSteve" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaKillExp">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetSteve" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitSteve" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsSteve" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaKillExp">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetSteve" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesSteve" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsSteve" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaKillExp">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitSteve" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesSteve" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsSteve" operation="GTE" value="1"/>
				</passive_effect>
			</effect_group>
			<!-- ** TomClark 汤姆·克拉克 -->
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaTreasureHuntStar">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetTomClark" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitTomClark" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesTomClark" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaTreasureHuntStar">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetTomClark" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitTomClark" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsTomClark" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaTreasureHuntStar">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetTomClark" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesTomClark" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsTomClark" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaTreasureHuntStar">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitTomClark" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesTomClark" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsTomClark" operation="GTE" value="1"/>
				</passive_effect>
			</effect_group>
			<!-- ** BusinessMan 商人 -->
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaCopperSmelting">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetBusinessMan" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitBusinessMan" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesBusinessMan" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaCopperSmelting">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetBusinessMan" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitBusinessMan" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsBusinessMan" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaCopperSmelting">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetBusinessMan" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesBusinessMan" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsBusinessMan" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaCopperSmelting">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitBusinessMan" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesBusinessMan" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsBusinessMan" operation="GTE" value="1"/>
				</passive_effect>
			</effect_group>
			<!-- ** Burnt 被灼烧者 -->
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaCrisisPower">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetBurnt" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitBurnt" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesBurnt" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaCrisisPower">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetBurnt" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitBurnt" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsBurnt" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaCrisisPower">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetBurnt" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesBurnt" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsBurnt" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaCrisisPower">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitBurnt" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesBurnt" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsBurnt" operation="GTE" value="1"/>
				</passive_effect>
			</effect_group>
			<!-- ** PlagueSpitter 瘟疫喷吐者 -->
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="perkMarisaDefensiveElf">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetPlagueSpitter" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitPlagueSpitter" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesPlagueSpitter" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="perkMarisaDefensiveElf">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetPlagueSpitter" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitPlagueSpitter" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsPlagueSpitter" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="perkMarisaDefensiveElf">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetPlagueSpitter" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesPlagueSpitter" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsPlagueSpitter" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="perkMarisaDefensiveElf">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetPlagueSpitter" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesPlagueSpitter" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsPlagueSpitter" operation="GTE" value="1"/>
				</passive_effect>
			</effect_group>
			<!-- ** Frostclaw 霜爪丧尸 -->
			<!-- ** Spider 蜘蛛 -->
			<!-- ** Boe 布尔 -->
			<!-- ** MaleHazmat 穿着防化服的丧尸 -->
			<!-- ** Janitor 看门人 -->
			<!-- ** Inmate 犯人 -->
			<!-- ** Moe 莫伊 -->
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaBurnBlood">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetMoe" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitMoe" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesMoe" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaBurnBlood">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetMoe" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitMoe" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsMoe" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaBurnBlood">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetMoe" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesMoe" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsMoe" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaBurnBlood">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitMoe" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesMoe" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsMoe" operation="GTE" value="1"/>
				</passive_effect>
			</effect_group>
			<!-- ** Lab 实验室工作人员 -->
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaVitality">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetLab" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitLab" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesLab" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaVitality">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetLab" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitLab" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsLab" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaVitality">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetLab" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesLab" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsLab" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaVitality">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitLab" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesLab" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsLab" operation="GTE" value="1"/>
				</passive_effect>
			</effect_group>
			<!-- ** Darlene 达琳 -->
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaStuffed">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetDarlene" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitDarlene" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesDarlene" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaStuffed">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetDarlene" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitDarlene" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsDarlene" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaStuffed">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetDarlene" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesDarlene" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsDarlene" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaStuffed">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitDarlene" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesDarlene" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsDarlene" operation="GTE" value="1"/>
				</passive_effect>
			</effect_group>
			<!-- ** Yo 幽 -->
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaPowerAndDown">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetYo" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitYo" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesYo" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaPowerAndDown">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetYo" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitYo" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsYo" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaPowerAndDown">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetYo" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesYo" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsYo" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaPowerAndDown">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitYo" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesYo" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsYo" operation="GTE" value="1"/>
				</passive_effect>
			</effect_group>
			<!-- ** UtilityWorker 公用事业工人 -->
			<!-- ** Biker 摩托车手 -->
			<!-- ** Lumberjack 伐木工 -->
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaStun">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetLumberjack" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitLumberjack" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesLumberjack" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaStun">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetLumberjack" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitLumberjack" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsLumberjack" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaStun">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetLumberjack" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesLumberjack" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsLumberjack" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaStun">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitLumberjack" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesLumberjack" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsLumberjack" operation="GTE" value="1"/>
				</passive_effect>
			</effect_group>
			<!-- ** FemaleFat 大妈妈 -->
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaHealthMaxUp">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetFemaleFat" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitFemaleFat" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesFemaleFat" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaHealthMaxUp">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetFemaleFat" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitFemaleFat" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsFemaleFat" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaHealthMaxUp">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetFemaleFat" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesFemaleFat" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsFemaleFat" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaHealthMaxUp">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitFemaleFat" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesFemaleFat" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsFemaleFat" operation="GTE" value="1"/>
				</passive_effect>
			</effect_group>
			<!-- ** FatHawaiian 游客 -->
			<!-- ** Bowler 投球手 -->
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="perkMarisaThroughStars">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetBowler" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitBowler" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesBowler" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="perkMarisaThroughStars">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetBowler" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitBowler" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsBowler" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="perkMarisaThroughStars">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetBowler" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesBowler" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsBowler" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="perkMarisaThroughStars">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitBowler" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesBowler" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsBowler" operation="GTE" value="1"/>
				</passive_effect>
			</effect_group>
			<!-- ** FatCop 警察 -->
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaDefensiveBuffer">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetFatCop" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitFatCop" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesFatCop" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaDefensiveBuffer">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetFatCop" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitFatCop" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsFatCop" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaDefensiveBuffer">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetFatCop" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesFatCop" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsFatCop" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaDefensiveBuffer">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitFatCop" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesFatCop" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsFatCop" operation="GTE" value="1"/>
				</passive_effect>
			</effect_group>
			<!-- ** Skateboarder 暴徒 -->
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaLiberationPower">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetSkateboarder" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitSkateboarder" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesSkateboarder" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaLiberationPower">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetSkateboarder" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitSkateboarder" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsSkateboarder" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaLiberationPower">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetSkateboarder" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesSkateboarder" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsSkateboarder" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaLiberationPower">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitSkateboarder" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesSkateboarder" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsSkateboarder" operation="GTE" value="1"/>
				</passive_effect>
			</effect_group>
			<!-- ** Soldier 士兵 -->
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaSpiritOfWar">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetSoldier" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitSoldier" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesSoldier" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaSpiritOfWar">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetSoldier" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitSoldier" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsSoldier" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaSpiritOfWar">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetSoldier" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesSoldier" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsSoldier" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaSpiritOfWar">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitSoldier" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesSoldier" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsSoldier" operation="GTE" value="1"/>
				</passive_effect>
			</effect_group>
			<!-- ** Wight 怀特 -->
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaChallenge">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetWight" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitWight" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesWight" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaChallenge">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetWight" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitWight" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsWight" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaChallenge">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetWight" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesWight" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsWight" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaChallenge">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitWight" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesWight" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsWight" operation="GTE" value="1"/>
				</passive_effect>
			</effect_group>
			<!-- ** Screamer 尖叫丧尸 -->
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaAutomatic">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetScreamer" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitScreamer" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesScreamer" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaAutomatic">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetScreamer" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitScreamer" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsScreamer" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaAutomatic">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetScreamer" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesScreamer" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsScreamer" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaAutomatic">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitScreamer" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesScreamer" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsScreamer" operation="GTE" value="1"/>
				</passive_effect>
			</effect_group>
			<!-- ** Mutated 变异丧尸 -->
			<!-- ** Demolition 爆破丧尸 -->
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaBomberman">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetDemolition" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitDemolition" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesDemolition" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaBomberman">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetDemolition" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitDemolition" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsDemolition" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaBomberman">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3HelmetDemolition" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesDemolition" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsDemolition" operation="GTE" value="1"/>
				</passive_effect>
				<passive_effect name="PerkLevel" operation="base_set" value="1" tags="t3SuitPerkMarisaBomberman">
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3OutfitDemolition" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3GlovesDemolition" operation="GTE" value="1"/>
					<requirement name="CVarCompare" cvar=".iridescentPerksGroupT3BootsDemolition" operation="GTE" value="1"/>
				</passive_effect>
			</effect_group>
			<!-- ** SteveCrawler 爬行者 -->
		</buff>

	</append>

	<!-- *** 猫饭 -->
	<append xpath="/buffs">

		<!-- 魔理沙的饭 -->
		<buff name="buffMarisasFeast" name_key="buffMarisasFeastName" description_key="buffMarisasFeastDesc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="3602"/>
			<effect_group>
				<passive_effect name="HealthMax" operation="base_add" value="50"/>
				<passive_effect name="StaminaMax" operation="base_add" value="50"/>
                <triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" target="self" operation="add" value="50" delay="0.5"/>
				<!-- 实体伤害 -->
				<passive_effect name="EntityDamage" operation="base_add" value="2"><requirement name="CVarCompare" cvar=".buffMarisasFeastEntityDamage" operation="Equals" value="1"/></passive_effect>
				<passive_effect name="EntityDamage" operation="base_add" value="3"><requirement name="CVarCompare" cvar=".buffMarisasFeastEntityDamage" operation="Equals" value="2"/></passive_effect>
				<passive_effect name="EntityDamage" operation="base_add" value="5"><requirement name="CVarCompare" cvar=".buffMarisasFeastEntityDamage" operation="Equals" value="3"/></passive_effect>
				<!-- 伤害减免 -->
				<passive_effect name="GeneralDamageResist" operation="base_add" value=".02"><requirement name="CVarCompare" cvar=".buffMarisasFeastGeneralDamageResist" operation="Equals" value="1"/></passive_effect>
				<passive_effect name="GeneralDamageResist" operation="base_add" value=".03"><requirement name="CVarCompare" cvar=".buffMarisasFeastGeneralDamageResist" operation="Equals" value="2"/></passive_effect>
				<passive_effect name="GeneralDamageResist" operation="base_add" value=".05"><requirement name="CVarCompare" cvar=".buffMarisasFeastGeneralDamageResist" operation="Equals" value="3"/></passive_effect>
				<!-- 移动速度 -->
				<passive_effect name="Mobility" operation="perc_add" value=".02"><requirement name="CVarCompare" cvar=".buffMarisasFeastMobility" operation="Equals" value="1"/></passive_effect>
				<passive_effect name="Mobility" operation="perc_add" value=".03"><requirement name="CVarCompare" cvar=".buffMarisasFeastMobility" operation="Equals" value="2"/></passive_effect>
				<passive_effect name="Mobility" operation="perc_add" value=".05"><requirement name="CVarCompare" cvar=".buffMarisasFeastMobility" operation="Equals" value="3"/></passive_effect>
				<!-- 生命回复 -->
				<passive_effect name="HealthChangeOT" operation="base_add" value=".04"><requirement name="CVarCompare" cvar=".buffMarisasHealthChangeOT" operation="Equals" value="1"/></passive_effect>
				<passive_effect name="HealthChangeOT" operation="base_add" value=".06"><requirement name="CVarCompare" cvar=".buffMarisasHealthChangeOT" operation="Equals" value="2"/></passive_effect>
				<passive_effect name="HealthChangeOT" operation="base_add" value=".1"><requirement name="CVarCompare" cvar=".buffMarisasHealthChangeOT" operation="Equals" value="3"/></passive_effect>
				<!-- 体力回复 -->
				<passive_effect name="StaminaChangeOT" operation="perc_add" value=".04"><requirement name="CVarCompare" cvar=".buffMarisasFeastStaminaChangeOT" operation="Equals" value="1"/></passive_effect>
				<passive_effect name="StaminaChangeOT" operation="perc_add" value=".06"><requirement name="CVarCompare" cvar=".buffMarisasFeastStaminaChangeOT" operation="Equals" value="2"/></passive_effect>
				<passive_effect name="StaminaChangeOT" operation="perc_add" value=".1"><requirement name="CVarCompare" cvar=".buffMarisasFeastStaminaChangeOT" operation="Equals" value="3"/></passive_effect>
				<!-- 物块伤害 -->
				<passive_effect name="BlockDamage" operation="perc_add" value=".08"><requirement name="CVarCompare" cvar=".buffMarisasFeastBlockDamage" operation="Equals" value="1"/></passive_effect>
				<passive_effect name="BlockDamage" operation="perc_add" value=".12"><requirement name="CVarCompare" cvar=".buffMarisasFeastBlockDamage" operation="Equals" value="2"/></passive_effect>
				<passive_effect name="BlockDamage" operation="perc_add" value=".2"><requirement name="CVarCompare" cvar=".buffMarisasFeastBlockDamage" operation="Equals" value="3"/></passive_effect>
			</effect_group>
			<effect_group>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".buffMarisasFeastEntityDamage" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".buffMarisasFeastGeneralDamageResist" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".buffMarisasFeastMobility" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".buffMarisasHealthChangeOT" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".buffMarisasFeastStaminaChangeOT" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".buffMarisasFeastBlockDamage" operation="set" value="0"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的击晕术 -->
		<buff name="buffMarisasFeastEffect1" name_key="buffMarisasFeastEffect1Name" description_key="buffMarisasFeastEffect1Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<requirement name="HasBuff" buff="buffInjuryStunned01" target="other"/>
				<passive_effect name="DamageModifier" operation="perc_add" value=".15"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的体术 -->
		<buff name="buffMarisasFeastEffect2" name_key="buffMarisasFeastEffect2Name" description_key="buffMarisasFeastEffect2Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="StaminaLoss" operation="perc_add" value="-.05"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的火场怪力 -->
		<buff name="buffMarisasFeastEffect3" name_key="buffMarisasFeastEffect3Name" description_key="buffMarisasFeastEffect3Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<requirement name="StatComparePercCurrentToMax" stat="Health" operation="LTE" value=".1"/>
				<passive_effect name="DamageModifier" operation="perc_add" value=".40"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的理毛好手 -->
		<buff name="buffMarisasFeastEffect4" name_key="buffMarisasFeastEffect4Name" description_key="buffMarisasFeastEffect4Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$commandoCritNaturalHealing" operation="set" value=".5"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$commandoCritNaturalHealing" operation="set" value="0"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的治愈术 -->
		<buff name="buffMarisasFeastEffect5" name_key="buffMarisasFeastEffect5Name" description_key="buffMarisasFeastEffect5Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<requirement name="NotHasBuff" buff="buffStatusHungry03"/>
				<requirement name="NotHasBuff" buff="buffStatusThirsty03"/>
				<passive_effect name="HealthChangeOT" operation="base_add" value=".15"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的射击术 -->
		<buff name="buffMarisasFeastEffect6" name_key="buffMarisasFeastEffect6Name" description_key="buffMarisasFeastEffect6Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<requirement name="ItemHasTags" tags="ranged"/>
				<passive_effect name="DamageModifier" operation="perc_add" value=".1"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的炮击术 -->
		<buff name="buffMarisasFeastEffect7" name_key="buffMarisasFeastEffect7Name" description_key="buffMarisasFeastEffect7Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="ExplosionBlockDamage" operation="perc_add" value=".1" tags="perkDemolitionsExpert,perkArchery"/>
				<passive_effect name="ExplosionEntityDamage" operation="perc_add" value=".1" tags="perkDemolitionsExpert,perkArchery"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的换算术 -->
		<buff name="buffMarisasFeastEffect8" name_key="buffMarisasFeastEffect8Name" description_key="buffMarisasFeastEffect8Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="QuestBonusItemReward" operation="perc_add" value=".2"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的收获祭 -->
		<buff name="buffMarisasFeastEffect9" name_key="buffMarisasFeastEffect9Name" description_key="buffMarisasFeastEffect9Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="HarvestCount" operation="base_add" value="1" tags="farmerBonusHarvest"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的财运 -->
		<buff name="buffMarisasFeastEffect10" name_key="buffMarisasFeastEffect10Name" description_key="buffMarisasFeastEffect10Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="LootQuantity" operation="perc_add" value=".5" tags="dukes"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的幸运 -->
		<buff name="buffMarisasFeastEffect11" name_key="buffMarisasFeastEffect11Name" description_key="buffMarisasFeastEffect11Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="LootStage" operation="base_add" level="1" value="5"/>
				<passive_effect name="LootStage" operation="perc_add" level="1" value=".1"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的后面交给你们了！ -->
		<buff name="buffMarisasFeastEffect12" name_key="buffMarisasFeastEffect12Name" description_key="buffMarisasFeastEffect12Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<triggered_effect trigger="onSelfDied" action="ModifyStats" stat="Health" target="selfOtherPlayers" target_tags="ally,party" operation="add" value="60"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的蛮干术 -->
		<buff name="buffMarisasFeastEffect13" name_key="buffMarisasFeastEffect13Name" description_key="buffMarisasFeastEffect13Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" buff="buffMarisasFeastEffect13On"/>
			</effect_group>
		</buff>
		<buff name="buffMarisasFeastEffect13On" hidden="true">
			<stack_type value="replace"/>
			<duration value="1"/>
			<effect_group>
				<passive_effect name="DamageModifier" operation="perc_add" value=".15"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的着地术 -->
		<buff name="buffMarisasFeastEffect14" name_key="buffMarisasFeastEffect14Name" description_key="buffMarisasFeastEffect14Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$buffFeastEffectBonus" operation="set" value=".08484"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar="$buffFeastEffectBonus" operation="set" value="0"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的天气预报 -->
		<buff name="buffMarisasFeastEffect15" name_key="buffMarisasFeastEffect15Name" description_key="buffMarisasFeastEffect15Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="CallGameEvent" event="marisa_weather_rain" allow_client_call="true"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的吸引仇恨好手 -->
		<buff name="buffMarisasFeastEffect16" name_key="buffMarisasFeastEffect16Name" description_key="buffMarisasFeastEffect16Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="LightMultiplier" operation="perc_add" value=".5"/>
				<passive_effect name="NoiseMultiplier" operation="perc_add" value=".5"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的防御术 -->
		<buff name="buffMarisasFeastEffect17" name_key="buffMarisasFeastEffect17Name" description_key="buffMarisasFeastEffect17Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="GeneralDamageResist" operation="base_add" value=".05"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的粗暴射击 -->
		<buff name="buffMarisasFeastEffect18" name_key="buffMarisasFeastEffect18Name" description_key="buffMarisasFeastEffect18Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<requirement name="ItemHasTags" tags="ranged"/>
				<passive_effect name="DamageModifier" operation="perc_add" value=".15"/>
				<passive_effect name="IncrementalSpreadMultiplier" operation="perc_add" value=".1"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的指导术 -->
		<buff name="buffMarisasFeastEffect19" name_key="buffMarisasFeastEffect19Name" description_key="buffMarisasFeastEffect19Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PlayerExpGain" operation="perc_add" value=".1"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的休息术 -->
		<buff name="buffMarisasFeastEffect20" name_key="buffMarisasFeastEffect20Name" description_key="buffMarisasFeastEffect20Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<requirement name="CVarCompare" cvar=".buffMarisasFeastEffect20" operation="GTE" value="4"/>
				<passive_effect name="DamageModifier" operation="perc_add" value=".1"/>
			</effect_group>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".buffMarisasFeastEffect20" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".buffMarisasFeastEffect20" operation="set" value="0"/>
				<triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar=".buffMarisasFeastEffect20" operation="set" value="0"/>
				<triggered_effect trigger="onSelfSecondaryActionEnd" action="ModifyCVar" cvar=".buffMarisasFeastEffect20" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".buffMarisasFeastEffect20" operation="add" value="1">
					<requirement name="CVarCompare" cvar=".buffMarisasFeastEffect15" operation="LT" value="4"/>
				</triggered_effect>
			</effect_group>
		</buff>
		<!-- 魔理沙的短期催眠术 -->
		<buff name="buffMarisasFeastEffect21" name_key="buffMarisasFeastEffect21Name" description_key="buffMarisasFeastEffect21Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="base_add" value="15" tags="perkDeadEye,perkJavelinMaster,perkSalvageOperations,perkPummelPete,perkSkullCrusher,perkMiner69r,perkBrawler,perkMachineGunner,perkArchery,perkGunslinger,perkDeepCuts,perkElectrocutioner"/>
				<passive_effect name="EntityDamage" operation="base_add" value="1.5" tags="perkBoomstick,perkTurrets"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的轻功达人 -->
		<buff name="buffMarisasFeastEffect22" name_key="buffMarisasFeastEffect22Name" description_key="buffMarisasFeastEffect22Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="StaminaLoss" operation="perc_add" level="1" value="-.05" tags="jumping"/>
				<passive_effect name="StaminaChangeOT" operation="perc_add" level="1" value=".1" tags="running"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的采蜜术 -->
		<buff name="buffMarisasFeastEffect23" name_key="buffMarisasFeastEffect23Name" description_key="buffMarisasFeastEffect23Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="HarvestCount" operation="base_add" value="1" tags="WasteTreasuresHoneyHarvest"/>
			</effect_group>
		</buff>
		<!-- 魔理沙的饱腹术 -->
		<buff name="buffMarisasFeastEffect24" name_key="buffMarisasFeastEffect24Name" description_key="buffMarisasFeastEffect24Desc" showonhud="true" icon="ui_game_symbol_spatula" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<requirement name="StatComparePercCurrentToMax" stat="Food" operation="GTE" value=".9"/>
				<requirement name="StatComparePercCurrentToMax" stat="Water" operation="GTE" value=".9"/>
				<passive_effect name="DamageModifier" operation="perc_add" value=".1"/>
			</effect_group>
		</buff>

	</append>

	<!-- *** 充能 -->
	<append xpath="/buffs">

		<!-- * 驾驶名人 -->
		<buff name="buffMarisaVehicleVelocity" name_key="buffMarisaVehicleVelocityName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaVehicleVelocity"/>
			</effect_group>
		</buff>
		<!-- * 快速换弹 -->
		<buff name="buffMarisaReloadSpeed" name_key="buffMarisaReloadSpeedName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaReloadSpeed"/>
			</effect_group>
		</buff>
		<!-- * 纳刀术 -->
		<buff name="buffMarisaNanoKnife" name_key="buffMarisaNanoKnifeName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaNanoKnife"/>
			</effect_group>
		</buff>
		<!-- * 集中 -->
		<buff name="buffMarisaConcentration" name_key="buffMarisaConcentrationName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaConcentration"/>
			</effect_group>
		</buff>
		<!-- * 攻击 -->
		<buff name="buffMarisaAttack" name_key="buffMarisaAttackName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaAttack"/>
			</effect_group>
		</buff>
		<!-- * 无伤 -->
		<buff name="buffMarisaFullHealth" name_key="buffMarisaFullHealthName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaFullHealth"/>
			</effect_group>
		</buff>
		<!-- * 弱点特效 -->
		<buff name="buffMarisaHeadDamage" name_key="buffMarisaHeadDamageName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaHeadDamage"/>
			</effect_group>
		</buff>
		<!-- * 精神抖擞 -->
		<buff name="buffMarisaVitality" name_key="buffMarisaVitalityName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaVitality"/>
			</effect_group>
		</buff>
		<!-- * 力量解放 -->
		<buff name="buffMarisaLiberationPower" name_key="buffMarisaLiberationPowerName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaLiberationPower"/>
			</effect_group>
		</buff>
		<!-- * 体力提升 -->
		<buff name="buffMarisaStaminaMaxUp" name_key="buffMarisaStaminaMaxUpName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaStaminaMaxUp"/>
			</effect_group>
		</buff>
		<!-- * 回复速度 -->
		<buff name="buffMarisaHealthChangeOT" name_key="buffMarisaHealthChangeOTName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaHealthChangeOT"/>
			</effect_group>
		</buff>
		<!-- * 体力急速回复 -->
		<buff name="buffMarisaStaminaChangeOT" name_key="buffMarisaStaminaChangeOTName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaStaminaChangeOT"/>
			</effect_group>
		</buff>
		<!-- * 体术 -->
		<buff name="buffMarisaStaminaLossDown" name_key="buffMarisaStaminaLossDownName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaStaminaLossDown"/>
			</effect_group>
		</buff>
		<!-- * 防御 -->
		<buff name="buffMarisaDefensive" name_key="buffMarisaDefensiveName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaDefensive"/>
			</effect_group>
		</buff>
		<!-- * 精灵加护 -->
		<buff name="buffMarisaDefensiveElf" name_key="buffMarisaDefensiveElfName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaDefensiveElf"/>
			</effect_group>
		</buff>
		<!-- * 暴击耐性 -->
		<buff name="buffMarisaBuffResistance" name_key="buffMarisaBuffResistanceName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaBuffResistance"/>
			</effect_group>
		</buff>
		<!-- * 炼铜 -->
		<buff name="buffMarisaCopperSmelting" name_key="buffMarisaCopperSmeltingName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaCopperSmelting"/>
			</effect_group>
		</buff>
		<!-- * 盛宴 -->
		<buff name="buffMarisaKillRecovery" name_key="buffMarisaKillRecoveryName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaKillRecovery"/>
			</effect_group>
		</buff>
		<!-- * 治愈收割 -->
		<buff name="buffMarisaKillHealing" name_key="buffMarisaKillHealingName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaKillHealing"/>
			</effect_group>
		</buff>
		<!-- * 属性解放 -->
		<buff name="buffMarisaAttributeLiberation" name_key="buffMarisaAttributeLiberationName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaAttributeLiberation"/>
			</effect_group>
		</buff>
		<!-- * 贯星 -->
		<buff name="buffMarisaThroughStars" name_key="buffMarisaThroughStarsName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaThroughStars"/>
			</effect_group>
		</buff>
		<!-- * 吸血鬼之吻 -->
		<buff name="buffMarisaVampireKiss" name_key="buffMarisaVampireKissName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaVampireKiss"/>
			</effect_group>
		</buff>
		<!-- * 属性莲华 -->
		<buff name="buffMarisaIntensifyAoe" name_key="buffMarisaIntensifyAoeName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaIntensifyAoe"/>
			</effect_group>
		</buff>
		<!-- * 异常莲华 -->
		<buff name="buffMarisaEffectAoe" name_key="buffMarisaEffectAoeName" description_key="buffMarisaPerCommonDesc" showonhud="true" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="1802"/>
			<effect_group>
				<passive_effect name="PerkLevel" operation="base_add" value="1" tags="perkMarisaEffectAoe"/>
			</effect_group>
		</buff>

	</append>



	<!-- *** 负面BUFF -->
	<append xpath="/buffs">

		<!-- ** 炎热 -->
		<buff name="buffElementSweltering" name_key="buffElementSwelteringName" description_key="buffElementSwelteringDesc" showonhud="true" icon="ui_game_symbol_hot" icon_color="255,0,55" icon_blink="true">
			<stack_type value="ignore"/>
			<effect_group>
				<passive_effect name="StaminaChangeOT" operation="perc_add" value="-.8"/>
				<passive_effect name="WaterLossPerStaminaPointGained" operation="perc_add" value="6"/>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" intensity="1" fade="3" effect_name="Hot2"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" intensity="0" fade="3" effect_name="Hot2"/>
			</effect_group>
		</buff>

		<!-- ** 寒冷 -->
		<buff name="buffElementFreezing" name_key="buffElementFreezingName" description_key="buffElementFreezingDesc" showonhud="true" icon="ui_game_symbol_cold" icon_color="255,0,55" icon_blink="true">
			<stack_type value="ignore"/>
			<effect_group>
				<passive_effect name="StaminaLoss" operation="perc_add" value=".8"/>
				<passive_effect name="FoodChangeOT" operation="perc_add" value=".6"/>
				<passive_effect name="FoodLossPerStaminaPointGained" operation="perc_add" value="2"/>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" intensity="1" fade="3" effect_name="Cold2"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" intensity="0" fade="3" effect_name="Cold2"/>
			</effect_group>
		</buff>

		<!-- ** 瘴气环境 -->
		<buff name="buffEnvironmentMiasmatic" name_key="buffEnvironmentMiasmaticName" description_key="buffEnvironmentMiasmaticDesc" showonhud="true" icon="ui_game_symbol_infection" icon_color="255,0,55" icon_blink="true">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<duration value="60"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" effect_name="Radiation" intensity=".6" fade="2"/>
				<triggered_effect trigger="onSelfDied" action="ModifyScreenEffect" effect_name="Radiation" intensity="0" fade="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" effect_name="Radiation" intensity="0" fade="2"/>
			</effect_group>
			<effect_group>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" target="self" operation="add" value="-1"/>
			</effect_group>
			<effect_group>
				<requirement name="!InBiome" biome="08"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffEnvironmentMiasmatic"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaEnvironmentMiasmatic" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffEnvironmentMiasmatic"/>
			</effect_group>
		</buff>

		<!-- ** 护甲下降 -->
		<buff name="buffPerkMarisaDefDown" name_key="buffPerkMarisaDefDownName" description_key="buffPerkMarisaDefDownDesc" showonhud="true" icon="server_cheat" icon_color="255,0,55">
			<stack_type value="replace"/>
			<update_rate value="1"/>
			<duration value="60"/>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaDefDownResistance" operation="LT" value="1"/>
				<passive_effect name="PhysicalDamageResist" operation="base_add" value="-40"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaDefDownResistance" operation="EQ" value="1"/>
				<passive_effect name="PhysicalDamageResist" operation="base_add" value="-12"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaDefDownResistance" operation="GTE" value="2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkMarisaDefDown"/>
			</effect_group>
		</buff>

		<!-- ** 瘴气侵蚀 -->
		<buff name="buffPerkMarisaMiasmaticErosion" name_key="buffPerkMarisaMiasmaticErosionName" description_key="buffPerkMarisaMiasmaticErosionDesc" showonhud="true" icon="ui_game_symbol_infection" icon_color="255,0,55">
			<stack_type value="replace"/>
			<update_rate value="1"/>
			<duration value="60"/>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaMiasmaticErosionResistance" operation="LT" value="1"/>
				<passive_effect name="HealthMax" operation="perc_add" value="-.4"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaMiasmaticErosionResistance" operation="EQ" value="1"/>
				<passive_effect name="HealthMax" operation="perc_add" value="-.12"/>
			</effect_group>
			<effect_group>
				<requirement name="ProgressionLevel" progression_name="perkMarisaMiasmaticErosionResistance" operation="GTE" value="2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffPerkMarisaMiasmaticErosion"/>
			</effect_group>
		</buff>

	</append>



	<!-- 任务BUFF -->
	<append xpath="/buffs">

		<!-- 潜行任务E -->
		<buff name="buffCrouchingQuestSleeper" name_key="buffCrouchingQuestSleeperName" description_key="buffCrouchingQuestSleeperDesc" hidden="true">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<duration value="0"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$CrouchingQuestWarning" operation="set" value="5"/>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$CrouchingQuestWarning" operation="set" value="300">
					<requirement name="CVarCompare" cvar="_notAlerted" operation="Equals" value="0" target="self"/>
				</triggered_effect>
			</effect_group>
			<effect_group>
				<requirement name="HasBuff" buff="buffCrouchingQuestOn" target="other" target_tags="player"/>
				<requirement name="CVarCompare" cvar="$CrouchingQuestWarning" operation="GT" value="0"/>
				<requirement name="CVarCompare" cvar="_notAlerted" operation="Equals" value="0" target="self"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$CrouchingQuestWarning" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="HasBuff" buff="buffCrouchingQuestOn" target="other" target_tags="player"/>
				<requirement name="CVarCompare" cvar="$CrouchingQuestWarning" operation="LTE" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$CrouchingQuestOnWill" target="selfAOE" range="30" target_tags="player" operation="add" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$CrouchingQuestWarning" operation="set" value="3"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffMarisaElectricFenceSparks"/>
			</effect_group>
			<effect_group>
				<requirement name="HasBuff" buff="buffCrouchingQuestOn" target="other" target_tags="player"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="$CrouchingQuestOnWill" target="selfAOE" range="30" target_tags="player" operation="add" value="1"/>
				<triggered_effect trigger="onSelfDamagedOther" action="AddBuff" buff="buffMarisaElectricFenceSparks"/>
			</effect_group>
		</buff>
		<!-- 潜行任务B -->
		<buff name="buffCrouchingQuestBefore7" hidden="true">
			<stack_type value="ignore"/>
			<duration value="3"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$CrouchingQuestOn" operation="set" value="7"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffCrouchingQuestOn"/>
			</effect_group>
		</buff>
		<buff name="buffCrouchingQuestBefore9" hidden="true">
			<stack_type value="ignore"/>
			<duration value="3"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$CrouchingQuestOn" operation="set" value="9"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffCrouchingQuestOn"/>
			</effect_group>
		</buff>
		<buff name="buffCrouchingQuestBefore12" hidden="true">
			<stack_type value="ignore"/>
			<duration value="3"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$CrouchingQuestOn" operation="set" value="12"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffCrouchingQuestOn"/>
			</effect_group>
		</buff>
		<buff name="buffCrouchingQuestBefore15" hidden="true">
			<stack_type value="ignore"/>
			<duration value="3"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$CrouchingQuestOn" operation="set" value="15"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffCrouchingQuestOn"/>
			</effect_group>
		</buff>
		<buff name="buffCrouchingQuestBefore20" hidden="true">
			<stack_type value="ignore"/>
			<duration value="3"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="$CrouchingQuestOn" operation="set" value="20"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffCrouchingQuestOn"/>
			</effect_group>
		</buff>
		<!-- 潜行任务P -->
		<buff name="buffCrouchingQuestOn" name_key="buffCrouchingQuestOnName" description_key="buffCrouchingQuestOnDesc" showonhud="true" icon="ui_game_symbol_ninja" icon_color="0,191,255">
			<stack_type value="ignore"/>
			<update_rate value=".2"/>
			<duration value="0"/>
			<display_value value="$CrouchingQuestOn"/>
			<display_value_key value="{0}"/>
			<effect_group>
				<requirement name="CVarCompare" cvar="$CrouchingQuestOnWill" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$CrouchingQuestOn" operation="subtract" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="PlaySound" sound="marisa_twitch_record_scratch" play_in_head="true"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$CrouchingQuestOnWill" operation="subtract" value="1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar="$CrouchingQuestOn" operation="LTE" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="CallGameEvent" event="EventCrouchingQuestFail" allow_client_call="true"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffCrouchingQuestOn"/>
			</effect_group>
		</buff>

	</append>



	<!-- *** 与武器联动相关 -->
	<!-- ** 流血 -->
	<remove xpath="/buffs/buff[@name='buffInjuryBleeding']"/>
	<insertAfter xpath="/buffs/buff[@name='buffSpearHunter7QuickStrike']">
		<!-- 流血 前置 -->
		<buff name="buffMarisaBuffBleedEffect" hidden="true">
			<stack_type value="ignore"/>
			<update_rate value=".5"/>
			<duration value="0"/>

			<effect_group name="apply buff primary count 0">
				<requirement name="!EntityTagCompare" tags="player"/>
				<requirement name="NotHasBuff" buff="buffInjuryBleeding"/>
				<requirement name="CVarCompare" cvar="marisaBleedCount" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar="marisaBleedEffectAmount" operation="GTE" value="100"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffInjuryBleeding" duration="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaBleedCount" operation="set" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaBleedEffectAmount" operation="set" value="0"/>
			</effect_group>
			<effect_group name="apply buff primary count 1">
				<requirement name="!EntityTagCompare" tags="player"/>
				<requirement name="NotHasBuff" buff="buffInjuryBleeding"/>
				<requirement name="CVarCompare" cvar="marisaBleedCount" operation="EQ" value="1"/>
				<requirement name="CVarCompare" cvar="marisaBleedEffectAmount" operation="GTE" value="200"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffInjuryBleeding" duration="12"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaBleedCount" operation="set" value="2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaBleedEffectAmount" operation="set" value="0"/>
			</effect_group>
			<effect_group name="apply buff primary count 2">
				<requirement name="!EntityTagCompare" tags="player"/>
				<requirement name="NotHasBuff" buff="buffInjuryBleeding"/>
				<requirement name="CVarCompare" cvar="marisaBleedCount" operation="EQ" value="2"/>
				<requirement name="CVarCompare" cvar="marisaBleedEffectAmount" operation="GTE" value="300"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffInjuryBleeding" duration="9"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaBleedEffectAmount" operation="set" value="0"/>
			</effect_group>

			<effect_group name="player apply buff">
				<requirement name="EntityTagCompare" tags="player"/>
				<requirement name="NotHasBuff" buff="buffInjuryBleeding"/>
				<requirement name="CVarCompare" cvar="marisaBleedEffectAmount" operation="GTE" value="100"/>

				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffInjuryBleeding" duration="15"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffInjuryBleeding" duration="15"/>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="marisaBleedEffectAmount" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaBleedEffectAmount" operation="set" value="0"/>
			</effect_group>

			<effect_group name="effect amount subtract by time">
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaBleedEffectAmount" operation="subtract" value="1">
					<requirement name="CVarCompare" cvar="marisaBleedEffectAmount" operation="GTE" value="1"/>
				</triggered_effect>
			</effect_group>

		</buff>
		<!-- 流血 -->
		<buff name="buffInjuryBleeding" name_key="buffInjuryBleedingName" description_key="buffInjuryBleedingDesc" tooltip_key="buffInjuryBleedingTooltip" icon="ui_game_symbol_critical" icon_color="255,0,0" icon_blink="true">
			<damage_type value="bloodloss"/>
			<damage_source value="Internal"/>
			<stack_type value="ignore"/>
			<duration value="15"/>

			<effect_group name="HealthChangeOT player">
				<requirement name="EntityTagCompare" tags="player"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="2"/>
			</effect_group>
			<effect_group name="HealthChangeOT base">
				<requirement name="!EntityTagCompare" tags="trader,player,feral,radiated,charged,infernal,crystallization,berserk,bossMarisa"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="20"/>
			</effect_group>
			<effect_group name="HealthChangeOT feral">
				<requirement name="EntityTagCompare" tags="feral"/>
				<requirement name="!EntityTagCompare" tags="radiated,charged,infernal,crystallization,berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="30"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="30"/>
			</effect_group>
			<effect_group name="HealthChangeOT radiated">
				<requirement name="EntityTagCompare" tags="radiated"/>
				<requirement name="!EntityTagCompare" tags="crystallization,berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="40"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="40"/>
			</effect_group>
			<effect_group name="HealthChangeOT charged">
				<requirement name="EntityTagCompare" tags="charged"/>
				<requirement name="!EntityTagCompare" tags="crystallization,berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="40"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="40"/>
			</effect_group>
			<effect_group name="HealthChangeOT infernal">
				<requirement name="EntityTagCompare" tags="infernal"/>
				<requirement name="!EntityTagCompare" tags="crystallization,berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="40"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="40"/>
			</effect_group>
			<effect_group name="HealthChangeOT crystallization">
				<requirement name="EntityTagCompare" tags="crystallization"/>
				<requirement name="!EntityTagCompare" tags="berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="60"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="60"/>
			</effect_group>
			<effect_group name="HealthChangeOT berserk">
				<requirement name="EntityTagCompare" tags="berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="80"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="80"/>
			</effect_group>
			<effect_group name="HealthChangeOT bossMarisa">
				<requirement name="EntityTagCompare" tags="bossMarisa"/>
				<requirement name="!EntityTagCompare" tags="crystallization,berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="40"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="40"/>
			</effect_group>
			<effect_group name="HealthChangeOT crystallization bossMarisa">
				<requirement name="EntityTagCompare" tags="bossMarisa"/>
				<requirement name="EntityTagCompare" tags="crystallization"/>
				<requirement name="!EntityTagCompare" tags="berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="120"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="120"/>
			</effect_group>
			<effect_group name="HealthChangeOT berserk bossMarisa">
				<requirement name="EntityTagCompare" tags="bossMarisa"/>
				<requirement name="EntityTagCompare" tags="berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="240"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="240"/>
			</effect_group>

			<effect_group name="debuff">
				<passive_effect name="RunSpeed" operation="perc_add" value="-.5"/>
			</effect_group>

			<effect_group name="particle">
				<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="buff_bleeding" play_in_head="true"/>
				<triggered_effect trigger="onSelfBuffRemove" action="StopSound" sound="buff_bleeding" play_in_head="true"/>
				<triggered_effect trigger="onSelfLeaveGame" action="StopSound" sound="buff_bleeding" play_in_head="true"/>
				<triggered_effect trigger="onSelfEnteredGame" action="PlaySound" sound="buff_bleeding" play_in_head="true"/>

				<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" effect_name="Blur" intensity=".6" fade="0.5"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" effect_name="Blur" intensity="0" fade="1"/>
				<triggered_effect trigger="onSelfDied" action="ModifyScreenEffect" effect_name="Infected" intensity="0" fade="0"/>
				<triggered_effect trigger="onSelfDied" action="RemoveBuff" buff="buffInjuryBleeding"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffInjuryBleedingParticle"/>
			</effect_group>

		</buff>
	</insertAfter>
	<!-- ** 辐射 -->
	<remove xpath="/buffs/buff[@name='buffRadiationPool']"/>
	<insertAfter xpath="/buffs/buff[@name='buffRadiation03']">
		<!-- 辐射 前置 -->
		<buff name="buffRadiationPoolEffect" hidden="true">
			<stack_type value="ignore"/>
			<update_rate value=".5"/>
			<duration value="0"/>

			<effect_group name="apply buff primary count 0">
				<requirement name="!EntityTagCompare" tags="player"/>
				<requirement name="NotHasBuff" buff="buffRadiationPool"/>
				<requirement name="CVarCompare" cvar="marisaRadiationPoolCount" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar="marisaRadiationPoolEffectAmount" operation="GTE" value="100"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffRadiationPool" duration="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaRadiationPoolCount" operation="set" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaRadiationPoolEffectAmount" operation="set" value="0"/>
			</effect_group>
			<effect_group name="apply buff primary count 1">
				<requirement name="!EntityTagCompare" tags="player"/>
				<requirement name="NotHasBuff" buff="buffRadiationPool"/>
				<requirement name="CVarCompare" cvar="marisaRadiationPoolCount" operation="EQ" value="1"/>
				<requirement name="CVarCompare" cvar="marisaRadiationPoolEffectAmount" operation="GTE" value="200"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffRadiationPool" duration="8"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaRadiationPoolCount" operation="set" value="2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaRadiationPoolEffectAmount" operation="set" value="0"/>
			</effect_group>
			<effect_group name="apply buff primary count 2">
				<requirement name="!EntityTagCompare" tags="player"/>
				<requirement name="NotHasBuff" buff="buffRadiationPool"/>
				<requirement name="CVarCompare" cvar="marisaRadiationPoolCount" operation="EQ" value="2"/>
				<requirement name="CVarCompare" cvar="marisaRadiationPoolEffectAmount" operation="GTE" value="300"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffRadiationPool" duration="6"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaRadiationPoolEffectAmount" operation="set" value="0"/>
			</effect_group>

			<effect_group name="player apply buff">
				<requirement name="EntityTagCompare" tags="player"/>
				<requirement name="NotHasBuff" buff="buffRadiationPool"/>
				<requirement name="CVarCompare" cvar="marisaRadiationPoolEffectAmount" operation="GTE" value="100"/>

				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffRadiationPool" duration="10"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffRadiationPool" duration="10"/>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="marisaRadiationPoolEffectAmount" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaRadiationPoolEffectAmount" operation="set" value="0"/>
			</effect_group>

			<effect_group name="effect amount subtract by time">
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaRadiationPoolEffectAmount" operation="subtract" value="1">
					<requirement name="CVarCompare" cvar="marisaRadiationPoolEffectAmount" operation="GTE" value="1"/>
				</triggered_effect>
			</effect_group>

		</buff>
		<!-- 辐射 -->
		<buff name="buffRadiationPool" name_key="buffRadiation03Name" description_key="buffRadiation03Desc" icon="ui_game_symbol_radiation" icon_color="255,0,0" icon_blink="true">
			<damage_type value="radiation"/>
			<stack_type value="ignore"/>
			<duration value="10"/>

			<effect_group name="HealthChangeOT player">
				<requirement name="EntityTagCompare" tags="player"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="2"/>
			</effect_group>
			<effect_group name="HealthChangeOT base">
				<requirement name="!EntityTagCompare" tags="trader,player,feral,radiated,charged,infernal,crystallization,berserk,bossMarisa"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="20"/>
			</effect_group>
			<effect_group name="HealthChangeOT feral">
				<requirement name="EntityTagCompare" tags="feral"/>
				<requirement name="!EntityTagCompare" tags="radiated,charged,infernal,crystallization,berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="30"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="30"/>
			</effect_group>
			<effect_group name="HealthChangeOT radiated">
				<requirement name="EntityTagCompare" tags="radiated"/>
				<requirement name="!EntityTagCompare" tags="crystallization,berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="40"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="40"/>
			</effect_group>
			<effect_group name="HealthChangeOT charged">
				<requirement name="EntityTagCompare" tags="charged"/>
				<requirement name="!EntityTagCompare" tags="crystallization,berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="40"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="40"/>
			</effect_group>
			<effect_group name="HealthChangeOT infernal">
				<requirement name="EntityTagCompare" tags="infernal"/>
				<requirement name="!EntityTagCompare" tags="crystallization,berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="40"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="40"/>
			</effect_group>
			<effect_group name="HealthChangeOT crystallization">
				<requirement name="EntityTagCompare" tags="crystallization"/>
				<requirement name="!EntityTagCompare" tags="berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="60"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="60"/>
			</effect_group>
			<effect_group name="HealthChangeOT berserk">
				<requirement name="EntityTagCompare" tags="berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="80"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="80"/>
			</effect_group>
			<effect_group name="HealthChangeOT bossMarisa">
				<requirement name="EntityTagCompare" tags="bossMarisa"/>
				<requirement name="!EntityTagCompare" tags="crystallization,berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="40"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="40"/>
			</effect_group>
			<effect_group name="HealthChangeOT crystallization bossMarisa">
				<requirement name="EntityTagCompare" tags="bossMarisa"/>
				<requirement name="EntityTagCompare" tags="crystallization"/>
				<requirement name="!EntityTagCompare" tags="berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="120"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="120"/>
			</effect_group>
			<effect_group name="HealthChangeOT berserk bossMarisa">
				<requirement name="EntityTagCompare" tags="bossMarisa"/>
				<requirement name="EntityTagCompare" tags="berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="240"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="240"/>
			</effect_group>

			<effect_group name="debuff">
				<passive_effect name="StaminaChangeOT" operation="base_add" value="-10"><requirement name="EntityTagCompare" tags="player"/></passive_effect>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffRadiatedRegenBlock"><requirement name="!EntityTagCompare" tags="player"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffRadiatedRegenBlock"><requirement name="!EntityTagCompare" tags="player"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffRemove" action="Ragdoll" duration="3.5"><requirement name="!EntityTagCompare" tags="player"/></triggered_effect>
			</effect_group>

			<effect_group name="particle">
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyScreenEffect" intensity="0" fade=".7" effect_name="Hot"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" intensity="0" fade="1" effect_name="Hot"/>

				<triggered_effect trigger="onSelfBuffStart" action="ModifyScreenEffect" effect_name="Radiation" intensity=".6" fade="1"/>
				<triggered_effect trigger="onSelfDied" action="ModifyScreenEffect" effect_name="Radiation" intensity="0" fade="0"/>
				<triggered_effect trigger="onSelfDied" action="RemoveBuff" buff="buffRadiationPool"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyScreenEffect" effect_name="Radiation" intensity="0" fade="1"/>
			</effect_group>
		</buff>
	</insertAfter>
	<!-- ** 燃烧 -->
	<remove xpath="/buffs/buff[@name='buffBurningElement' or @name='buffBurningEnvironment' or @name='buffBurningFlamingArrow' or @name='buffBurningMolotov' or @name='buffHazardBurningElement' or @name='buffIsOnFire']"/>
	<insertAfter xpath="/buffs/buff[@name='buffShockImmune']">
		<buff name="buffBurningElement" hidden="true">
			<stack_type value="ignore"/>
			<duration value=".5"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="marisaFireEffectAmount" operation="add" value="20"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffIsOnFireEffect"/>
			</effect_group>
		</buff>
		<buff name="buffBurningEnvironment" hidden="true">
			<stack_type value="ignore"/>
			<duration value=".5"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="marisaFireEffectAmount" operation="add" value="20"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffIsOnFireEffect"/>
			</effect_group>
		</buff>
		<buff name="buffBurningFlamingArrow" hidden="true">
			<stack_type value="ignore"/>
			<duration value=".5"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="marisaFireEffectAmount" operation="add" value="50"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffIsOnFireEffect"/>
			</effect_group>
		</buff>
		<buff name="buffBurningMolotov" hidden="true">
			<stack_type value="ignore"/>
			<duration value=".5"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="marisaFireEffectAmount" operation="add" value="100"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffIsOnFireEffect"/>
			</effect_group>
		</buff>
		<buff name="buffHazardBurningElement" hidden="true">
			<stack_type value="ignore"/>
			<duration value=".5"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="marisaFireEffectAmount" operation="add" value="20"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffIsOnFireEffect"/>
			</effect_group>
		</buff>
		<!-- 燃烧 前置 -->
		<buff name="buffIsOnFireEffect" hidden="true">
			<stack_type value="ignore"/>
			<update_rate value=".5"/>
			<duration value="0"/>

			<effect_group name="apply buff primary count 0">
				<requirement name="!EntityTagCompare" tags="player"/>
				<requirement name="NotHasBuff" buff="buffIsOnFire"/>
				<requirement name="CVarCompare" cvar="marisaFireCount" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar="marisaFireEffectAmount" operation="GTE" value="100"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffIsOnFire" duration="20"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaFireCount" operation="set" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaFireEffectAmount" operation="set" value="0"/>
			</effect_group>
			<effect_group name="apply buff primary count 1">
				<requirement name="!EntityTagCompare" tags="player"/>
				<requirement name="NotHasBuff" buff="buffIsOnFire"/>
				<requirement name="CVarCompare" cvar="marisaFireCount" operation="EQ" value="1"/>
				<requirement name="CVarCompare" cvar="marisaFireEffectAmount" operation="GTE" value="200"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffIsOnFire" duration="16"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaFireCount" operation="set" value="2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaFireEffectAmount" operation="set" value="0"/>
			</effect_group>
			<effect_group name="apply buff primary count 2">
				<requirement name="!EntityTagCompare" tags="player"/>
				<requirement name="NotHasBuff" buff="buffIsOnFire"/>
				<requirement name="CVarCompare" cvar="marisaFireCount" operation="EQ" value="2"/>
				<requirement name="CVarCompare" cvar="marisaFireEffectAmount" operation="GTE" value="300"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffIsOnFire" duration="12"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaFireEffectAmount" operation="set" value="0"/>
			</effect_group>

			<effect_group name="player effect amount">
				<requirement name="EntityTagCompare" tags="player"/>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="marisaFireEffectAmount" operation="set" value="0"><requirement name="ProgressionLevel" progression_name="perkMarisaFireRemove" operation="EQ" value="2"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaFireEffectAmount" operation="set" value="0"><requirement name="ProgressionLevel" progression_name="perkMarisaFireRemove" operation="EQ" value="2"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="marisaFireEffectAmount" operation="set" value="0"><requirement name="ProgressionLevel" progression_name="perkMarisaDeEffectRemove" operation="EQ" value="3"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaFireEffectAmount" operation="set" value="0"><requirement name="ProgressionLevel" progression_name="perkMarisaDeEffectRemove" operation="EQ" value="3"/></triggered_effect>
			</effect_group>

			<effect_group name="player apply buff">
				<requirement name="EntityTagCompare" tags="player"/>
				<requirement name="NotHasBuff" buff="buffIsOnFire"/>
				<requirement name="CVarCompare" cvar="marisaFireEffectAmount" operation="GTE" value="100"/>

				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffIsOnFire" duration="@$marisaFireDurationMultiply"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffIsOnFire" duration="@$marisaFireDurationMultiply"/>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="marisaFireEffectAmount" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaFireEffectAmount" operation="set" value="0"/>
			</effect_group>

			<effect_group name="effect amount subtract by time">
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaFireEffectAmount" operation="subtract" value="1">
					<requirement name="CVarCompare" cvar="marisaFireEffectAmount" operation="GTE" value="1"/>
				</triggered_effect>
			</effect_group>

		</buff>
		<!-- 燃烧 -->
		<buff name="buffIsOnFire" name_key="buffIsOnFireName" description_key="buffIsOnFireDesc" tooltip_key="buffIsOnFireTooltip" icon="ui_game_symbol_fire" icon_color="255,0,0" icon_blink="true">
			<damage_type value="Heat"/>
			<stack_type value="ignore"/>
			<duration value="20"/>

			<effect_group>
				<requirements compare_type="or">
					<requirement name="RandomRoll" seed_type="Random" min_max="0,1" operation="LTE" value="@_wetness"/>
					<requirement name="HasBuff" buff="buffExtinguishFire"/>
					<requirement name="CVarCompare" cvar="_underwater" operation="GTE" value="0.3"/>
				</requirements>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffIsOnFire"/>
			</effect_group>

			<effect_group name="HealthChangeOT player">
				<requirement name="EntityTagCompare" tags="player"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="2"/>
			</effect_group>
			<effect_group name="HealthChangeOT base">
				<requirement name="!EntityTagCompare" tags="trader,player,feral,radiated,charged,infernal,crystallization,berserk,bossMarisa"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="20"/>
			</effect_group>
			<effect_group name="HealthChangeOT feral">
				<requirement name="EntityTagCompare" tags="feral"/>
				<requirement name="!EntityTagCompare" tags="radiated,charged,infernal,crystallization,berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="30"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="30"/>
			</effect_group>
			<effect_group name="HealthChangeOT radiated">
				<requirement name="EntityTagCompare" tags="radiated"/>
				<requirement name="!EntityTagCompare" tags="crystallization,berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="40"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="40"/>
			</effect_group>
			<effect_group name="HealthChangeOT charged">
				<requirement name="EntityTagCompare" tags="charged"/>
				<requirement name="!EntityTagCompare" tags="crystallization,berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="40"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="40"/>
			</effect_group>
			<effect_group name="HealthChangeOT infernal">
				<requirement name="EntityTagCompare" tags="infernal"/>
				<requirement name="!EntityTagCompare" tags="crystallization,berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="40"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="40"/>
			</effect_group>
			<effect_group name="HealthChangeOT crystallization">
				<requirement name="EntityTagCompare" tags="crystallization"/>
				<requirement name="!EntityTagCompare" tags="berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="60"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="60"/>
			</effect_group>
			<effect_group name="HealthChangeOT berserk">
				<requirement name="EntityTagCompare" tags="berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="80"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="80"/>
			</effect_group>
			<effect_group name="HealthChangeOT bossMarisa">
				<requirement name="EntityTagCompare" tags="bossMarisa"/>
				<requirement name="!EntityTagCompare" tags="crystallization,berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="40"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="40"/>
			</effect_group>
			<effect_group name="HealthChangeOT crystallization bossMarisa">
				<requirement name="EntityTagCompare" tags="bossMarisa"/>
				<requirement name="EntityTagCompare" tags="crystallization"/>
				<requirement name="!EntityTagCompare" tags="berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="120"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="120"/>
			</effect_group>
			<effect_group name="HealthChangeOT berserk bossMarisa">
				<requirement name="EntityTagCompare" tags="bossMarisa"/>
				<requirement name="EntityTagCompare" tags="berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="240"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="240"/>
			</effect_group>

			<effect_group name="debuff">
				<passive_effect name="WaterChangeOT" operation="base_subtract" value="2"/>
			</effect_group>

			<!-- Start and clean up particles and sounds -->
			<effect_group name="run particles, cleanup">
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="p_onFire"/>
				<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="p_onFire"/>
				<triggered_effect trigger="onSelfDied" action="RemoveBuff" buff="buffIsOnFire"/>

				<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="buff_burn_lp"/>
				<triggered_effect trigger="onSelfBuffRemove" action="StopSound" sound="buff_burn_lp"/>
				<triggered_effect trigger="onSelfBuffRemove" action="PlaySound" sound="buff_burn_extinguish"/>
			</effect_group>

			<effect_group name="particle">
				<requirements><requirement name="!IsSDCS"/></requirements>
				<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_onFire" local_offset="0,0,0" parent_transform="LOD0" shape_mesh="true"/>
				<triggered_effect trigger="onSelfEnteredGame" action="AttachParticleEffectToEntity" particle="p_onFire" local_offset="0,0,0" parent_transform="LOD0" shape_mesh="true"/>
			</effect_group>

			<effect_group name="particle">
				<requirements><requirement name="IsSDCS"/></requirements>
				<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_onFire" parent_transform=".body" shape_mesh="true"/>
				<triggered_effect trigger="onSelfEnteredGame" action="AttachParticleEffectToEntity" particle="p_onFire" parent_transform=".body" shape_mesh="true"/>
			</effect_group>

		</buff>
	</insertAfter>
	<!-- ** 电击 -->
	<remove xpath="/buffs/buff[@name='buffShocked']"/>
	<insertAfter xpath="/buffs/buff[@name='buffShockImmune']">
		<buff name="buffShockedBlock" hidden="true">
			<stack_type value="ignore"/>
			<duration value=".5"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="marisaShockedEffectAmount" operation="add" value="60"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffShockedEffect"/>
			</effect_group>
		</buff>
        <buff name="buffThrownGrenadeShockedSE" hidden="true">
            <stack_type value="ignore"/>
            <duration value=".5"/>
            <effect_group>
                <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="marisaShockedEffectAmount" operation="add" value="100"/>
                <triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffShockedEffect"/>
            </effect_group>
        </buff>
        <buff name="buffThrownGrenadeShockedSP" hidden="true">
            <stack_type value="ignore"/>
            <duration value=".5"/>
            <effect_group>
                <triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="marisaShockedEffectAmount" operation="add" value="200"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffShockedEffect"/>
            </effect_group>
        </buff>
		<!-- 电击 前置 -->
		<buff name="buffShockedEffect" hidden="true">
			<stack_type value="ignore"/>
			<update_rate value=".5"/>
			<duration value="0"/>

			<effect_group name="apply buff primary count 0">
				<requirement name="!EntityTagCompare" tags="player"/>
				<requirement name="NotHasBuff" buff="buffShocked"/>
				<requirement name="CVarCompare" cvar="marisaShockedCount" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar="marisaShockedEffectAmount" operation="GTE" value="100"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffShocked" duration="5"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaShockedCount" operation="set" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaShockedEffectAmount" operation="set" value="0"/>
			</effect_group>
			<effect_group name="apply buff primary count 1">
				<requirement name="!EntityTagCompare" tags="player"/>
				<requirement name="NotHasBuff" buff="buffShocked"/>
				<requirement name="CVarCompare" cvar="marisaShockedCount" operation="EQ" value="1"/>
				<requirement name="CVarCompare" cvar="marisaShockedEffectAmount" operation="GTE" value="200"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffShocked" duration="4"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaShockedCount" operation="set" value="2"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaShockedEffectAmount" operation="set" value="0"/>
			</effect_group>
			<effect_group name="apply buff primary count 2">
				<requirement name="!EntityTagCompare" tags="player"/>
				<requirement name="NotHasBuff" buff="buffShocked"/>
				<requirement name="CVarCompare" cvar="marisaShockedCount" operation="EQ" value="2"/>
				<requirement name="CVarCompare" cvar="marisaShockedEffectAmount" operation="GTE" value="300"/>

				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffShocked" duration="3"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaShockedEffectAmount" operation="set" value="0"/>
			</effect_group>

			<effect_group name="player effect amount">
				<requirement name="EntityTagCompare" tags="player"/>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="marisaShockedEffectAmount" operation="set" value="0"><requirement name="ProgressionLevel" progression_name="perkMarisaShockedRemove" operation="EQ" value="2"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaShockedEffectAmount" operation="set" value="0"><requirement name="ProgressionLevel" progression_name="perkMarisaShockedRemove" operation="EQ" value="2"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="marisaShockedEffectAmount" operation="set" value="0"><requirement name="ProgressionLevel" progression_name="perkMarisaDeEffectRemove" operation="EQ" value="3"/></triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaShockedEffectAmount" operation="set" value="0"><requirement name="ProgressionLevel" progression_name="perkMarisaDeEffectRemove" operation="EQ" value="3"/></triggered_effect>
			</effect_group>

			<effect_group name="player apply buff">
				<requirement name="EntityTagCompare" tags="player"/>
				<requirement name="NotHasBuff" buff="buffShocked"/>
				<requirement name="CVarCompare" cvar="marisaShockedEffectAmount" operation="GTE" value="100"/>

				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffShocked" duration="@$marisaPerkShockedDurationMultiply"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffShocked" duration="@$marisaPerkShockedDurationMultiply"/>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="marisaShockedEffectAmount" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaShockedEffectAmount" operation="set" value="0"/>
			</effect_group>

			<effect_group name="effect amount subtract by time">
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="marisaShockedEffectAmount" operation="subtract" value="1">
					<requirement name="CVarCompare" cvar="marisaShockedEffectAmount" operation="GTE" value="1"/>
				</triggered_effect>
			</effect_group>
		</buff>
		<!-- 电击 -->
		<buff name="buffShocked" description_key="buffShockedDesc" tooltip_key="buffShockedTooltip" icon="ui_game_symbol_electric_power" name_key="buffShockedName" icon_color="255,0,0">
			<damage_type value="electrical"/>
			<stack_type value="ignore"/>
			<duration value="3"/>

			<effect_group name="HealthChangeOT player">
				<requirement name="EntityTagCompare" tags="player"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="10"/>
			</effect_group>
			<effect_group name="HealthChangeOT base">
				<requirement name="!EntityTagCompare" tags="trader,player,feral,radiated,charged,infernal,crystallization,berserk,bossMarisa"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="20"/>
			</effect_group>
			<effect_group name="HealthChangeOT feral">
				<requirement name="EntityTagCompare" tags="feral"/>
				<requirement name="!EntityTagCompare" tags="radiated,charged,infernal,crystallization,berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="30"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="30"/>
			</effect_group>
			<effect_group name="HealthChangeOT radiated">
				<requirement name="EntityTagCompare" tags="radiated"/>
				<requirement name="!EntityTagCompare" tags="crystallization,berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="40"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="40"/>
			</effect_group>
			<effect_group name="HealthChangeOT charged">
				<requirement name="EntityTagCompare" tags="charged"/>
				<requirement name="!EntityTagCompare" tags="crystallization,berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="40"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="40"/>
			</effect_group>
			<effect_group name="HealthChangeOT infernal">
				<requirement name="EntityTagCompare" tags="infernal"/>
				<requirement name="!EntityTagCompare" tags="crystallization,berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="40"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="40"/>
			</effect_group>
			<effect_group name="HealthChangeOT crystallization">
				<requirement name="EntityTagCompare" tags="crystallization"/>
				<requirement name="!EntityTagCompare" tags="berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="60"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="60"/>
			</effect_group>
			<effect_group name="HealthChangeOT berserk">
				<requirement name="EntityTagCompare" tags="berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="80"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="80"/>
			</effect_group>
			<effect_group name="HealthChangeOT bossMarisa">
				<requirement name="EntityTagCompare" tags="bossMarisa"/>
				<requirement name="!EntityTagCompare" tags="crystallization,berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="40"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="40"/>
			</effect_group>
			<effect_group name="HealthChangeOT crystallization bossMarisa">
				<requirement name="EntityTagCompare" tags="bossMarisa"/>
				<requirement name="EntityTagCompare" tags="crystallization"/>
				<requirement name="!EntityTagCompare" tags="berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="120"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="120"/>
			</effect_group>
			<effect_group name="HealthChangeOT berserk bossMarisa">
				<requirement name="EntityTagCompare" tags="bossMarisa"/>
				<requirement name="EntityTagCompare" tags="berserk"/>
				<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="240"/>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="240"/>
			</effect_group>

			<effect_group name="debuff">
				<passive_effect name="RunSpeed" operation="perc_subtract" value=".9"/>
				<passive_effect name="WalkSpeed" operation="perc_subtract" value=".9"/>
				<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".9"/>
				<passive_effect name="JumpStrength" operation="perc_subtract" value=".9"/>
			</effect_group>

			<effect_group name="particle">
				<!-- Blinks the display -->
				<passive_effect name="BuffBlink" operation="base_set" value="2" duration="0,3" tags="buffShocked"/>

				<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_electric_shock" parent_transform="Spine1" local_offset="0,-.2,0"/>
				<triggered_effect trigger="onSelfEnteredGame" action="AttachParticleEffectToEntity" particle="p_electric_shock" parent_transform="Spine1" local_offset="0,-.2,0"/>

				<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="p_electric_shock"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="p_electric_shock"/>

				<triggered_effect trigger="onSelfBuffFinish" action="RemoveParticleEffectFromEntity" particle="p_electric_shock"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="p_electric_shock"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveCVar" cvar="ETrapHit"/>
				<triggered_effect trigger="onSelfLeaveGame" action="RemoveParticleEffectFromEntity" particle="p_electric_shock"/>

				<triggered_effect trigger="onSelfBuffStart" action="PlaySound" sound="electric_fence_impact"/>
				<triggered_effect trigger="onSelfBuffRemove" action="FadeOutSound" sound="electric_fence_impact"/>
				<triggered_effect trigger="onSelfLeaveGame" action="StopSound" sound="electric_fence_impact"/>
			</effect_group>
		</buff>
	</insertAfter>



	<!-- 武器BUFF -->
	<append xpath="/buffs">

		<!-- 冷却 火箭筒 闪击弹 -->
		<buff name="buffAmmoRocketAtkTypeSUCD" name_key="buffAmmoRocketAtkTypeSUCDName" description_key="buffAmmoRocketAtkTypeSUCDDesc" showonhud="true" icon="ui_game_symbol_explosion" icon_color="255,0,55">
			<stack_type value="replace"/>
			<duration value="1"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MarisaCanAction0Rocket" operation="set" value="1"/>
			</effect_group>
		</buff>

		<!-- 战意 强化持续 -->
		<buff name="buffEntityDamageThreeCountUpUp" hidden="true">
			<stack_type value="replace"/>
			<update_rate value="1"/>
			<duration value="10"/>
			<!-- perk 强化持续 3 -->
			<effect_group>
                <requirement name="ProgressionLevel" progression_name="perkMarisaThreeCountUpUp" operation="GTE" value="3"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".25"/>
			</effect_group>

			<!-- 猎刀 强化持续 -->
			<effect_group>
				<requirement name="CVarCompare" cvar=".MeleeAttackedOtherPerkDeepCutsA" operation="GTE" value="90"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkDeepCutsA" operation="set" value="100"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffEntityDamageThreeCountUpTo100"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".MeleeAttackedOtherPerkDeepCutsA" operation="LT" value="90"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkDeepCutsA" operation="add" value="10"/>
			</effect_group>

			<!-- 砍刀 强化持续 -->
			<effect_group>
				<requirement name="CVarCompare" cvar=".MeleeAttackedOtherPerkDeepCutsB" operation="GTE" value="90"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkDeepCutsB" operation="set" value="100"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffEntityDamageThreeCountUpTo100"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".MeleeAttackedOtherPerkDeepCutsB" operation="LT" value="90"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkDeepCutsB" operation="add" value="10"/>
			</effect_group>

			<!-- 棍棒 强化持续 -->
			<effect_group>
				<requirement name="CVarCompare" cvar=".MeleeAttackedOtherPerkPummelPete" operation="GTE" value="90"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkPummelPete" operation="set" value="100"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffEntityDamageThreeCountUpTo100"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".MeleeAttackedOtherPerkPummelPete" operation="LT" value="90"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkPummelPete" operation="add" value="10"/>
			</effect_group>

			<!-- 短棒 强化持续 -->
			<effect_group>
				<requirement name="CVarCompare" cvar=".MeleeAttackedOtherPerkElectrocutioner" operation="GTE" value="90"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkElectrocutioner" operation="set" value="100"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffEntityDamageThreeCountUpTo100"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".MeleeAttackedOtherPerkElectrocutioner" operation="LT" value="90"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkElectrocutioner" operation="add" value="10"/>
			</effect_group>

			<!-- 长矛 强化持续 -->
			<effect_group>
				<requirement name="CVarCompare" cvar=".MeleeAttackedOtherPerkJavelinMaster" operation="GTE" value="90"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkJavelinMaster" operation="set" value="100"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffEntityDamageThreeCountUpTo100"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".MeleeAttackedOtherPerkJavelinMaster" operation="LT" value="90"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkJavelinMaster" operation="add" value="10"/>
			</effect_group>

			<!-- 大锤 强化持续 -->
			<effect_group>
				<requirement name="CVarCompare" cvar=".MeleeAttackedOtherPerkSkullCrusher" operation="GTE" value="90"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkSkullCrusher" operation="set" value="100"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffEntityDamageThreeCountUpTo100"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".MeleeAttackedOtherPerkSkullCrusher" operation="LT" value="90"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkSkullCrusher" operation="add" value="10"/>
			</effect_group>

			<!-- 拳套 强化持续 -->
			<effect_group>
				<requirement name="CVarCompare" cvar=".MeleeAttackedOtherPerkBrawler" operation="GTE" value="90"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkBrawler" operation="set" value="100"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffEntityDamageThreeCountUpTo100"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".MeleeAttackedOtherPerkBrawler" operation="LT" value="90"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkBrawler" operation="add" value="10"/>
			</effect_group>
		</buff>
		<!-- 战意 满溢 -->
		<buff name="buffEntityDamageThreeCountUpTo100" hidden="true">
			<stack_type value="replace"/>
			<duration value="5"/>
		</buff>

		<!-- 战意 猎刀 -->
		<buff name="buffEntityDamageThreeCountPerkDeepCutsA" name_key="buffEntityDamageThreeCountPerkDeepCutsAName" description_key="buffEntityDamageThreeCountPerkDeepCutsADesc" showonhud="true" icon="ui_game_symbol_knife" icon_color="0,191,255">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<display_value value=".MeleeAttackedOtherPerkDeepCutsA"/>
			<display_value_key value="{0}"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffEntityDamageThreeCachePerkDeepCutsB,buffEntityDamageThreeCachePerkPummelPete,buffEntityDamageThreeCachePerkElectrocutioner,buffEntityDamageThreeCachePerkJavelinMaster,buffEntityDamageThreeCachePerkSkullCrusher,buffEntityDamageThreeCachePerkBrawler"/>
			</effect_group>
			<effect_group>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeCountUpUp"/>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeCountUpTo100"/>
				<requirement name="CVarCompare" cvar=".MeleeAttackedOtherPerkDeepCutsA" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkDeepCutsA" operation="subtract" value="1"/>
			</effect_group>
		</buff>
		<!-- 战意 暂存 猎刀 -->
		<buff name="buffEntityDamageThreeCachePerkDeepCutsA" hidden="true">
			<stack_type value="ignore"/>
			<duration value="10"/>
			<effect_group>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="LT" value="1"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffEntityDamageThreeCountUpUp,buffEntityDamageThreeCountUpTo100"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffEntityDamageThreeCountPerkDeepCutsA,buffEntityDamageThreeUpPerkDeepCutsA1,buffEntityDamageThreeUpPerkDeepCutsA2,buffEntityDamageThreeUpPerkDeepCutsA3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkDeepCutsA" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MeleeAttackedOtherPrimaryPerkDeepCutsA" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MeleeAttackedOtherSecondaryPerkDeepCutsA" operation="set" value="0"/>
			</effect_group>
		</buff>
		<!-- 战意强化 猎刀 -->
		<buff name="buffEntityDamageThreeUpPerkDeepCutsA1" name_key="buffEntityDamageThreeUpPerkDeepCutsA1Name" description_key="buffEntityDamageThreeUpPerkDeepCutsA1Desc" showonhud="true" icon="ui_game_symbol_knife" icon_color="255,255,255">
			<stack_type value="replace"/>
			<duration value="90"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".12" tags="perkDeepCuts"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".04" tags="perkDeepCuts">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="1"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".08" tags="perkDeepCuts">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="2"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".12" tags="perkDeepCuts">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="3"/>
				</passive_effect>
			</effect_group>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkDeepCutsA2" name_key="buffEntityDamageThreeUpPerkDeepCutsA2Name" description_key="buffEntityDamageThreeUpPerkDeepCutsA2Desc" showonhud="true" icon="ui_game_symbol_knife" icon_color="255,245,125">
			<stack_type value="replace"/>
			<duration value="60"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".24" tags="perkDeepCuts"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".08" tags="perkDeepCuts">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="1"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".16" tags="perkDeepCuts">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="2"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".24" tags="perkDeepCuts">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="3"/>
				</passive_effect>

				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffEntityDamageThreeUpPerkDeepCutsA1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="1"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeUpPerkDeepCutsA3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkDeepCutsA1"/>
			</effect_group>
			<effect_group>
				<requirement name="HasBuff" buff="buffEntityDamageThreeCachePerkDeepCutsA"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeUpPerkDeepCutsA3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkDeepCutsA1"/>
			</effect_group>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkDeepCutsA3" name_key="buffEntityDamageThreeUpPerkDeepCutsA3Name" description_key="buffEntityDamageThreeUpPerkDeepCutsA3Desc" showonhud="true" icon="ui_game_symbol_knife" icon_color="255,35,35">
			<stack_type value="replace"/>
			<duration value="30"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".36" tags="perkDeepCuts"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".12" tags="perkDeepCuts">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="1"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".24" tags="perkDeepCuts">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="2"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".36" tags="perkDeepCuts">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="3"/>
				</passive_effect>

				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffEntityDamageThreeUpPerkDeepCutsA1,buffEntityDamageThreeUpPerkDeepCutsA2"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="1"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkDeepCutsA2"/>
			</effect_group>
			<effect_group>
				<requirement name="HasBuff" buff="buffEntityDamageThreeCachePerkDeepCutsA"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkDeepCutsA2"/>
			</effect_group>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkDeepCutsA3StartFrom2" hidden="true">
			<stack_type value="ignore"/>
			<duration value="0.2"/>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkDeepCutsA3RemoveByAtk" hidden="true">
			<stack_type value="ignore"/>
			<duration value="0.2"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffEntityDamageThreeUpPerkDeepCutsA3"/>
			</effect_group>
		</buff>

		<!-- 战意 砍刀 -->
		<buff name="buffEntityDamageThreeCountPerkDeepCutsB" name_key="buffEntityDamageThreeCountPerkDeepCutsBName" description_key="buffEntityDamageThreeCountPerkDeepCutsBDesc" showonhud="true" icon="ui_game_symbol_deep_cuts" icon_color="0,191,255">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<display_value value=".MeleeAttackedOtherPerkDeepCutsB"/>
			<display_value_key value="{0}"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffEntityDamageThreeCachePerkDeepCutsA,buffEntityDamageThreeCachePerkPummelPete,buffEntityDamageThreeCachePerkElectrocutioner,buffEntityDamageThreeCachePerkJavelinMaster,buffEntityDamageThreeCachePerkSkullCrusher,buffEntityDamageThreeCachePerkBrawler"/>
			</effect_group>
			<effect_group>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeCountUpUp"/>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeCountUpTo100"/>
				<requirement name="CVarCompare" cvar=".MeleeAttackedOtherPerkDeepCutsB" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkDeepCutsB" operation="subtract" value="1"/>
			</effect_group>
		</buff>
		<!-- 战意 暂存 砍刀 -->
		<buff name="buffEntityDamageThreeCachePerkDeepCutsB" hidden="true">
			<stack_type value="ignore"/>
			<duration value="10"/>
			<effect_group>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="LT" value="1"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffEntityDamageThreeCountUpUp,buffEntityDamageThreeCountUpTo100"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffEntityDamageThreeCountPerkDeepCutsB,buffEntityDamageThreeUpPerkDeepCutsB1,buffEntityDamageThreeUpPerkDeepCutsB2,buffEntityDamageThreeUpPerkDeepCutsB3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkDeepCutsB" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MeleeAttackedOtherPrimaryPerkDeepCutsB" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MeleeAttackedOtherSecondaryPerkDeepCutsB" operation="set" value="0"/>
			</effect_group>
		</buff>
		<!-- 战意强化 砍刀 -->
		<buff name="buffEntityDamageThreeUpPerkDeepCutsB1" name_key="buffEntityDamageThreeUpPerkDeepCutsB1Name" description_key="buffEntityDamageThreeUpPerkDeepCutsB1Desc" showonhud="true" icon="ui_game_symbol_deep_cuts" icon_color="255,255,255">
			<stack_type value="replace"/>
			<duration value="90"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".12" tags="perkDeepCuts"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".04" tags="perkDeepCuts">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="1"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".08" tags="perkDeepCuts">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="2"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".12" tags="perkDeepCuts">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="3"/>
				</passive_effect>
			</effect_group>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkDeepCutsB2" name_key="buffEntityDamageThreeUpPerkDeepCutsB2Name" description_key="buffEntityDamageThreeUpPerkDeepCutsB2Desc" showonhud="true" icon="ui_game_symbol_deep_cuts" icon_color="255,245,125">
			<stack_type value="replace"/>
			<duration value="60"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".24" tags="perkDeepCuts"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".08" tags="perkDeepCuts">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="1"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".16" tags="perkDeepCuts">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="2"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".24" tags="perkDeepCuts">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="3"/>
				</passive_effect>

				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffEntityDamageThreeUpPerkDeepCutsB1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="1"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeUpPerkDeepCutsB3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkDeepCutsB1"/>
			</effect_group>
			<effect_group>
				<requirement name="HasBuff" buff="buffEntityDamageThreeCachePerkDeepCutsB"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeUpPerkDeepCutsB3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkDeepCutsB1"/>
			</effect_group>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkDeepCutsB3" name_key="buffEntityDamageThreeUpPerkDeepCutsB3Name" description_key="buffEntityDamageThreeUpPerkDeepCutsB3Desc" showonhud="true" icon="ui_game_symbol_deep_cuts" icon_color="255,35,35">
			<stack_type value="replace"/>
			<duration value="30"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".36" tags="perkDeepCuts"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".12" tags="perkDeepCuts">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="1"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".24" tags="perkDeepCuts">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="2"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".36" tags="perkDeepCuts">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="3"/>
				</passive_effect>

				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffEntityDamageThreeUpPerkDeepCutsB1,buffEntityDamageThreeUpPerkDeepCutsB2"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="1"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkDeepCutsB2"/>
			</effect_group>
			<effect_group>
				<requirement name="HasBuff" buff="buffEntityDamageThreeCachePerkDeepCutsB"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkDeepCutsB2"/>
			</effect_group>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkDeepCutsB3StartFrom2" hidden="true">
			<stack_type value="ignore"/>
			<duration value="0.2"/>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkDeepCutsB3RemoveByAtk" hidden="true">
			<stack_type value="ignore"/>
			<duration value="0.2"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffEntityDamageThreeUpPerkDeepCutsB3"/>
			</effect_group>
		</buff>

		<!-- 战意 棍棒 -->
		<buff name="buffEntityDamageThreeCountPerkPummelPete" name_key="buffEntityDamageThreeCountPerkPummelPeteName" description_key="buffEntityDamageThreeCountPerkPummelPeteDesc" showonhud="true" icon="ui_game_symbol_club" icon_color="0,191,255">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<display_value value=".MeleeAttackedOtherPerkPummelPete"/>
			<display_value_key value="{0}"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffEntityDamageThreeCachePerkDeepCutsA,buffEntityDamageThreeCachePerkDeepCutsB,buffEntityDamageThreeCachePerkElectrocutioner,buffEntityDamageThreeCachePerkJavelinMaster,buffEntityDamageThreeCachePerkSkullCrusher,buffEntityDamageThreeCachePerkBrawler"/>
			</effect_group>
			<effect_group>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeCountUpUp"/>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeCountUpTo100"/>
				<requirement name="CVarCompare" cvar=".MeleeAttackedOtherPerkPummelPete" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkPummelPete" operation="subtract" value="1"/>
			</effect_group>
		</buff>
		<!-- 战意 暂存 棍棒 -->
		<buff name="buffEntityDamageThreeCachePerkPummelPete" hidden="true">
			<stack_type value="ignore"/>
			<duration value="10"/>
			<effect_group>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="LT" value="1"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffEntityDamageThreeCountUpUp,buffEntityDamageThreeCountUpTo100"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffEntityDamageThreeCountPerkPummelPete,buffEntityDamageThreeUpPerkPummelPete1,buffEntityDamageThreeUpPerkPummelPete2,buffEntityDamageThreeUpPerkPummelPete3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkPummelPete" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MeleeAttackedOtherPrimaryPerkPummelPete" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MeleeAttackedOtherSecondaryPerkPummelPete" operation="set" value="0"/>
			</effect_group>
		</buff>
		<!-- 战意强化 棍棒 -->
		<buff name="buffEntityDamageThreeUpPerkPummelPete1" name_key="buffEntityDamageThreeUpPerkPummelPete1Name" description_key="buffEntityDamageThreeUpPerkPummelPete1Desc" showonhud="true" icon="ui_game_symbol_club" icon_color="255,255,255">
			<stack_type value="replace"/>
			<duration value="90"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".12" tags="perkPummelPete"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".04" tags="perkPummelPete">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="1"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".08" tags="perkPummelPete">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="2"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".12" tags="perkPummelPete">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="3"/>
				</passive_effect>
			</effect_group>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkPummelPete2" name_key="buffEntityDamageThreeUpPerkPummelPete2Name" description_key="buffEntityDamageThreeUpPerkPummelPete2Desc" showonhud="true" icon="ui_game_symbol_club" icon_color="255,245,125">
			<stack_type value="replace"/>
			<duration value="60"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".24" tags="perkPummelPete"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".08" tags="perkPummelPete">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="1"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".16" tags="perkPummelPete">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="2"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".24" tags="perkPummelPete">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="3"/>
				</passive_effect>

				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffEntityDamageThreeUpPerkPummelPete1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="1"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeUpPerkPummelPete3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkPummelPete1"/>
			</effect_group>
			<effect_group>
				<requirement name="HasBuff" buff="buffEntityDamageThreeCachePerkPummelPete"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeUpPerkPummelPete3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkPummelPete1"/>
			</effect_group>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkPummelPete3" name_key="buffEntityDamageThreeUpPerkPummelPete3Name" description_key="buffEntityDamageThreeUpPerkPumme3Pete1Desc" showonhud="true" icon="ui_game_symbol_club" icon_color="255,35,35">
			<stack_type value="replace"/>
			<duration value="30"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".36" tags="perkPummelPete"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".12" tags="perkPummelPete">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="1"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".24" tags="perkPummelPete">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="2"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".36" tags="perkPummelPete">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="3"/>
				</passive_effect>

				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffEntityDamageThreeUpPerkPummelPete1,buffEntityDamageThreeUpPerkPummelPete2"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="1"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkPummelPete2"/>
			</effect_group>
			<effect_group>
				<requirement name="HasBuff" buff="buffEntityDamageThreeCachePerkPummelPete"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkPummelPete2"/>
			</effect_group>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkPummelPete3StartFrom2" hidden="true">
			<stack_type value="ignore"/>
			<duration value="0.2"/>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkPummelPete3RemoveByAtk" hidden="true">
			<stack_type value="ignore"/>
			<duration value="0.2"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffEntityDamageThreeUpPerkPummelPete3"/>
			</effect_group>
		</buff>

		<!-- 战意 短棒 -->
		<buff name="buffEntityDamageThreeCountPerkElectrocutioner" name_key="buffEntityDamageThreeCountPerkElectrocutionerName" description_key="buffEntityDamageThreeCountPerkElectrocutionerDesc" showonhud="true" icon="ui_game_symbol_knunchuck" icon_color="0,191,255">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<display_value value=".MeleeAttackedOtherPerkElectrocutioner"/>
			<display_value_key value="{0}"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffEntityDamageThreeCachePerkDeepCutsA,buffEntityDamageThreeCachePerkDeepCutsB,buffEntityDamageThreeCachePerkPummelPete,buffEntityDamageThreeCachePerkJavelinMaster,buffEntityDamageThreeCachePerkSkullCrusher,buffEntityDamageThreeCachePerkBrawler"/>
			</effect_group>
			<effect_group>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeCountUpUp"/>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeCountUpTo100"/>
				<requirement name="CVarCompare" cvar=".MeleeAttackedOtherPerkElectrocutioner" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkElectrocutioner" operation="subtract" value="1"/>
			</effect_group>
		</buff>
		<!-- 战意 暂存 短棒 -->
		<buff name="buffEntityDamageThreeCachePerkElectrocutioner" hidden="true">
			<stack_type value="ignore"/>
			<duration value="10"/>
			<effect_group>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="LT" value="1"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffEntityDamageThreeCountUpUp,buffEntityDamageThreeCountUpTo100"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffEntityDamageThreeCountPerkElectrocutioner,buffEntityDamageThreeUpPerkElectrocutioner1,buffEntityDamageThreeUpPerkElectrocutioner2,buffEntityDamageThreeUpPerkElectrocutioner3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkElectrocutioner" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MeleeAttackedOtherPrimaryPerkElectrocutioner" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MeleeAttackedOtherSecondaryPerkElectrocutioner" operation="set" value="0"/>
			</effect_group>
		</buff>
		<!-- 战意强化 短棒 -->
		<buff name="buffEntityDamageThreeUpPerkElectrocutioner1" name_key="buffEntityDamageThreeUpPerkElectrocutioner1Name" description_key="buffEntityDamageThreeUpPerkElectrocutioner1Desc" showonhud="true" icon="ui_game_symbol_knunchuck" icon_color="255,255,255">
			<stack_type value="replace"/>
			<duration value="90"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".12" tags="perkElectrocutioner"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".04" tags="perkElectrocutioner">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="1"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".08" tags="perkElectrocutioner">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="2"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".12" tags="perkElectrocutioner">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="3"/>
				</passive_effect>
			</effect_group>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkElectrocutioner2" name_key="buffEntityDamageThreeUpPerkElectrocutioner2Name" description_key="buffEntityDamageThreeUpPerkElectrocutioner2Desc" showonhud="true" icon="ui_game_symbol_knunchuck" icon_color="255,245,125">
			<stack_type value="replace"/>
			<duration value="60"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".24" tags="perkElectrocutioner"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".08" tags="perkElectrocutioner">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="1"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".16" tags="perkElectrocutioner">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="2"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".24" tags="perkElectrocutioner">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="3"/>
				</passive_effect>

				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffEntityDamageThreeUpPerkElectrocutioner1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="1"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeUpPerkElectrocutioner3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkElectrocutioner1"/>
			</effect_group>
			<effect_group>
				<requirement name="HasBuff" buff="buffEntityDamageThreeCachePerkElectrocutioner"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeUpPerkElectrocutioner3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkElectrocutioner1"/>
			</effect_group>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkElectrocutioner3" name_key="buffEntityDamageThreeUpPerkElectrocutioner3Name" description_key="buffEntityDamageThreeUpPerkElectrocutioner3Desc" showonhud="true" icon="ui_game_symbol_knunchuck" icon_color="255,35,35">
			<stack_type value="replace"/>
			<duration value="30"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".36" tags="perkElectrocutioner"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".12" tags="perkElectrocutioner">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="1"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".24" tags="perkElectrocutioner">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="2"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".36" tags="perkElectrocutioner">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="3"/>
				</passive_effect>

				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffEntityDamageThreeUpPerkElectrocutioner1,buffEntityDamageThreeUpPerkElectrocutioner2"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="1"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkElectrocutioner2"/>
			</effect_group>
			<effect_group>
				<requirement name="HasBuff" buff="buffEntityDamageThreeCachePerkElectrocutioner"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkElectrocutioner2"/>
			</effect_group>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkElectrocutioner3StartFrom2" hidden="true">
			<stack_type value="ignore"/>
			<duration value="0.2"/>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkElectrocutioner3RemoveByAtk" hidden="true">
			<stack_type value="ignore"/>
			<duration value="0.2"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffEntityDamageThreeUpPerkElectrocutioner3"/>
			</effect_group>
		</buff>

		<!-- 战意 长矛 -->
		<buff name="buffEntityDamageThreeCountPerkJavelinMaster" name_key="buffEntityDamageThreeCountPerkJavelinMasterName" description_key="buffEntityDamageThreeCountPerkJavelinMasterDesc" showonhud="true" icon="ui_game_symbol_spear" icon_color="0,191,255">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<display_value value=".MeleeAttackedOtherPerkJavelinMaster"/>
			<display_value_key value="{0}"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffEntityDamageThreeCachePerkDeepCutsA,buffEntityDamageThreeCachePerkDeepCutsB,buffEntityDamageThreeCachePerkPummelPete,buffEntityDamageThreeCachePerkElectrocutioner,buffEntityDamageThreeCachePerkSkullCrusher,buffEntityDamageThreeCachePerkBrawler"/>
			</effect_group>
			<effect_group>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeCountUpUp"/>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeCountUpTo100"/>
				<requirement name="CVarCompare" cvar=".MeleeAttackedOtherPerkJavelinMaster" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkJavelinMaster" operation="subtract" value="1"/>
			</effect_group>
		</buff>
		<!-- 战意 暂存 长矛 -->
		<buff name="buffEntityDamageThreeCachePerkJavelinMaster" hidden="true">
			<stack_type value="ignore"/>
			<duration value="10"/>
			<effect_group>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="LT" value="1"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffEntityDamageThreeCountUpUp,buffEntityDamageThreeCountUpTo100"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffEntityDamageThreeCountPerkJavelinMaster,buffEntityDamageThreeUpPerkJavelinMaster1,buffEntityDamageThreeUpPerkJavelinMaster2,buffEntityDamageThreeUpPerkJavelinMaster3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkJavelinMaster" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MeleeAttackedOtherPrimaryPerkJavelinMaster" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MeleeAttackedOtherSecondaryPerkJavelinMaster" operation="set" value="0"/>
			</effect_group>
		</buff>
		<!-- 战意强化 长矛 -->
		<buff name="buffEntityDamageThreeUpPerkJavelinMaster1" name_key="buffEntityDamageThreeUpPerkJavelinMaster1Name" description_key="buffEntityDamageThreeUpPerkJavelinMaster1Desc" showonhud="true" icon="ui_game_symbol_spear" icon_color="255,255,255">
			<stack_type value="replace"/>
			<duration value="90"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".12" tags="perkJavelinMaster"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".04" tags="perkJavelinMaster">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="1"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".08" tags="perkJavelinMaster">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="2"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".12" tags="perkJavelinMaster">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="3"/>
				</passive_effect>
			</effect_group>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkJavelinMaster2" name_key="buffEntityDamageThreeUpPerkJavelinMaster2Name" description_key="buffEntityDamageThreeUpPerkJavelinMaster2Desc" showonhud="true" icon="ui_game_symbol_spear" icon_color="255,245,125">
			<stack_type value="replace"/>
			<duration value="60"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".24" tags="perkJavelinMaster"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".08" tags="perkJavelinMaster">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="1"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".16" tags="perkJavelinMaster">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="2"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".24" tags="perkJavelinMaster">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="3"/>
				</passive_effect>

				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffEntityDamageThreeUpPerkJavelinMaster1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="1"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeUpPerkJavelinMaster3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkJavelinMaster1"/>
			</effect_group>
			<effect_group>
				<requirement name="HasBuff" buff="buffEntityDamageThreeCachePerkJavelinMaster"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeUpPerkJavelinMaster3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkJavelinMaster1"/>
			</effect_group>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkJavelinMaster3" name_key="buffEntityDamageThreeUpPerkJavelinMaster3Name" description_key="buffEntityDamageThreeUpPerkJavelinMaster3Desc" showonhud="true" icon="ui_game_symbol_spear" icon_color="255,35,35">
			<stack_type value="replace"/>
			<duration value="30"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".36" tags="perkJavelinMaster"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".12" tags="perkJavelinMaster">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="1"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".24" tags="perkJavelinMaster">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="2"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".36" tags="perkJavelinMaster">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="3"/>
				</passive_effect>

				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffEntityDamageThreeUpPerkJavelinMaster1,buffEntityDamageThreeUpPerkJavelinMaster2"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="1"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkJavelinMaster2"/>
			</effect_group>
			<effect_group>
				<requirement name="HasBuff" buff="buffEntityDamageThreeCachePerkJavelinMaster"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkJavelinMaster2"/>
			</effect_group>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkJavelinMaster3StartFrom2" hidden="true">
			<stack_type value="ignore"/>
			<duration value="0.2"/>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkJavelinMaster3RemoveByAtk" hidden="true">
			<stack_type value="ignore"/>
			<duration value="0.2"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffEntityDamageThreeUpPerkJavelinMaster3"/>
			</effect_group>
		</buff>

		<!-- 战意 大锤 -->
		<buff name="buffEntityDamageThreeCountPerkSkullCrusher" name_key="buffEntityDamageThreeCountPerkSkullCrusherName" description_key="buffEntityDamageThreeCountPerkSkullCrusherDesc" showonhud="true" icon="ui_game_symbol_sledge" icon_color="0,191,255">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<display_value value=".MeleeAttackedOtherPerkSkullCrusher"/>
			<display_value_key value="{0}"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffEntityDamageThreeCachePerkDeepCutsA,buffEntityDamageThreeCachePerkDeepCutsB,buffEntityDamageThreeCachePerkPummelPete,buffEntityDamageThreeCachePerkElectrocutioner,buffEntityDamageThreeCachePerkJavelinMaster,buffEntityDamageThreeCachePerkBrawler"/>
			</effect_group>
			<effect_group>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeCountUpUp"/>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeCountUpTo100"/>
				<requirement name="CVarCompare" cvar=".MeleeAttackedOtherPerkSkullCrusher" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkSkullCrusher" operation="subtract" value="1"/>
			</effect_group>
		</buff>
		<!-- 战意 暂存 大锤 -->
		<buff name="buffEntityDamageThreeCachePerkSkullCrusher" hidden="true">
			<stack_type value="ignore"/>
			<duration value="10"/>
			<effect_group>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="LT" value="1"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffEntityDamageThreeCountUpUp,buffEntityDamageThreeCountUpTo100"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffEntityDamageThreeCountPerkSkullCrusher,buffEntityDamageThreeUpPerkSkullCrusher1,buffEntityDamageThreeUpPerkSkullCrusher2,buffEntityDamageThreeUpPerkSkullCrusher3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkSkullCrusher" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MeleeAttackedOtherPrimaryPerkSkullCrusher" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MeleeAttackedOtherSecondaryPerkSkullCrusher" operation="set" value="0"/>
			</effect_group>
		</buff>
		<!-- 战意强化 大锤 -->
		<buff name="buffEntityDamageThreeUpPerkSkullCrusher1" name_key="buffEntityDamageThreeUpPerkSkullCrusher1Name" description_key="buffEntityDamageThreeUpPerkSkullCrusher1Desc" showonhud="true" icon="ui_game_symbol_sledge" icon_color="255,255,255">
			<stack_type value="replace"/>
			<duration value="90"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".12" tags="perkSkullCrusher"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".04" tags="perkSkullCrusher">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="1"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".08" tags="perkSkullCrusher">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="2"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".12" tags="perkSkullCrusher">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="3"/>
				</passive_effect>
			</effect_group>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkSkullCrusher2" name_key="buffEntityDamageThreeUpPerkSkullCrusher2Name" description_key="buffEntityDamageThreeUpPerkSkullCrusher2Desc" showonhud="true" icon="ui_game_symbol_sledge" icon_color="255,245,125">
			<stack_type value="replace"/>
			<duration value="60"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".24" tags="perkSkullCrusher"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".08" tags="perkSkullCrusher">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="1"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".16" tags="perkSkullCrusher">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="2"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".24" tags="perkSkullCrusher">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="3"/>
				</passive_effect>

				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffEntityDamageThreeUpPerkSkullCrusher1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="1"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeUpPerkSkullCrusher3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkSkullCrusher1"/>
			</effect_group>
			<effect_group>
				<requirement name="HasBuff" buff="buffEntityDamageThreeCachePerkSkullCrusher"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeUpPerkSkullCrusher3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkSkullCrusher1"/>
			</effect_group>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkSkullCrusher3" name_key="buffEntityDamageThreeUpPerkSkullCrusher3Name" description_key="buffEntityDamageThreeUpPerkSkullCrusher3Desc" showonhud="true" icon="ui_game_symbol_sledge" icon_color="255,35,35">
			<stack_type value="replace"/>
			<duration value="30"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".36" tags="perkSkullCrusher"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".12" tags="perkSkullCrusher">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="1"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".24" tags="perkSkullCrusher">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="2"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".36" tags="perkSkullCrusher">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="3"/>
				</passive_effect>

				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffEntityDamageThreeUpPerkSkullCrusher1,buffEntityDamageThreeUpPerkSkullCrusher2"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="1"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkSkullCrusher2"/>
			</effect_group>
			<effect_group>
				<requirement name="HasBuff" buff="buffEntityDamageThreeCachePerkSkullCrusher"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkSkullCrusher2"/>
			</effect_group>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkSkullCrusher3StartFrom2" hidden="true">
			<stack_type value="ignore"/>
			<duration value="0.2"/>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkSkullCrusher3RemoveByAtk" hidden="true">
			<stack_type value="ignore"/>
			<duration value="0.2"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffEntityDamageThreeUpPerkSkullCrusher3"/>
			</effect_group>
		</buff>

		<!-- 战意 拳套 -->
		<buff name="buffEntityDamageThreeCountPerkBrawler" name_key="buffEntityDamageThreeCountPerkBrawlerName" description_key="buffEntityDamageThreeCountPerkBrawlerDesc" showonhud="true" icon="ui_game_symbol_boxer" icon_color="0,191,255">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<display_value value=".MeleeAttackedOtherPerkBrawler"/>
			<display_value_key value="{0}"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffEntityDamageThreeCachePerkDeepCutsA,buffEntityDamageThreeCachePerkDeepCutsB,buffEntityDamageThreeCachePerkPummelPete,buffEntityDamageThreeCachePerkElectrocutioner,buffEntityDamageThreeCachePerkJavelinMaster,buffEntityDamageThreeCachePerkSkullCrusher"/>
			</effect_group>
			<effect_group>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeCountUpUp"/>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeCountUpTo100"/>
				<requirement name="CVarCompare" cvar=".MeleeAttackedOtherPerkBrawler" operation="GT" value="0"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkBrawler" operation="subtract" value="1"/>
			</effect_group>
		</buff>
		<!-- 战意 暂存 拳套 -->
		<buff name="buffEntityDamageThreeCachePerkBrawler" hidden="true">
			<stack_type value="ignore"/>
			<duration value="10"/>
			<effect_group>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="LT" value="1"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffEntityDamageThreeCountUpUp,buffEntityDamageThreeCountUpTo100"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffEntityDamageThreeCountPerkBrawler,buffEntityDamageThreeUpPerkBrawler1,buffEntityDamageThreeUpPerkBrawler2,buffEntityDamageThreeUpPerkBrawler3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MeleeAttackedOtherPerkBrawler" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MeleeAttackedOtherPrimaryPerkBrawler" operation="set" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".MeleeAttackedOtherSecondaryPerkBrawler" operation="set" value="0"/>
			</effect_group>
		</buff>
		<!-- 战意强化 拳套 -->
		<buff name="buffEntityDamageThreeUpPerkBrawler1" name_key="buffEntityDamageThreeUpPerkBrawler1Name" description_key="buffEntityDamageThreeUpPerkBrawler1Desc" showonhud="true" icon="ui_game_symbol_boxer" icon_color="255,255,255">
			<stack_type value="replace"/>
			<duration value="90"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".12" tags="perkBrawler"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".04" tags="perkBrawler">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="1"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".08" tags="perkBrawler">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="2"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".12" tags="perkBrawler">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="3"/>
				</passive_effect>
			</effect_group>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkBrawler2" name_key="buffEntityDamageThreeUpPerkBrawler2Name" description_key="buffEntityDamageThreeUpPerkBrawler2Desc" showonhud="true" icon="ui_game_symbol_boxer" icon_color="255,245,125">
			<stack_type value="replace"/>
			<duration value="60"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".24" tags="perkBrawler"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".08" tags="perkBrawler">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="1"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".16" tags="perkBrawler">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="2"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".24" tags="perkBrawler">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="3"/>
				</passive_effect>

				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffEntityDamageThreeUpPerkBrawler1"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="1"/>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeUpPerkBrawler3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkBrawler1"/>
			</effect_group>
			<effect_group>
				<requirement name="HasBuff" buff="buffEntityDamageThreeCachePerkBrawler"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<requirement name="NotHasBuff" buff="buffEntityDamageThreeUpPerkBrawler3"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkBrawler1"/>
			</effect_group>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkBrawler3" name_key="buffEntityDamageThreeUpPerkBrawler3Name" description_key="buffEntityDamageThreeUpPerkBrawler3Desc" showonhud="true" icon="ui_game_symbol_boxer" icon_color="255,35,35">
			<stack_type value="replace"/>
			<duration value="30"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="perc_add" value=".36" tags="perkBrawler"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".12" tags="perkBrawler">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="1"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".24" tags="perkBrawler">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="2"/>
				</passive_effect>
				<passive_effect name="EntityDamage" operation="perc_add" value=".36" tags="perkBrawler">
					<requirement name="ProgressionLevel" progression_name="perkMarisaAttributeLiberation" operation="EQ" value="3"/>
				</passive_effect>

				<triggered_effect trigger="onSelfBuffStart" action="RemoveBuff" buff="buffEntityDamageThreeUpPerkBrawler1,buffEntityDamageThreeUpPerkBrawler2"/>
			</effect_group>
			<effect_group>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="1"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkBrawler2"/>
			</effect_group>
			<effect_group>
				<requirement name="HasBuff" buff="buffEntityDamageThreeCachePerkBrawler"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsA" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkDeepCutsB" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkPummelPete" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkElectrocutioner" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkJavelinMaster" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkSkullCrusher" operation="EQ" value="0"/>
				<requirement name="CVarCompare" cvar=".CanBuffEntityDamageThreeCountPerkBrawler" operation="EQ" value="0"/>
				<triggered_effect trigger="onSelfBuffRemove" action="AddBuff" buff="buffEntityDamageThreeUpPerkBrawler2"/>
			</effect_group>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkBrawler3StartFrom2" hidden="true">
			<stack_type value="ignore"/>
			<duration value="0.2"/>
		</buff>
		<buff name="buffEntityDamageThreeUpPerkBrawler3RemoveByAtk" hidden="true">
			<stack_type value="ignore"/>
			<duration value="0.2"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffEntityDamageThreeUpPerkBrawler3"/>
			</effect_group>
		</buff>

		<!-- 拳套 快速连打 -->
		<buff name="buffMeleeAttacksPerMinutePerkBrawler" hidden="true">
			<stack_type value="replace"/>
			<duration value="3"/>
			<effect_group>
				<passive_effect name="AttacksPerMinute" operation="base_add" value="@.CountMeleeAttacksPerMinutePerkBrawler" tags="perkBrawler"/>

				<triggered_effect trigger="onSelfBuffRemove" action="ModifyCVar" cvar=".CountMeleeAttacksPerMinutePerkBrawler" operation="set" value="0"/>
			</effect_group>
		</buff>


		<!-- 沙鹰 烈炎净世 -->
		<buff name="buffModBuffFireAoeEffect" hidden="true">
			<damage_type value="heat"/>
			<stack_type value="replace"/>
			<update_rate value="1"/>
			<duration value="20"/>
			<effect_group>
				<passive_effect name="HealthChangeOT" operation="base_subtract" value="@buffModBuffFireAoeEffect">
					<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="@buffModBuffFireAoeEffect"/>
				</passive_effect>

				<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_onFire"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="p_onFire"/>
				<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="p_onFire"/>
			</effect_group>
		</buff>

		<!-- 寒气 -->
		<buff name="buffMeleeHuntingKnifeAtk" name_key="buffMeleeHuntingKnifeAtkName" description_key="buffMeleeHuntingKnifeAtkDesc" showonhud="true" icon="ui_game_symbol_deep_cuts" icon_color="0,191,255">
			<stack_type value="ignore"/>
			<display_value value=".MeleeHuntingKnifeAtk"/>
			<display_value_key value="{0}"/>
		</buff>

		<!-- 棍势 -->
		<buff name="buffMeleeClubAttackedOtherPrimary" name_key="buffMeleeClubAttackedOtherPrimaryName" description_key="buffMeleeClubAttackedOtherPrimaryDesc" showonhud="true" icon="ui_game_symbol_club" icon_color="0,191,255">
			<stack_type value="ignore"/>
			<display_value value=".MeleeClubAttackedOtherPrimary"/>
			<display_value_key value="{0}"/>
		</buff>

		<!-- 枪影 -->
		<buff name="buffMeleeSpearAttacked" name_key="buffMeleeSpearAttackedName" description_key="buffMeleeSpearAttackedDesc" showonhud="true" icon="ui_game_symbol_spear" icon_color="0,191,255">
			<stack_type value="ignore"/>
			<display_value value=".MeleeSpearAttacked"/>
			<display_value_key value="{0}"/>
		</buff>

		<!-- 缭乱 -->
		<buff name="buffMeleeSpearAttackedDEBuff" hidden="true">
			<stack_type value="duration"/>
			<duration value="7"/>
			<effect_group>
				<passive_effect name="AttacksPerMinute" operation="perc_add" value="-.8"/>
				<passive_effect name="RunSpeed" operation="perc_subtract" value=".8"/>
				<passive_effect name="WalkSpeed" operation="perc_subtract" value=".8"/>
				<passive_effect name="CrouchSpeed" operation="perc_subtract" value=".8"/>
				<passive_effect name="JumpStrength" operation="perc_subtract" value=".8"/>
			</effect_group>
		</buff>

		<!-- 大锤 震荡 -->
		<buff name="buffMeleeHammerAoeAttack" hidden="true">
			<damage_type value="crushing"/>
			<stack_type value="replace"/>
			<update_rate value=".5"/>
			<duration value="5"/>
			<effect_group>
				<requirement name="CVarCompare" cvar="$buffMeleeHammerAoeAttack_count" operation="GTE" value="1"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" target="self" operation="subtract" value="@buffMeleeHammerAoeAttack">
					<requirement name="StatCompareCurrent" stat="Health" operation="GT" value="@buffMeleeHammerAoeAttack"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffMeleeHammerAoeAttack_count" operation="subtract" value="1"/>
			</effect_group>
		</buff>

		<!-- 拳套 欧拉欧拉 -->
		<buff name="buffMeleeKnucklesAttacked_0" name_key="buffMeleeKnucklesAttacked_0Name" description_key="buffMeleeKnucklesAttacked_0Desc" showonhud="true" icon="ui_game_symbol_boxer" icon_color="0,191,255">
			<stack_type value="ignore"/>
			<display_value value=".MeleeKnucklesAttacked_0"/>
			<display_value_key value="{0}"/>
		</buff>
		<!-- 拳套 木大木大 -->
		<buff name="buffMeleeKnucklesAttacked_1" name_key="buffMeleeKnucklesAttacked_1Name" description_key="buffMeleeKnucklesAttacked_1Desc" showonhud="true" icon="ui_game_symbol_boxer" icon_color="0,191,255">
			<stack_type value="ignore"/>
			<display_value value=".MeleeKnucklesAttacked_1"/>
			<display_value_key value="{0}"/>
		</buff>

	</append>



	<!-- 护甲套装BUFF -->
	<remove xpath="/buffs/buff[@name='buffLumberjackSetBonus' or @name='buffPreacherSetBonus' or @name='buffRogueSetBonus' or @name='buffAthleticSetBonus' or @name='buffEnforcerSetBonus']"/>
	<remove xpath="/buffs/buff[@name='buffFarmerSetBonus' or @name='buffBikerSetBonus' or @name='buffScavengerSetBonus' or @name='buffRangerSetBonus' or @name='buffCommandoSetBonus']"/>
	<remove xpath="/buffs/buff[@name='buffAssassinSetBonus' or @name='buffMinerSetBonus' or @name='buffNomadSetBonus' or @name='buffNerdSetBonus' or @name='buffRaiderSetBonus']"/>
	<append xpath="/buffs">

		<!-- 伐木工 -->
		<buff name="buffLumberjackSetBonus" name_key="buffLumberjackSetBonusName" description_key="buffLumberjackSetBonusDesc" icon="ui_game_symbol_armor_iron" icon_color="255,255,255">
			<stack_type value="ignore"/>
			<effect_group>
				<requirement name="ArmorGroupLowestQuality" group_name="groupLumberjack" operation="GTE" value="1"/>
				<passive_effect name="HarvestCount" operation="base_add" value=".2" tags="lumberjackHarvest"/>
			</effect_group>
		</buff>
		<!-- 传道者 -->
		<buff name="buffPreacherSetBonus" name_key="buffPreacherSetBonusName" description_key="buffPreacherSetBonusDesc" icon="ui_game_symbol_armor_iron" icon_color="255,255,255">
			<stack_type value="ignore"/>
			<effect_group>
				<requirement name="ArmorGroupLowestQuality" group_name="groupPreacher" operation="GTE" value="1"/>
                <passive_effect name="ExplosionBlockDamage" operation="perc_add" value=".2" tags="perkDemolitionsExpert,perkArchery"/>
                <passive_effect name="ExplosionEntityDamage" operation="perc_add" value=".2" tags="perkDemolitionsExpert,perkArchery"/>
			</effect_group>
		</buff>
		<!-- 盗贼 -->
		<buff name="buffRogueSetBonus" name_key="buffRogueSetBonusName" description_key="buffRogueSetBonusDesc" icon="ui_game_symbol_armor_iron" icon_color="255,255,255">
			<stack_type value="ignore"/>
			<effect_group>
				<requirement name="ArmorGroupLowestQuality" group_name="groupRogue" operation="GTE" value="1"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".2" tags="perkArchery"/>
			</effect_group>
		</buff>
		<!-- 运动员 -->
		<buff name="buffAthleticSetBonus" name_key="buffAthleticSetBonusName" description_key="buffAthleticSetBonusDesc" icon="ui_game_symbol_armor_iron" icon_color="255,255,255">
			<stack_type value="ignore"/>
			<effect_group>
				<requirement name="ArmorGroupLowestQuality" group_name="groupAthletic" operation="GTE" value="1"/>
				<requirement name="HoldingItemHasTags" tags="melee"/>
				<passive_effect name="MaxRange" operation="base_add" value=".5"/>
				<passive_effect name="BlockRange" operation="base_add" value=".5"/>
			</effect_group>
		</buff>
		<!-- 警官 -->
		<buff name="buffEnforcerSetBonus" name_key="buffEnforcerSetBonusName" description_key="buffEnforcerSetBonusDesc" icon="ui_game_symbol_armor_iron" icon_color="255,255,255">
			<stack_type value="ignore"/>
			<effect_group>
				<requirement name="ArmorGroupLowestQuality" group_name="groupEnforcer" operation="GTE" value="1"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".2" tags="perkGunslinger"/>
			</effect_group>
		</buff>

		<!-- 农夫 -->
		<buff name="buffFarmerSetBonus" name_key="buffFarmerSetBonusName" description_key="buffFarmerSetBonusDesc" icon="ui_game_symbol_armor_iron" icon_color="255,255,255">
			<stack_type value="ignore"/>
			<effect_group>
				<requirement name="ArmorGroupLowestQuality" group_name="groupFarmer" operation="GTE" value="1"/>
				<passive_effect name="HarvestCount" operation="base_add" value="1" tags="farmerBonusHarvest"/>
			</effect_group>
		</buff>
		<!-- 摩托车手 -->
		<buff name="buffBikerSetBonus" name_key="buffBikerSetBonusName" description_key="buffBikerSetBonusDesc" icon="ui_game_symbol_armor_iron" icon_color="255,255,255">
			<stack_type value="ignore"/>
			<effect_group>
				<requirement name="ArmorGroupLowestQuality" group_name="groupBiker" operation="GTE" value="1"/>
                <passive_effect name="EntityDamage" operation="perc_add" value=".2" tags="perkJavelinMaster,perkSalvageOperations,perkPummelPete,perkSkullCrusher,perkMiner69r,perkBrawler,perkDeepCuts,perkElectrocutioner"/>
			</effect_group>
		</buff>
		<!-- 拾荒者 -->
		<buff name="buffScavengerSetBonus" name_key="buffScavengerSetBonusName" description_key="buffScavengerSetBonusDesc" icon="ui_game_symbol_armor_iron" icon_color="255,255,255">
			<stack_type value="ignore"/>
			<effect_group>
				<requirement name="ArmorGroupLowestQuality" group_name="groupScavenger" operation="GTE" value="1"/>
				<passive_effect name="HarvestCount" operation="base_add" value=".2" tags="salvageHarvest"/>
			</effect_group>
		</buff>
		<!-- 护林员 -->
		<buff name="buffRangerSetBonus" name_key="buffRangerSetBonusName" description_key="buffRangerSetBonusDesc" icon="ui_game_symbol_armor_iron" icon_color="255,255,255">
			<stack_type value="ignore"/>
			<effect_group>
				<requirement name="ArmorGroupLowestQuality" group_name="groupRanger" operation="GTE" value="1"/>
				<passive_effect name="HarvestCount" operation="base_add" value=".2" tags="butcherHarvest"/>
			</effect_group>
		</buff>
		<!-- 指挥官 -->
		<buff name="buffCommandoSetBonus" name_key="buffCommandoSetBonusName" description_key="buffCommandoSetBonusDesc" icon="ui_game_symbol_armor_iron" icon_color="255,255,255">
			<stack_type value="ignore"/>
			<effect_group>
				<requirement name="ArmorGroupLowestQuality" group_name="groupCommando" operation="GTE" value="1"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".2" tags="perkMachineGunner"/>
			</effect_group>
		</buff>

		<!-- 刺客 -->
		<buff name="buffAssassinSetBonus" name_key="buffAssassinSetBonusName" description_key="buffAssassinSetBonusDesc" icon="ui_game_symbol_armor_iron" icon_color="255,255,255">
			<stack_type value="ignore"/>
			<effect_group>
				<requirement name="ArmorGroupLowestQuality" group_name="groupAssassin" operation="GTE" value="1"/>
				<requirement name="CVarCompare" cvar="_crouching" operation="Equals" value="1"/>
				<requirement name="EntityHasMovementTag" tags="running"/>
				<passive_effect name="NoiseMultiplier" operation="perc_add" value="-.999"/>
				<passive_effect name="SilenceBlockSteps" operation="base_set" value="1" tags="trashPile"/>
			</effect_group>
		</buff>
		<!-- 矿工 -->
		<buff name="buffMinerSetBonus" name_key="buffMinerSetBonusName" description_key="buffMinerSetBonusDesc" icon="ui_game_symbol_armor_iron" icon_color="255,255,255">
			<stack_type value="ignore"/>
			<effect_group>
				<requirement name="ArmorGroupLowestQuality" group_name="groupMiner" operation="GTE" value="1"/>
				<passive_effect name="HarvestCount" operation="base_add" value=".2" tags="marisaOreHarvest"/>
			</effect_group>
		</buff>
		<!-- 游牧民 -->
		<buff name="buffNomadSetBonus" name_key="buffNomadSetBonusName" description_key="buffNomadSetBonusDesc" icon="ui_game_symbol_armor_iron" icon_color="255,255,255">
			<stack_type value="ignore"/>
			<effect_group>
				<requirement name="ArmorGroupLowestQuality" group_name="groupNomad" operation="GTE" value="1"/>
                <passive_effect name="EntityDamage" operation="perc_add" value=".2" tags="perkDeadEye"/>
			</effect_group>
		</buff>
		<!-- 学霸 -->
		<buff name="buffNerdSetBonus" name_key="buffNerdSetBonusName" description_key="buffNerdSetBonusDesc" icon="ui_game_symbol_armor_iron" icon_color="255,255,255">
			<stack_type value="ignore"/>
			<effect_group>
				<requirement name="ArmorGroupLowestQuality" group_name="groupNerd" operation="GTE" value="1"/>
				<passive_effect name="PlayerExpGain" operation="perc_add" value=".2"/>
			</effect_group>
		</buff>
		<!-- 袭击者 -->
		<buff name="buffRaiderSetBonus" name_key="buffRaiderSetBonusName" description_key="buffRaiderSetBonusDesc" icon="ui_game_symbol_armor_iron" icon_color="255,255,255">
			<stack_type value="ignore"/>
			<effect_group>
				<requirement name="ArmorGroupLowestQuality" group_name="groupRaider" operation="GTE" value="1"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".2" tags="perkBoomstick"/>
			</effect_group>
		</buff>

		<!-- 游牧民 -->
<!--		<buff name="buffNomadSetBonus" name_key="buffNomadSetBonusName" description_key="buffNomadSetBonusDesc" tooltip_key="buffNomadSetBonusTooltip" icon="ui_game_symbol_armor_iron" icon_color="255,255,255">-->
<!--			<stack_type value="ignore"/>-->
<!--			<display_value_key value="Bonus"/>-->
<!--			<display_value value="xxx"/>-->

<!--			<effect_group>-->
<!--				<passive_effect name="HealthMax" operation="perc_add" value=".5"/>-->
<!--				&lt;!&ndash;				<passive_effect name="HealthMaxBlockage" operation="base_add" value="@.buffNomadSetHealthMaxBlockage"/>&ndash;&gt;-->
<!--			</effect_group>-->

<!--			<effect_group>-->
<!--				<requirements>-->
<!--					<requirement name="NotHasBuff" buff="buffNomadSetBonusStormCold"/>-->
<!--					<requirement name="ArmorGroupLowestQuality" group_name="groupNomad" operation="Equals" value="1"/>-->
<!--				</requirements>-->
<!--				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".armorNomadFSBDisplay" operation="set" value="5"/>-->
<!--				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".armorNomadFSBDisplay" operation="set" value="5"/>-->
<!--				<triggered_effect trigger="onSelfBuffRemove" action="RemoveCVar" cvar=".armorNomadFSBDisplay"/>-->
<!--				<passive_effect name="DamageModifier" operation="perc_add" value=".05"/>-->
<!--				&lt;!&ndash;				<triggered_effect trigger="onSelfDamagedOther" action="AddBuff" buff="buffNomadSetBonusStormCold"/>&ndash;&gt;-->
<!--			</effect_group>-->

<!--			<effect_group>-->
<!--				<requirements>-->
<!--					<requirement name="NotHasBuff" buff="buffNomadSetBonusStormCold"/>-->
<!--					<requirement name="ArmorGroupLowestQuality" group_name="groupNomad" operation="Equals" value="2"/>-->
<!--				</requirements>-->
<!--				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".armorNomadFSBDisplay" operation="set" value="10"/>-->
<!--				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".armorNomadFSBDisplay" operation="set" value="10"/>-->
<!--				<triggered_effect trigger="onSelfBuffRemove" action="RemoveCVar" cvar=".armorNomadFSBDisplay"/>-->
<!--				<passive_effect name="DamageModifier" operation="perc_add" value=".1"/>-->
<!--				&lt;!&ndash;				<triggered_effect trigger="onSelfDamagedOther" action="AddBuff" buff="buffNomadSetBonusStormCold"/>&ndash;&gt;-->
<!--			</effect_group>-->

<!--			<effect_group>-->
<!--				<requirements>-->
<!--					<requirement name="NotHasBuff" buff="buffNomadSetBonusStormCold"/>-->
<!--					<requirement name="ArmorGroupLowestQuality" group_name="groupNomad" operation="Equals" value="3"/>-->
<!--				</requirements>-->
<!--				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".armorNomadFSBDisplay" operation="set" value="15"/>-->
<!--				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".armorNomadFSBDisplay" operation="set" value="15"/>-->
<!--				<triggered_effect trigger="onSelfBuffRemove" action="RemoveCVar" cvar=".armorNomadFSBDisplay"/>-->
<!--				<passive_effect name="DamageModifier" operation="perc_add" value=".15"/>-->
<!--				&lt;!&ndash;				<triggered_effect trigger="onSelfDamagedOther" action="AddBuff" buff="buffNomadSetBonusStormCold"/>&ndash;&gt;-->
<!--			</effect_group>-->

<!--			<effect_group>-->
<!--				<requirements>-->
<!--					<requirement name="NotHasBuff" buff="buffNomadSetBonusStormCold"/>-->
<!--					<requirement name="ArmorGroupLowestQuality" group_name="groupNomad" operation="Equals" value="4"/>-->
<!--				</requirements>-->
<!--				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".armorNomadFSBDisplay" operation="set" value="20"/>-->
<!--				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".armorNomadFSBDisplay" operation="set" value="20"/>-->
<!--				<triggered_effect trigger="onSelfBuffRemove" action="RemoveCVar" cvar=".armorNomadFSBDisplay"/>-->
<!--				<passive_effect name="DamageModifier" operation="perc_add" value=".2"/>-->
<!--				&lt;!&ndash;				<triggered_effect trigger="onSelfDamagedOther" action="AddBuff" buff="buffNomadSetBonusStormCold"/>&ndash;&gt;-->
<!--			</effect_group>-->

<!--			<effect_group>-->
<!--				<requirements>-->
<!--					<requirement name="NotHasBuff" buff="buffNomadSetBonusStormCold"/>-->
<!--					<requirement name="ArmorGroupLowestQuality" group_name="groupNomad" operation="Equals" value="5"/>-->
<!--				</requirements>-->
<!--				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".armorNomadFSBDisplay" operation="set" value="25"/>-->
<!--				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".armorNomadFSBDisplay" operation="set" value="25"/>-->
<!--				<triggered_effect trigger="onSelfBuffRemove" action="RemoveCVar" cvar=".armorNomadFSBDisplay"/>-->
<!--				<passive_effect name="DamageModifier" operation="perc_add" value=".25"/>-->
<!--				&lt;!&ndash;				<triggered_effect trigger="onSelfDamagedOther" action="AddBuff" buff="buffNomadSetBonusStormCold"/>&ndash;&gt;-->
<!--			</effect_group>-->

<!--			<effect_group>-->
<!--				<requirements>-->
<!--					<requirement name="NotHasBuff" buff="buffNomadSetBonusStormCold"/>-->
<!--					<requirement name="ArmorGroupLowestQuality" group_name="groupNomad" operation="Equals" value="6"/>-->
<!--				</requirements>-->
<!--				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".armorNomadFSBDisplay" operation="set" value="30"/>-->
<!--				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".armorNomadFSBDisplay" operation="set" value="30"/>-->
<!--				<triggered_effect trigger="onSelfBuffRemove" action="RemoveCVar" cvar=".armorNomadFSBDisplay"/>-->
<!--				<passive_effect name="DamageModifier" operation="perc_add" value=".3"/>-->
<!--				&lt;!&ndash;				<triggered_effect trigger="onSelfDamagedOther" action="AddBuff" buff="buffNomadSetBonusStormCold"/>&ndash;&gt;-->
<!--			</effect_group>-->
<!--		</buff>-->
<!--		<buff name="buffNomadSetBonusStormCold" hidden="true">-->
<!--			<stack_type value="ignore"/>-->
<!--			<duration value="1"/>-->

<!--			<effect_group>-->
<!--				<triggered_effect trigger="onSelfBuffStart" action="ModifyStats" stat="Health" target="self" operation="add" value="@.armorNomadFSBDisplay"/>-->
<!--			</effect_group>-->
<!--		</buff>-->

		<!-- 学霸 -->
<!--		<buff name="buffNerdSetBonus" name_key="buffNerdSetBonusName" description_key="buffNerdSetBonusDesc" tooltip_key="buffNerdSetBonusTooltip" icon="ui_game_symbol_armor_iron" icon_color="255,255,255">-->
<!--			<stack_type value="ignore"/>-->
<!--			<display_value_key value="Bonus"/>-->
<!--			<display_value value="xxx"/>-->

<!--			<effect_group>-->
<!--				<requirements>-->
<!--					<requirement name="ArmorGroupLowestQuality" group_name="groupNerd" operation="Equals" value="1"/>-->
<!--				</requirements>-->
<!--				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".armorNerdFSBDisplay" operation="set" value="30"/>-->
<!--				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".armorNerdFSBDisplay" operation="set" value="30"/>-->
<!--				<triggered_effect trigger="onSelfBuffRemove" action="RemoveCVar" cvar=".armorNerdFSBDisplay"/>-->
<!--				<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" target="selfAOE" range="3" target_tags="animal,zombie" buff="buffShocked">-->
<!--					<requirement name="NotHasBuff" buff="buffNerdSetBonusShockedCold"/>-->
<!--				</triggered_effect>-->
<!--				<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" buff="buffNerdSetBonusShockedCold" duration="30"/>-->
<!--			</effect_group>-->

<!--			<effect_group>-->
<!--				<requirements>-->
<!--					<requirement name="ArmorGroupLowestQuality" group_name="groupNerd" operation="Equals" value="2"/>-->
<!--				</requirements>-->
<!--				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".armorNerdFSBDisplay" operation="set" value="25"/>-->
<!--				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".armorNerdFSBDisplay" operation="set" value="25"/>-->
<!--				<triggered_effect trigger="onSelfBuffRemove" action="RemoveCVar" cvar=".armorNerdFSBDisplay"/>-->
<!--				<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" target="selfAOE" range="3" target_tags="animal,zombie" buff="buffShocked">-->
<!--					<requirement name="NotHasBuff" buff="buffNerdSetBonusShockedCold"/>-->
<!--				</triggered_effect>-->
<!--				<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" buff="buffNerdSetBonusShockedCold" duration="25"/>-->
<!--			</effect_group>-->

<!--			<effect_group>-->
<!--				<requirements>-->
<!--					<requirement name="ArmorGroupLowestQuality" group_name="groupNerd" operation="Equals" value="3"/>-->
<!--				</requirements>-->
<!--				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".armorNerdFSBDisplay" operation="set" value="20"/>-->
<!--				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".armorNerdFSBDisplay" operation="set" value="20"/>-->
<!--				<triggered_effect trigger="onSelfBuffRemove" action="RemoveCVar" cvar=".armorNerdFSBDisplay"/>-->
<!--				<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" target="selfAOE" range="3" target_tags="animal,zombie" buff="buffShocked">-->
<!--					<requirement name="NotHasBuff" buff="buffNerdSetBonusShockedCold"/>-->
<!--				</triggered_effect>-->
<!--				<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" buff="buffNerdSetBonusShockedCold" duration="20"/>-->
<!--			</effect_group>-->

<!--			<effect_group>-->
<!--				<requirements>-->
<!--					<requirement name="ArmorGroupLowestQuality" group_name="groupNerd" operation="Equals" value="4"/>-->
<!--				</requirements>-->
<!--				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".armorNerdFSBDisplay" operation="set" value="16"/>-->
<!--				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".armorNerdFSBDisplay" operation="set" value="16"/>-->
<!--				<triggered_effect trigger="onSelfBuffRemove" action="RemoveCVar" cvar=".armorNerdFSBDisplay"/>-->
<!--				<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" target="selfAOE" range="3" target_tags="animal,zombie" buff="buffShocked">-->
<!--					<requirement name="NotHasBuff" buff="buffNerdSetBonusShockedCold"/>-->
<!--				</triggered_effect>-->
<!--				<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" buff="buffNerdSetBonusShockedCold" duration="16"/>-->
<!--			</effect_group>-->

<!--			<effect_group>-->
<!--				<requirements>-->
<!--					<requirement name="ArmorGroupLowestQuality" group_name="groupNerd" operation="Equals" value="5"/>-->
<!--				</requirements>-->
<!--				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".armorNerdFSBDisplay" operation="set" value="12"/>-->
<!--				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".armorNerdFSBDisplay" operation="set" value="12"/>-->
<!--				<triggered_effect trigger="onSelfBuffRemove" action="RemoveCVar" cvar=".armorNerdFSBDisplay"/>-->
<!--				<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" target="selfAOE" range="3" target_tags="animal,zombie" buff="buffShocked">-->
<!--					<requirement name="NotHasBuff" buff="buffNerdSetBonusShockedCold"/>-->
<!--				</triggered_effect>-->
<!--				<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" buff="buffNerdSetBonusShockedCold" duration="12"/>-->
<!--			</effect_group>-->

<!--			<effect_group>-->
<!--				<requirements>-->
<!--					<requirement name="ArmorGroupLowestQuality" group_name="groupNerd" operation="Equals" value="6"/>-->
<!--				</requirements>-->
<!--				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar=".armorNerdFSBDisplay" operation="set" value="8"/>-->
<!--				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".armorNerdFSBDisplay" operation="set" value="8"/>-->
<!--				<triggered_effect trigger="onSelfBuffRemove" action="RemoveCVar" cvar=".armorNerdFSBDisplay"/>-->
<!--				<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" target="selfAOE" range="3" target_tags="animal,zombie" buff="buffShocked">-->
<!--					<requirement name="NotHasBuff" buff="buffNerdSetBonusShockedCold"/>-->
<!--				</triggered_effect>-->
<!--				<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" buff="buffNerdSetBonusShockedCold" duration="8"/>-->
<!--			</effect_group>-->

<!--		</buff>-->
<!--		<buff name="buffNerdSetBonusShockedCold" name_key="buffNerdSetBonusShockedColdName" description_key="buffNerdSetBonusShockedColdDesc" showonhud="true" icon="ui_game_symbol_electric_power" icon_color="255,0,55">-->
<!--			<stack_type value="ignore"/>-->
<!--			<duration value="0"/>-->
<!--		</buff>-->
<!--		<buff name="buffNerdOutfitMarisa" hidden="true">-->
<!--			<stack_type value="ignore"/>-->
<!--			<duration value="0"/>-->
<!--			<effect_group>-->
<!--				&lt;!&ndash;				<passive_effect name="JunkTurretActiveRange" operation="base_add" value="@.buffNerdOutfitMarisa"/>&ndash;&gt;-->
<!--			</effect_group>-->
<!--		</buff>-->

		<!-- 晶石系统加倍 -->
		<buff name="buffT3SuitPerkMarisaMod2xStart" hidden="true">
			<stack_type value="replace"/>
			<duration value="4"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffT3SuitPerkMarisaMod2x"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffT3SuitPerkMarisaMod2x"/>
			</effect_group>
		</buff>
		<buff name="buffT3SuitPerkMarisaMod2x" name_key="buffT3SuitPerkMarisaMod2xName" description_key="buffT3SuitPerkMarisaMod2xDesc" icon="ui_game_symbol_diamond" icon_color="0,191,255">
			<stack_type value="replace"/>
			<duration value="0"/>
		</buff>

	</append>



	<!-- ** 本垒打德比 -->
	<remove xpath="/buffs/buff[@name='twitch_buffHomeRun']"/>
	<append xpath="/buffs">
		<buff name="twitch_buffHomeRun" name_key="TwitchBuff_HomerunDerby" description_key="TwitchBuff_HomerunDerbyDesc" icon="ui_game_symbol_twitch_homerun_derby" icon_color="175,175,255" remove_on_death="true">
			<stack_type value="ignore"/>
			<effect_group>
				<!-- Blinks the display -->
				<passive_effect name="BuffBlink" operation="base_set" value="2" duration="0,3" tags="twitch_buffHomeRun"/>
				<triggered_effect trigger="onSelfEnteredGame" action="RemoveBuff" buff="twitch_buffHomeRun"/>
			</effect_group>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ShowToolbeltMessage" message_key="ttTwitchHomerunStart" />
			</effect_group>
		</buff>
	</append>



	<!-- 敌对BUFF -->
	<append xpath="/buffs">

		<!-- 晶化丧尸伤害提升 -->
		<buff name="buffMarisaDamageEffectsCrystallization" hidden="true">
			<stack_type value="replace"/>
			<duration value="0"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="base_add" value="20"/>
				<passive_effect name="BlockDamage" operation="base_add" value="50"/>
				<triggered_effect trigger="onSelfDied" action="RemoveBuff" buff="buffMarisaDamageEffectsCrystallization"/>
			</effect_group>
		</buff>

		<!-- 狂化丧尸伤害提升 -->
		<buff name="buffMarisaDamageEffectsBerserk" hidden="true">
			<stack_type value="replace"/>
			<duration value="0"/>
			<effect_group>
				<passive_effect name="EntityDamage" operation="base_add" value="40"/>
				<passive_effect name="BlockDamage" operation="base_add" value="150"/>
				<triggered_effect trigger="onSelfDied" action="RemoveBuff" buff="buffMarisaDamageEffectsBerserk"/>
			</effect_group>
		</buff>

		<!-- BOSS每秒随机移除自身控制 -->
		<buff name="buffZombieBossRandomRollRemoveDeBuff">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<duration value="0"/>
			<effect_group>
				<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="35"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffShocked"/>
			</effect_group>
		</buff>
		<buff name="buffZombieBossRandomRollRemoveDeBuff2">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<duration value="0"/>
			<effect_group>
				<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="50"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffShocked"/>
			</effect_group>
		</buff>
		<buff name="buffZombieBossRandomRollRemoveDeBuff3" hidden="true">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<duration value="0"/>
			<effect_group>
				<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="65"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffShocked"/>
			</effect_group>
		</buff>

		<!-- BOSS 狂暴 -->
		<buff name="buffZombieBossAngerCount">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<duration value="0"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="ModifyCVar" cvar="buffZombieBossAngerCvar" operation="set" value="45"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="buffZombieBossAngerCvar" operation="add" value="1">
					<requirement name="CVarCompare" cvar="buffZombieBossAngerCvar" operation="LT" value="60"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffZombieBossAnger">
					<requirement name="CVarCompare" cvar="buffZombieBossAngerCvar" operation="GTE" value="60"/>
				</triggered_effect>
			</effect_group>
			<effect_group>
				<triggered_effect trigger="onSelfRangedBurstShotStart" action="ModifyCVar" cvar="buffZombieBossAngerCvar" operation="set" value="0">
					<requirement name="CVarCompare" cvar="buffZombieBossAngerCvar" operation="LT" value="20"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfRangedBurstShotStart" action="ModifyCVar" cvar="buffZombieBossAngerCvar" operation="add" value="-20">
					<requirement name="CVarCompare" cvar="buffZombieBossAngerCvar" operation="GTE" value="20"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffZombieBossAnger">
					<requirement name="CVarCompare" cvar="buffZombieBossAngerCvar" operation="LTE" value="5"/>
				</triggered_effect>
			</effect_group>
			<effect_group>
				<requirement name="NotHasBuff" buff="buffZombieBossAnger"/>
				<triggered_effect trigger="onSelfBuffUpdate" action="RemoveParticleEffectFromEntity" particle="RadiatedParticlesOnMesh"/>
			</effect_group>
		</buff>
		<buff name="buffZombieBossAnger">
			<stack_type value="replace"/>
			<effect_group>
				<passive_effect name="GeneralDamageResist" operation="base_set" value=".95"/>
				<passive_effect name="BuffResistance" operation="base_set" value="5" tags="buffInjuryKnockdown01,buffInjuryKnockdown02,buffShocked"/>
				<triggered_effect trigger="onSelfBuffStart" action="AddBuff" buff="buffMarisaRadiatedParticlesOnMesh"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveBuff" buff="buffMarisaRadiatedParticlesOnMesh"/>
				<triggered_effect trigger="onSelfDied" action="RemoveBuff" buff="buffMarisaRadiatedParticlesOnMesh"/>
			</effect_group>
		</buff>

		<!-- 院长 -->
		<buff name="buffZombieBossResearchInstituteLeader" hidden="true">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<duration value="3"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="CallGameEvent" target="self" event="EventZombieBossResearchInstituteLeader"/>
			</effect_group>
		</buff>
		<buff name="buffZombieBossResearchInstituteLeaderCrystallization" hidden="true">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<duration value="3"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="CallGameEvent" target="self" event="EventZombieBossResearchInstituteLeaderCrystallization"/>
			</effect_group>
		</buff>
		<buff name="buffZombieBossResearchInstituteLeaderBerserk" hidden="true">
			<stack_type value="ignore"/>
			<update_rate value="1"/>
			<duration value="3"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="CallGameEvent" target="self" event="EventZombieBossResearchInstituteLeaderBerserk"/>
			</effect_group>
		</buff>

	</append>

	<!-- 粒子BUFF -->
	<append xpath="/buffs">

		<!-- 蓝色电火花（只有一瞬） -->
		<buff name="buffMarisaElectricFenceSparks" hidden="true">
			<stack_type value="replace"/>
			<duration value="1"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_electric_fence_sparks" local_offset="0,0.75,0" parent_transform="Head"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="p_electric_fence_sparks"/>
			</effect_group>
		</buff>
		<!-- 黄绿色闪烁烟花团 -->
		<buff name="buffMarisaRadiatedParticlesOnMesh" hidden="true">
			<stack_type value="replace"/>
			<duration value="0"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="RadiatedParticlesOnMesh" local_offset="0,-.5,-.25" parent_transform=".body"/>
				<triggered_effect trigger="onSelfBuffRemove" action="RemoveParticleEffectFromEntity" particle="RadiatedParticlesOnMesh"/>
				<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="RadiatedParticlesOnMesh"/>
			</effect_group>
		</buff>
		<!-- 白色烟雾团 -->
		<buff name="buffMarisaSmoke_Unlit" hidden="true">
			<stack_type value="replace"/>
			<duration value="0"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="Smoke_Unlit" local_offset="0,1.25,0"/>
				<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="Smoke_Unlit"/>
			</effect_group>
		</buff>
		<!-- 明亮大火焰 -->
		<buff name="buffMarisaBurning_barrel" hidden="true">
			<stack_type value="replace"/>
			<duration value="0"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_burning_barrel" local_offset="0,0.75,0"/>
				<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="p_burning_barrel"/>
			</effect_group>
		</buff>
		<!-- 耀斑 -->
		<buff name="buffMarisaP_smoke" hidden="true">
			<stack_type value="replace"/>
			<duration value="0"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_smoke" local_offset="0,-0.25,0" parent_transform="Head"/>
				<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="p_smoke"/>
			</effect_group>
		</buff>
		<!-- 烽火烟 -->
		<buff name="buffMarisaP_signal_flarePrefab" hidden="true">
			<stack_type value="replace"/>
			<duration value="0"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_signal_flarePrefab" local_offset="0,0.75,0"/>
				<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="p_signal_flarePrefab"/>
			</effect_group>
		</buff>
		<!-- 大范围瘴气烟幕（浅色） -->
		<buff name="buffMarisaP_smokestorm" hidden="true">
			<stack_type value="replace"/>
			<duration value="0"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_smokestorm" local_offset="0,1,0"/>
				<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="p_smokestorm"/>
			</effect_group>
		</buff>
		<!-- 大范围暴风雪烟幕（浅白色） -->
		<buff name="buffMarisaP_snowstorm1" hidden="true">
			<stack_type value="replace"/>
			<duration value="0"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_snowstorm1" local_offset="0,1,0"/>
				<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="p_snowstorm1"/>
			</effect_group>
		</buff>
		<!-- 丧尸手部电击效果 -->
		<buff name="buffMarisaTwitchZombieShock" hidden="true">
			<stack_type value="replace"/>
			<duration value="0"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_twitch_zombie_shock_left" parent_transform="LeftHand" />
				<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_twitch_zombie_shock_right" parent_transform="RightHand"  />

				<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="p_twitch_zombie_shock_left"/>
				<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="p_twitch_zombie_shock_right"/>
			</effect_group>
		</buff>
		<!-- 电击效果（有声音） -->
		<buff name="buffMarisaElectricShock" hidden="true">
			<stack_type value="replace"/>
			<duration value="0"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_electric_shock" local_offset="0,0,0" parent_transform=".body"/>
				<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="p_electric_shock"/>
			</effect_group>
		</buff>

	</append>

	<!-- 模型BUFF -->
	<append xpath="/buffs">

		<!-- 纵火犯 -->
		<buff name="zombieBossArsonistDeco" hidden="true">
			<stack_type value="replace"/>
			<duration value="0"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" prefab="@:Entities/Industrial/barrelOilPrefab.prefab" local_offset=".45,.25,-.15" local_rotation="0,0,0" parent_transform="Spine"/>
				<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" prefab="@:Entities/Industrial/barrelGasPrefab.prefab" local_offset="-.15,.25,-.15" local_rotation="0,0,0" parent_transform="Spine"/>
			</effect_group>
		</buff>
		<!-- 攻城爬行者 -->
		<buff name="zombieBossSteveCrawlerDeco">
			<stack_type value="replace"/>
			<duration value="0"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" prefab="@:Entities/Industrial/liftHydraulicPrefab.prefab" local_offset="0,-0.567,-0.194" local_rotation="0,0,0" local_scale="0.3,0.4,0.4" parent_transform="Spine3"/>
				<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" prefab="@:Entities/Electrical/satelliteUnitLargePrefab.prefab" local_offset="0.092,-0.7032,-0.2591" local_rotation="-90,0,0" local_scale="0.1,0.1,0.1" parent_transform="Spine3"/>
				<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" prefab="@:Entities/Electrical/motionSensorStraightPOIPrefab.prefab" local_offset="0,0.453,-0.137" local_rotation="-90,0,0" local_scale="0.4,0.4,0.4" parent_transform="Spine3"/>
				<triggered_effect trigger="onSelfDied" action="RemovePrefabFromEntity" prefab="satelliteUnitLargePrefab" parent_transform="Spine3" />
				<triggered_effect trigger="onSelfBuffRemove" action="RemovePrefabFromEntity" prefab="satelliteUnitLargePrefab" parent_transform="Spine3" />

				<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" prefab="@:Entities/Industrial/pipeSmall_1x1Prefab.prefab" local_offset="0,0.288,-0.288" local_rotation="0,0,0" local_scale="0.3,0.3,0.103" parent_transform="Spine3"/>
				<triggered_effect trigger="onSelfDied" action="RemovePrefabFromEntity" prefab="pipeSmall_1x1Prefab" parent_transform="Spine3" />
				<triggered_effect trigger="onSelfBuffRemove" action="RemovePrefabFromEntity" prefab="pipeSmall_1x1Prefab" parent_transform="Spine3" />

				<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" prefab="@:Entities/Industrial/pipeSmallValve02SwitchPrefab.prefab" local_offset="-0.072,-0.8,0.064" local_rotation="-25.172,32.42,0" local_scale="0.2,0.2,0.2" parent_transform="Spine3"/>
				<triggered_effect trigger="onSelfDied" action="RemovePrefabFromEntity" prefab="pipeSmallValve02SwitchPrefab" parent_transform="Spine3" />
				<triggered_effect trigger="onSelfBuffRemove" action="RemovePrefabFromEntity" prefab="pipeSmallValve02SwitchPrefab" parent_transform="Spine3" />

				<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" prefab="@:Entities/Industrial/pipeSmallValvePrefab.prefab" local_offset="0.1,-0.709,0.034" local_rotation="-25.516,-33.123,0" local_scale="0.2,0.2,0.2" parent_transform="Spine3"/>
				<triggered_effect trigger="onSelfDied" action="RemovePrefabFromEntity" prefab="pipeSmallValvePrefab" parent_transform="Spine3" />
				<triggered_effect trigger="onSelfBuffRemove" action="RemovePrefabFromEntity" prefab="pipeSmallValvePrefab" parent_transform="Spine3" />

				<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" prefab="@:Entities/Electrical/smallGeneratorPrefab.prefab" local_offset="-0.0952,-0.6872,-0.3571" local_rotation="0,90,-90" local_scale="0.2,0.2,0.2" parent_transform="Spine3"/>
				<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" prefab="@:Other/Items/Weapons/Ranged/RocketLauncher/rocketlauncherPrefab.prefab" local_offset="0,-0.14,-0.408" local_rotation="-90,0,0" local_scale="1,1,1" parent_transform="Spine3"/>
			</effect_group>
		</buff>
		<!-- 院长 -->
		<buff name="zombieBossResearchInstituteLeaderDeco" >
			<stack_type value="replace"/>
			<duration value="0"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" prefab="@:Other/Items/Tools/hoe_ironPrefab.prefab" local_offset="-0.111,0.189,-0.232" local_rotation="0,0,30.321" local_scale="1,1,1" parent_transform="Spine3"/>
				<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" prefab="@:Other/Items/Tools/shovel_ironPrefab.prefab" local_offset="0.045,-0.246,-0.236" local_rotation="0,0,38.826" local_scale="1,1,1" parent_transform="Spine3"/>
				<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" prefab="@:Other/Items/Tools/hammerPrefab.prefab" local_offset="-0.226,-0.287,0" local_rotation="0,0,0" local_scale="1,1,1" parent_transform="Spine1"/>
				<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" prefab="@:Other/Items/Weapons/Melee/Knives/hunting_knifePrefab.prefab" local_offset="0.221,0.027,0.004" local_rotation="166.226,-0.72,-8.731" local_scale="1,1,1.5" parent_transform="Spine1"/>
				<triggered_effect trigger="onSelfBuffStart" action="AttachPrefabToEntity" prefab="@:Other/Items/Tools/nailgunPrefab.prefab" local_offset="0.17,0.035,-0.038" local_rotation="180,0,180" local_scale="2,2,2" parent_transform="RightHand"/>
			</effect_group>
		</buff>

	</append>



	<!-- 特效BUFF -->
	<append xpath="/buffs">

		<!-- 晶化丧尸特效 -->
		<buff name="buffMarisaTwitchZombieFireLeft" hidden="true">
			<stack_type value="replace"/>
			<duration value="0"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_twitch_zombie_fire_left" local_offset="0.02,0.16,0.03" parent_transform="Head"/>
				<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="p_twitch_zombie_fire_left"/>
			</effect_group>
		</buff>

		<!-- 狂化丧尸特效 -->
		<buff name="buffMarisaTwitchZombieRadiationLeft" hidden="true">
			<stack_type value="replace"/>
			<duration value="0"/>
			<effect_group>
				<triggered_effect trigger="onSelfBuffStart" action="AttachParticleEffectToEntity" particle="p_twitch_zombie_radiation_left" local_offset="-0.08,0.12,0.03" parent_transform="Head"/>
				<triggered_effect trigger="onSelfDied" action="RemoveParticleEffectFromEntity" particle="p_twitch_zombie_radiation_left"/>
			</effect_group>
		</buff>

	</append>

</Marisa>
